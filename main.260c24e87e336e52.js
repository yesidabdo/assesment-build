(self.webpackChunkassessment=self.webpackChunkassessment||[]).push([[179],{2011:(de,te,R)=>{"use strict";R.d(te,{Dh:()=>le,GT:()=>ee,cc:()=>Fe,hO:()=>Ae,on:()=>G,pX:()=>ne,xv:()=>se});var c=R(4650),M=R(9260),N=R(263);de=R.hmd(de);const ae=["ngOnDestroy"],ne=(Ne,Pe,Be,je={})=>new Proxy(Ne,{get:($e,ze)=>Be.runOutsideAngular(()=>{var at;if(Ne[ze])return!(null===(at=je?.spy)||void 0===at)&&at.get&&je.spy.get(ze,Ne[ze]),Ne[ze];if(ae.indexOf(ze)>-1)return()=>{};const be=Pe.toPromise().then(Re=>{const Ge=Re&&Re[ze];return"function"==typeof Ge?Ge.bind(Re):Ge&&Ge.then?Ge.then(ge=>Be.run(()=>ge)):Be.run(()=>Ge)});return new Proxy(()=>{},{get:(Re,Ge)=>be[Ge],apply:(Re,Ge,ge)=>be.then(ye=>{var Le;const Te=ye&&ye(...ge);return!(null===(Le=je?.spy)||void 0===Le)&&Le.apply&&je.spy.apply(ze,ge,Te),Te})})})}),ee=(Ne,Pe)=>{Pe.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(je=>{Object.defineProperty(Ne.prototype,je,Object.getOwnPropertyDescriptor(Be.prototype||Be,je))})})};class he{constructor(Pe){return Pe}}const le=new c.OlP("angularfire2.app.options"),se=new c.OlP("angularfire2.app.name");function G(Ne,Pe,Be){const $e="object"==typeof Be&&Be||{};$e.name=$e.name||"string"==typeof Be&&Be||"[DEFAULT]";const at=M.Z.apps.filter(be=>be&&be.name===$e.name)[0]||Pe.runOutsideAngular(()=>M.Z.initializeApp(Ne,$e));try{JSON.stringify(Ne)!==JSON.stringify(at.options)&&W("error",`${at.name} Firebase App already initialized with different options${de.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(at)}const W=(Ne,...Pe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ne](...Pe)},re={provide:he,useFactory:G,deps:[le,c.R0b,[new c.FiY,se]]};let Ae=(()=>{class Ne{constructor(Be){M.Z.registerVersion("angularfire",N.q4.full,"core"),M.Z.registerVersion("angularfire",N.q4.full,"app-compat"),M.Z.registerVersion("angular",c.q4F.full,Be.toString())}static initializeApp(Be,je){return{ngModule:Ne,providers:[{provide:le,useValue:Be},{provide:se,useValue:je}]}}}return Ne.\u0275fac=function(Be){return new(Be||Ne)(c.LFG(c.Lbi))},Ne.\u0275mod=c.oAB({type:Ne}),Ne.\u0275inj=c.cJS({providers:[re]}),Ne})();function Fe(Ne,Pe,Be,je,$e){const[,ze,at]=globalThis.\u0275AngularfireInstanceCache.find(be=>be[0]===Ne)||[];if(ze)return function Xe(Ne,Pe){try{return Ne.toString()===Pe.toString()}catch{return Ne===Pe}}($e,at)||(ke("error",`${Pe} was already initialized on the ${Be} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),ke("warn",{is:$e,was:at})),ze;{const be=je();return globalThis.\u0275AngularfireInstanceCache.push([Ne,be,$e]),be}}const ot=!!de.hot,ke=(Ne,...Pe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ne](...Pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},263:(de,te,R)=>{"use strict";R.d(te,{q4:()=>Tm,iC:()=>Lo,fc:()=>jc,HU:()=>Zr,vb:()=>bd,JM:()=>ku,u3:()=>Ra});var c=R(4650),M=R(259),N=R(5861),ae=R(9681),ne=R(2090),ee=R(4859),he=R(1877),le=R(8766);const se="@firebase/installations",G="0.6.0",re=`w:${G}`,Ae="FIS_v2",Pe=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Be(T){return T instanceof ne.ZR&&T.code.includes("request-failed")}function je({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function $e(T){return{token:T.token,requestStatus:2,expiresIn:ye(T.expiresIn),creationTime:Date.now()}}function ze(T,k){return at.apply(this,arguments)}function at(){return(at=(0,N.Z)(function*(T,k){const J=(yield k.json()).error;return Pe.create("request-failed",{requestName:T,serverCode:J.code,serverMessage:J.message,serverStatus:J.status})})).apply(this,arguments)}function be({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function Re(T,{refreshToken:k}){const U=be(T);return U.append("Authorization",function Le(T){return`${Ae} ${T}`}(k)),U}function Ge(T){return ge.apply(this,arguments)}function ge(){return(ge=(0,N.Z)(function*(T){const k=yield T();return k.status>=500&&k.status<600?T():k})).apply(this,arguments)}function ye(T){return Number(T.replace("s","000"))}function Te(T,k){return lt.apply(this,arguments)}function lt(){return(lt=(0,N.Z)(function*({appConfig:T,heartbeatServiceProvider:k},{fid:U}){const J=je(T),_e=be(T),Ie=k.getImmediate({optional:!0});if(Ie){const zt=yield Ie.getHeartbeatsHeader();zt&&_e.append("x-firebase-client",zt)}const Ot={method:"POST",headers:_e,body:JSON.stringify({fid:U,authVersion:Ae,appId:T.appId,sdkVersion:re})},Pt=yield Ge(()=>fetch(J,Ot));if(Pt.ok){const zt=yield Pt.json();return{fid:zt.fid||U,registrationStatus:2,refreshToken:zt.refreshToken,authToken:$e(zt.authToken)}}throw yield ze("Create Installation",Pt)})).apply(this,arguments)}function it(T){return new Promise(k=>{setTimeout(k,T)})}const Hn=/^[cdef][\w-]{21}$/;function Lt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const U=function yn(T){return function kt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Hn.test(U)?U:""}catch{return""}}function jt(T){return`${T.appName}!${T.appId}`}const jn=new Map;function ur(T,k){const U=jt(T);yi(U,k),function kr(T,k){const U=function Jn(){return!Vr&&"BroadcastChannel"in self&&(Vr=new BroadcastChannel("[Firebase] FID Change"),Vr.onmessage=T=>{yi(T.data.key,T.data.fid)}),Vr}();U&&U.postMessage({key:T,fid:k}),function qi(){0===jn.size&&Vr&&(Vr.close(),Vr=null)}()}(U,k)}function yi(T,k){const U=jn.get(T);if(U)for(const J of U)J(k)}let Vr=null;const gr="firebase-installations-store";let Ki=null;function Qr(){return Ki||(Ki=(0,le.X3)("firebase-installations-database",1,{upgrade:(T,k)=>{0===k&&T.createObjectStore(gr)}})),Ki}function Gn(T,k){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,N.Z)(function*(T,k){const U=jt(T),_e=(yield Qr()).transaction(gr,"readwrite"),Ie=_e.objectStore(gr),rt=yield Ie.get(U);return yield Ie.put(k,U),yield _e.done,(!rt||rt.fid!==k.fid)&&ur(T,k.fid),k})).apply(this,arguments)}function Ct(T){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,N.Z)(function*(T){const k=jt(T),J=(yield Qr()).transaction(gr,"readwrite");yield J.objectStore(gr).delete(k),yield J.done})).apply(this,arguments)}function Hr(T,k){return ir.apply(this,arguments)}function ir(){return(ir=(0,N.Z)(function*(T,k){const U=jt(T),_e=(yield Qr()).transaction(gr,"readwrite"),Ie=_e.objectStore(gr),rt=yield Ie.get(U),Ot=k(rt);return void 0===Ot?yield Ie.delete(U):yield Ie.put(Ot,U),yield _e.done,Ot&&(!rt||rt.fid!==Ot.fid)&&ur(T,Ot.fid),Ot})).apply(this,arguments)}function Jr(T){return jr.apply(this,arguments)}function jr(){return(jr=(0,N.Z)(function*(T){let k;const U=yield Hr(T.appConfig,J=>{const _e=tn(J),Ie=Ft(T,_e);return k=Ie.registrationPromise,Ie.installationEntry});return""===U.fid?{installationEntry:yield k}:{installationEntry:U,registrationPromise:k}})).apply(this,arguments)}function tn(T){return Or(T||{fid:Lt(),registrationStatus:0})}function Ft(T,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(Pe.create("app-offline"))};const U={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},J=function Wt(T,k){return Wn.apply(this,arguments)}(T,U);return{installationEntry:U,registrationPromise:J}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:zr(T)}:{installationEntry:k}}function Wn(){return(Wn=(0,N.Z)(function*(T,k){try{const U=yield Te(T,k);return Gn(T.appConfig,U)}catch(U){throw Be(U)&&409===U.customData.serverCode?yield Ct(T.appConfig):yield Gn(T.appConfig,{fid:k.fid,registrationStatus:0}),U}})).apply(this,arguments)}function zr(T){return _r.apply(this,arguments)}function _r(){return(_r=(0,N.Z)(function*(T){let k=yield hi(T.appConfig);for(;1===k.registrationStatus;)yield it(100),k=yield hi(T.appConfig);if(0===k.registrationStatus){const{installationEntry:U,registrationPromise:J}=yield Jr(T);return J||U}return k})).apply(this,arguments)}function hi(T){return Hr(T,k=>{if(!k)throw Pe.create("installation-not-found");return Or(k)})}function Or(T){return function Zi(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function cn(T,k){return po.apply(this,arguments)}function po(){return(po=(0,N.Z)(function*({appConfig:T,heartbeatServiceProvider:k},U){const J=vn(T,U),_e=Re(T,U),Ie=k.getImmediate({optional:!0});if(Ie){const zt=yield Ie.getHeartbeatsHeader();zt&&_e.append("x-firebase-client",zt)}const Ot={method:"POST",headers:_e,body:JSON.stringify({installation:{sdkVersion:re,appId:T.appId}})},Pt=yield Ge(()=>fetch(J,Ot));if(Pt.ok)return $e(yield Pt.json());throw yield ze("Generate Auth Token",Pt)})).apply(this,arguments)}function vn(T,{fid:k}){return`${je(T)}/${k}/authTokens:generate`}function Ti(T){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,N.Z)(function*(T,k=!1){let U;const J=yield Hr(T.appConfig,Ie=>{if(!In(Ie))throw Pe.create("not-registered");const rt=Ie.authToken;if(!k&&ce(rt))return Ie;if(1===rt.requestStatus)return U=ht(T,k),Ie;{if(!navigator.onLine)throw Pe.create("app-offline");const Ot=fe(Ie);return U=qt(T,Ot),Ot}});return U?yield U:J.authToken})).apply(this,arguments)}function ht(T,k){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,N.Z)(function*(T,k){let U=yield bt(T.appConfig);for(;1===U.authToken.requestStatus;)yield it(100),U=yield bt(T.appConfig);const J=U.authToken;return 0===J.requestStatus?Ti(T,k):J})).apply(this,arguments)}function bt(T){return Hr(T,k=>{if(!In(k))throw Pe.create("not-registered");return function X(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function qt(T,k){return en.apply(this,arguments)}function en(){return(en=(0,N.Z)(function*(T,k){try{const U=yield cn(T,k),J=Object.assign(Object.assign({},k),{authToken:U});return yield Gn(T.appConfig,J),U}catch(U){if(!Be(U)||401!==U.customData.serverCode&&404!==U.customData.serverCode){const J=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield Gn(T.appConfig,J)}else yield Ct(T.appConfig);throw U}})).apply(this,arguments)}function In(T){return void 0!==T&&2===T.registrationStatus}function ce(T){return 2===T.requestStatus&&!function ie(T){const k=Date.now();return k<T.creationTime||T.creationTime+T.expiresIn<k+36e5}(T)}function fe(T){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:k})}function q(){return(q=(0,N.Z)(function*(T){const k=T,{installationEntry:U,registrationPromise:J}=yield Jr(k);return J?J.catch(console.error):Ti(k).catch(console.error),U.fid})).apply(this,arguments)}function tt(){return(tt=(0,N.Z)(function*(T,k=!1){const U=T;return yield Rt(U),(yield Ti(U,k)).token})).apply(this,arguments)}function Rt(T){return _t.apply(this,arguments)}function _t(){return(_t=(0,N.Z)(function*(T){const{registrationPromise:k}=yield Jr(T);k&&(yield k)})).apply(this,arguments)}function Va(T){return Pe.create("missing-app-config-values",{valueName:T})}const al="installations",ua=T=>{const k=T.getProvider("app").getImmediate(),U=function la(T){if(!T||!T.options)throw Va("App Configuration");if(!T.name)throw Va("App Name");const k=["projectId","apiKey","appId"];for(const U of k)if(!T.options[U])throw Va(U);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(k);return{app:k,appConfig:U,heartbeatServiceProvider:(0,ae._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},xc=T=>{const k=T.getProvider("app").getImmediate(),U=(0,ae._getProvider)(k,al).getImmediate();return{getId:()=>function V(T){return q.apply(this,arguments)}(U),getToken:_e=>function Me(T){return tt.apply(this,arguments)}(U,_e)}};(function da(){(0,ae._registerComponent)(new ee.wA(al,ua,"PUBLIC")),(0,ae._registerComponent)(new ee.wA("installations-internal",xc,"PRIVATE"))})(),(0,ae.registerVersion)(se,G),(0,ae.registerVersion)(se,G,"esm2017");const ha="@firebase/remote-config",Fr=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class K{constructor(k,U,J,_e){this.client=k,this.storage=U,this.storageCache=J,this.logger=_e}isCachedDataFresh(k,U){if(!U)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const J=Date.now()-U,_e=J<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${J}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${_e}.`),_e}fetch(k){var U=this;return(0,N.Z)(function*(){const[J,_e]=yield Promise.all([U.storage.getLastSuccessfulFetchTimestampMillis(),U.storage.getLastSuccessfulFetchResponse()]);if(_e&&U.isCachedDataFresh(k.cacheMaxAgeMillis,J))return _e;k.eTag=_e&&_e.eTag;const Ie=yield U.client.fetch(k),rt=[U.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ie.status&&rt.push(U.storage.setLastSuccessfulFetchResponse(Ie)),yield Promise.all(rt),Ie})()}}function Ce(T=navigator){return T.languages&&T.languages[0]||T.language}class ve{constructor(k,U,J,_e,Ie,rt){this.firebaseInstallations=k,this.sdkVersion=U,this.namespace=J,this.projectId=_e,this.apiKey=Ie,this.appId=rt}fetch(k){var U=this;return(0,N.Z)(function*(){const[J,_e]=yield Promise.all([U.firebaseInstallations.getId(),U.firebaseInstallations.getToken()]),rt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${U.projectId}/namespaces/${U.namespace}:fetch?key=${U.apiKey}`,Ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},Pt={sdk_version:U.sdkVersion,app_instance_id:J,app_instance_id_token:_e,app_id:U.appId,language_code:Ce()},zt={method:"POST",headers:Ot,body:JSON.stringify(Pt)},An=fetch(rt,zt),Nt=new Promise((ci,Jo)=>{k.signal.addEventListener(()=>{const ni=new Error("The operation was aborted.");ni.name="AbortError",Jo(ni)})});let si;try{yield Promise.race([An,Nt]),si=yield An}catch(ci){let Jo="fetch-client-network";throw"AbortError"===ci?.name&&(Jo="fetch-timeout"),Fr.create(Jo,{originalErrorMessage:ci?.message})}let _n=si.status;const ai=si.headers.get("ETag")||void 0;let Ks,Ts;if(200===si.status){let ci;try{ci=yield si.json()}catch(Jo){throw Fr.create("fetch-client-parse",{originalErrorMessage:Jo?.message})}Ks=ci.entries,Ts=ci.state}if("INSTANCE_STATE_UNSPECIFIED"===Ts?_n=500:"NO_CHANGE"===Ts?_n=304:("NO_TEMPLATE"===Ts||"EMPTY_CONFIG"===Ts)&&(Ks={}),304!==_n&&200!==_n)throw Fr.create("fetch-status",{httpStatus:_n});return{status:_n,eTag:ai,config:Ks}})()}}class mt{constructor(k,U){this.client=k,this.storage=U}fetch(k){var U=this;return(0,N.Z)(function*(){const J=(yield U.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return U.attemptFetch(k,J)})()}attemptFetch(k,{throttleEndTimeMillis:U,backoffCount:J}){var _e=this;return(0,N.Z)(function*(){yield function Oe(T,k){return new Promise((U,J)=>{const _e=Math.max(k-Date.now(),0),Ie=setTimeout(U,_e);T.addEventListener(()=>{clearTimeout(Ie),J(Fr.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,U);try{const Ie=yield _e.client.fetch(k);return yield _e.storage.deleteThrottleMetadata(),Ie}catch(Ie){if(!function nt(T){if(!(T instanceof ne.ZR&&T.customData))return!1;const k=Number(T.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Ie))throw Ie;const rt={throttleEndTimeMillis:Date.now()+(0,ne.$s)(J),backoffCount:J+1};return yield _e.storage.setThrottleMetadata(rt),_e.attemptFetch(k,rt)}})()}}class fr{constructor(k,U,J,_e,Ie){this.app=k,this._client=U,this._storageCache=J,this._storage=_e,this._logger=Ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Lr(T,k){const U=T.target.error||void 0;return Fr.create(k,{originalErrorMessage:U&&U?.message})}const Sn="app_namespace_store";class Ri{constructor(k,U,J,_e=function Yi(){return new Promise((T,k)=>{try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=J=>{k(Lr(J,"storage-open"))},U.onsuccess=J=>{T(J.target.result)},U.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(Sn,{keyPath:"compositeKey"})}}catch(U){k(Fr.create("storage-open",{originalErrorMessage:U?.message}))}})}()){this.appId=k,this.appName=U,this.namespace=J,this.openDbPromise=_e}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var U=this;return(0,N.Z)(function*(){const J=yield U.openDbPromise;return new Promise((_e,Ie)=>{const Ot=J.transaction([Sn],"readonly").objectStore(Sn),Pt=U.createCompositeKey(k);try{const zt=Ot.get(Pt);zt.onerror=An=>{Ie(Lr(An,"storage-get"))},zt.onsuccess=An=>{const Nt=An.target.result;_e(Nt?Nt.value:void 0)}}catch(zt){Ie(Fr.create("storage-get",{originalErrorMessage:zt?.message}))}})})()}set(k,U){var J=this;return(0,N.Z)(function*(){const _e=yield J.openDbPromise;return new Promise((Ie,rt)=>{const Pt=_e.transaction([Sn],"readwrite").objectStore(Sn),zt=J.createCompositeKey(k);try{const An=Pt.put({compositeKey:zt,value:U});An.onerror=Nt=>{rt(Lr(Nt,"storage-set"))},An.onsuccess=()=>{Ie()}}catch(An){rt(Fr.create("storage-set",{originalErrorMessage:An?.message}))}})})()}delete(k){var U=this;return(0,N.Z)(function*(){const J=yield U.openDbPromise;return new Promise((_e,Ie)=>{const Ot=J.transaction([Sn],"readwrite").objectStore(Sn),Pt=U.createCompositeKey(k);try{const zt=Ot.delete(Pt);zt.onerror=An=>{Ie(Lr(An,"storage-delete"))},zt.onsuccess=()=>{_e()}}catch(zt){Ie(Fr.create("storage-delete",{originalErrorMessage:zt?.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class Us{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,N.Z)(function*(){const U=k.storage.getLastFetchStatus(),J=k.storage.getLastSuccessfulFetchTimestampMillis(),_e=k.storage.getActiveConfig(),Ie=yield U;Ie&&(k.lastFetchStatus=Ie);const rt=yield J;rt&&(k.lastSuccessfulFetchTimestampMillis=rt);const Ot=yield _e;Ot&&(k.activeConfig=Ot)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function od(){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,N.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function ll(){(0,ae._registerComponent)(new ee.wA("remote-config",function T(k,{instanceIdentifier:U}){const J=k.getProvider("app").getImmediate(),_e=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Fr.create("registration-window");if(!(0,ne.hl)())throw Fr.create("indexed-db-unavailable");const{projectId:Ie,apiKey:rt,appId:Ot}=J.options;if(!Ie)throw Fr.create("registration-project-id");if(!rt)throw Fr.create("registration-api-key");if(!Ot)throw Fr.create("registration-app-id");const Pt=new Ri(Ot,J.name,U=U||"firebase"),zt=new Us(Pt),An=new he.Yd(ha);An.logLevel=he.in.ERROR;const Nt=new ve(_e,ae.SDK_VERSION,U,Ie,rt,Ot),si=new mt(Nt,Pt),_n=new K(si,Pt,zt,An),ai=new fr(J,_n,zt,Pt,An);return function Dn(T){const k=(0,ne.m9)(T);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(ai),ai},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(ha,"0.4.0"),(0,ae.registerVersion)(ha,"0.4.0","esm2017")}();const Vs="/firebase-messaging-sw.js",Cc="/firebase-cloud-messaging-push-scope",Ic="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xr="google.c.a.c_id",Cr="google.c.a.c_l",sd="google.c.a.ts",ja="google.c.a.e";var za=(()=>{return(T=za||(za={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",za;var T})();function bi(T){const k=new Uint8Array(T);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ad(T){const U=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),J=atob(U),_e=new Uint8Array(J.length);for(let Ie=0;Ie<J.length;++Ie)_e[Ie]=J.charCodeAt(Ie);return _e}const ul="fcm_token_details_db",oi="fcm_token_object_Store";function wu(T){return Hs.apply(this,arguments)}function Hs(){return Hs=(0,N.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ie=>Ie.name).includes(ul))return null;let k=null;return(yield(0,le.X3)(ul,5,{upgrade:(J=(0,N.Z)(function*(_e,Ie,rt,Ot){var Pt;if(Ie<2||!_e.objectStoreNames.contains(oi))return;const zt=Ot.objectStore(oi),An=yield zt.index("fcmSenderId").get(T);if(yield zt.clear(),An)if(2===Ie){const Nt=An;if(!Nt.auth||!Nt.p256dh||!Nt.endpoint)return;k={token:Nt.fcmToken,createTime:null!==(Pt=Nt.createTime)&&void 0!==Pt?Pt:Date.now(),subscriptionOptions:{auth:Nt.auth,p256dh:Nt.p256dh,endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:"string"==typeof Nt.vapidKey?Nt.vapidKey:bi(Nt.vapidKey)}}}else if(3===Ie){const Nt=An;k={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:bi(Nt.auth),p256dh:bi(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:bi(Nt.vapidKey)}}}else if(4===Ie){const Nt=An;k={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:bi(Nt.auth),p256dh:bi(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:bi(Nt.vapidKey)}}}}),function(Ie,rt,Ot,Pt){return J.apply(this,arguments)})})).close(),yield(0,le.Lj)(ul),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),xu(k)?k:null;var J}),Hs.apply(this,arguments)}function xu(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:k}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const pa="firebase-messaging-store";let ma=null;function ga(){return ma||(ma=(0,le.X3)("firebase-messaging-database",1,{upgrade:(T,k)=>{0===k&&T.createObjectStore(pa)}})),ma}function dl(T){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,N.Z)(function*(T){const k=fl(T),J=yield(yield ga()).transaction(pa).objectStore(pa).get(k);if(J)return J;{const _e=yield wu(T.appConfig.senderId);if(_e)return yield _a(T,_e),_e}})).apply(this,arguments)}function _a(T,k){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,N.Z)(function*(T,k){const U=fl(T),_e=(yield ga()).transaction(pa,"readwrite");return yield _e.objectStore(pa).put(k,U),yield _e.done,k})).apply(this,arguments)}function hl(T){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,N.Z)(function*(T){const k=fl(T),J=(yield ga()).transaction(pa,"readwrite");yield J.objectStore(pa).delete(k),yield J.done})).apply(this,arguments)}function fl({appConfig:T}){return T.appId}const pr=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $a(T,k){return Br.apply(this,arguments)}function Br(){return(Br=(0,N.Z)(function*(T,k){const U=yield bs(T),J=Fl(k),_e={method:"POST",headers:U,body:JSON.stringify(J)};let Ie;try{Ie=yield(yield fetch(Sc(T.appConfig),_e)).json()}catch(rt){throw pr.create("token-subscribe-failed",{errorInfo:rt?.toString()})}if(Ie.error)throw pr.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw pr.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function or(T,k){return go.apply(this,arguments)}function go(){return(go=(0,N.Z)(function*(T,k){const U=yield bs(T),J=Fl(k.subscriptionOptions),_e={method:"PATCH",headers:U,body:JSON.stringify(J)};let Ie;try{Ie=yield(yield fetch(`${Sc(T.appConfig)}/${k.token}`,_e)).json()}catch(rt){throw pr.create("token-update-failed",{errorInfo:rt?.toString()})}if(Ie.error)throw pr.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw pr.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function eo(T,k){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,N.Z)(function*(T,k){const J={method:"DELETE",headers:yield bs(T)};try{const Ie=yield(yield fetch(`${Sc(T.appConfig)}/${k}`,J)).json();if(Ie.error)throw pr.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(_e){throw pr.create("token-unsubscribe-failed",{errorInfo:_e?.toString()})}})).apply(this,arguments)}function Sc({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function bs(T){return wi.apply(this,arguments)}function wi(){return(wi=(0,N.Z)(function*({appConfig:T,installations:k}){const U=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${U}`})})).apply(this,arguments)}function Fl({p256dh:T,auth:k,endpoint:U,vapidKey:J}){const _e={web:{endpoint:U,auth:k,p256dh:T}};return J!==Ic&&(_e.web.applicationPubKey=J),_e}const Ga=6048e5;function Nl(T){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,N.Z)(function*(T){const k=yield Rh(T.swRegistration,T.vapidKey),U={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:k.endpoint,auth:bi(k.getKey("auth")),p256dh:bi(k.getKey("p256dh"))},J=yield dl(T.firebaseDependencies);if(J){if(Bl(J.subscriptionOptions,U))return Date.now()>=J.createTime+Ga?gn(T,{token:J.token,createTime:Date.now(),subscriptionOptions:U}):J.token;try{yield eo(T.firebaseDependencies,J.token)}catch(_e){console.warn(_e)}return Ll(T.firebaseDependencies,U)}return Ll(T.firebaseDependencies,U)})).apply(this,arguments)}function Cu(T){return ya.apply(this,arguments)}function ya(){return(ya=(0,N.Z)(function*(T){const k=yield dl(T.firebaseDependencies);k&&(yield eo(T.firebaseDependencies,k.token),yield hl(T.firebaseDependencies));const U=yield T.swRegistration.pushManager.getSubscription();return!U||U.unsubscribe()})).apply(this,arguments)}function gn(T,k){return va.apply(this,arguments)}function va(){return(va=(0,N.Z)(function*(T,k){try{const U=yield or(T.firebaseDependencies,k),J=Object.assign(Object.assign({},k),{token:U,createTime:Date.now()});return yield _a(T.firebaseDependencies,J),U}catch(U){throw yield Cu(T),U}})).apply(this,arguments)}function Ll(T,k){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,N.Z)(function*(T,k){const J={token:yield $a(T,k),createTime:Date.now(),subscriptionOptions:k};return yield _a(T,J),J.token})).apply(this,arguments)}function Rh(T,k){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,N.Z)(function*(T,k){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ad(k)})})).apply(this,arguments)}function Bl(T,k){return k.vapidKey===T.vapidKey&&k.endpoint===T.endpoint&&k.auth===T.auth&&k.p256dh===T.p256dh}function Gr(T){const k={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Oh(T,k){if(!k.notification)return;T.notification={};const U=k.notification.title;U&&(T.notification.title=U);const J=k.notification.body;J&&(T.notification.body=J);const _e=k.notification.image;_e&&(T.notification.image=_e);const Ie=k.notification.icon;Ie&&(T.notification.icon=Ie)}(k,T),function Qe(T,k){!k.data||(T.data=k.data)}(k,T),function Nn(T,k){var U,J,_e,Ie,rt;if(!(k.fcmOptions||null!==(U=k.notification)&&void 0!==U&&U.click_action))return;T.fcmOptions={};const Ot=null!==(_e=null===(J=k.fcmOptions)||void 0===J?void 0:J.link)&&void 0!==_e?_e:null===(Ie=k.notification)||void 0===Ie?void 0:Ie.click_action;Ot&&(T.fcmOptions.link=Ot);const Pt=null===(rt=k.fcmOptions)||void 0===rt?void 0:rt.analytics_label;Pt&&(T.fcmOptions.analyticsLabel=Pt)}(k,T),k}function pl(T){return"object"==typeof T&&!!T&&xr in T}function Iu(T,k){const U=[];for(let J=0;J<T.length;J++)U.push(T.charAt(J)),J<k.length&&U.push(k.charAt(J));return U.join("")}function Ul(T){return pr.create("missing-app-config-values",{valueName:T})}Iu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Iu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Mc{constructor(k,U,J){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const _e=function mi(T){if(!T||!T.options)throw Ul("App Configuration Object");if(!T.name)throw Ul("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:U}=T;for(const J of k)if(!U[J])throw Ul(J);return{appName:T.name,projectId:U.projectId,apiKey:U.apiKey,appId:U.appId,senderId:U.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:_e,installations:U,analyticsProvider:J}}_delete(){return Promise.resolve()}}function Es(T){return kc.apply(this,arguments)}function kc(){return(kc=(0,N.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(Vs,{scope:Cc}),T.swRegistration.update().catch(()=>{})}catch(k){throw pr.create("failed-service-worker-registration",{browserErrorMessage:k?.message})}})).apply(this,arguments)}function Vl(T,k){return ws.apply(this,arguments)}function ws(){return(ws=(0,N.Z)(function*(T,k){if(!k&&!T.swRegistration&&(yield Es(T)),k||!T.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw pr.create("invalid-sw-registration");T.swRegistration=k}})).apply(this,arguments)}function Nf(T,k){return ba.apply(this,arguments)}function ba(){return(ba=(0,N.Z)(function*(T,k){k?T.vapidKey=k:T.vapidKey||(T.vapidKey=Ic)})).apply(this,arguments)}function Ro(){return(Ro=(0,N.Z)(function*(T,k){if(!navigator)throw pr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pr.create("permission-blocked");return yield Nf(T,k?.vapidKey),yield Vl(T,k?.serviceWorkerRegistration),Nl(T)})).apply(this,arguments)}function Ea(T,k,U){return xo.apply(this,arguments)}function xo(){return(xo=(0,N.Z)(function*(T,k,U){const J=xs(k);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(J,{message_id:U[xr],message_name:U[Cr],message_time:U[sd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xs(T){switch(T){case za.NOTIFICATION_CLICKED:return"notification_open";case za.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Hl(){return(Hl=(0,N.Z)(function*(T,k){const U=k.data;if(!U.isFirebaseMessaging)return;T.onMessageHandler&&U.messageType===za.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Gr(U)):T.onMessageHandler.next(Gr(U)));const J=U.data;pl(J)&&"1"===J[ja]&&(yield Ea(T,U.messageType,J))})).apply(this,arguments)}const js="@firebase/messaging",wa=T=>{const k=new Mc(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",U=>function Lf(T,k){return Hl.apply(this,arguments)}(k,U)),k},Du=T=>{const k=T.getProvider("messaging").getImmediate();return{getToken:J=>function Wr(T,k){return Ro.apply(this,arguments)}(k,J)}};function Su(){return ld.apply(this,arguments)}function ld(){return(ld=(0,N.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ph(){(0,ae._registerComponent)(new ee.wA("messaging",wa,"PUBLIC")),(0,ae._registerComponent)(new ee.wA("messaging-internal",Du,"PRIVATE")),(0,ae.registerVersion)(js,"0.12.0"),(0,ae.registerVersion)(js,"0.12.0","esm2017")}();const ei="analytics",Tn="firebase_id",Co="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jl="https://www.googletagmanager.com/gtag/js",Fi=new he.Yd("@firebase/analytics");function Rc(T){return Promise.all(T.map(k=>k.catch(U=>U)))}function Tu(T,k){const U=document.createElement("script");U.src=`${jl}?l=${T}&id=${k}`,U.async=!0,document.head.appendChild(U)}function zn(T,k,U,J,_e,Ie){return Is.apply(this,arguments)}function Is(){return(Is=(0,N.Z)(function*(T,k,U,J,_e,Ie){const rt=J[_e];try{if(rt)yield k[rt];else{const Pt=(yield Rc(U)).find(zt=>zt.measurementId===_e);Pt&&(yield k[Pt.appId])}}catch(Ot){Fi.error(Ot)}T("config",_e,Ie)})).apply(this,arguments)}function xa(T,k,U,J,_e){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,N.Z)(function*(T,k,U,J,_e){try{let Ie=[];if(_e&&_e.send_to){let rt=_e.send_to;Array.isArray(rt)||(rt=[rt]);const Ot=yield Rc(U);for(const Pt of rt){const zt=Ot.find(Nt=>Nt.measurementId===Pt),An=zt&&k[zt.appId];if(!An){Ie=[];break}Ie.push(An)}}0===Ie.length&&(Ie=Object.values(k)),yield Promise.all(Ie),T("event",J,_e||{})}catch(Ie){Fi.error(Ie)}})).apply(this,arguments)}function Pc(T){const k=window.document.getElementsByTagName("script");for(const U of Object.values(k))if(U.src&&U.src.includes(jl)&&U.src.includes(T))return U;return null}const ti=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),zl=new class Fc{constructor(k={},U=1e3){this.throttleMetadata=k,this.intervalMillis=U}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,U){this.throttleMetadata[k]=U}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function Ka(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Za(T){return qr.apply(this,arguments)}function qr(){return(qr=(0,N.Z)(function*(T){var k;const{appId:U,apiKey:J}=T,_e={method:"GET",headers:Ka(J)},Ie=Co.replace("{app-id}",U),rt=yield fetch(Ie,_e);if(200!==rt.status&&304!==rt.status){let Ot="";try{const Pt=yield rt.json();null!==(k=Pt.error)&&void 0!==k&&k.message&&(Ot=Pt.error.message)}catch{}throw ti.create("config-fetch-failed",{httpStatus:rt.status,responseMessage:Ot})}return rt.json()})).apply(this,arguments)}function $s(T){return Io.apply(this,arguments)}function Io(){return(Io=(0,N.Z)(function*(T,k=zl,U){const{appId:J,apiKey:_e,measurementId:Ie}=T.options;if(!J)throw ti.create("no-app-id");if(!_e){if(Ie)return{measurementId:Ie,appId:J};throw ti.create("no-api-key")}const rt=k.getThrottleMetadata(J)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ot=new Ca;return setTimeout((0,N.Z)(function*(){Ot.abort()}),void 0!==U?U:6e4),Ya({appId:J,apiKey:_e,measurementId:Ie},rt,Ot,k)})).apply(this,arguments)}function Ya(T,k,U){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,N.Z)(function*(T,{throttleEndTimeMillis:k,backoffCount:U},J,_e=zl){var Ie;const{appId:rt,measurementId:Ot}=T;try{yield fd(J,k)}catch(Pt){if(Ot)return Fi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ot} provided in the "measurementId" field in the local Firebase config. [${Pt?.message}]`),{appId:rt,measurementId:Ot};throw Pt}try{const Pt=yield Za(T);return _e.deleteThrottleMetadata(rt),Pt}catch(Pt){const zt=Pt;if(!pd(zt)){if(_e.deleteThrottleMetadata(rt),Ot)return Fi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ot} provided in the "measurementId" field in the local Firebase config. [${zt?.message}]`),{appId:rt,measurementId:Ot};throw Pt}const An=503===Number(null===(Ie=zt?.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,ne.$s)(U,_e.intervalMillis,30):(0,ne.$s)(U,_e.intervalMillis),Nt={throttleEndTimeMillis:Date.now()+An,backoffCount:U+1};return _e.setThrottleMetadata(rt,Nt),Fi.debug(`Calling attemptFetch again in ${An} millis`),Ya(T,Nt,J,_e)}})).apply(this,arguments)}function fd(T,k){return new Promise((U,J)=>{const _e=Math.max(k-Date.now(),0),Ie=setTimeout(U,_e);T.addEventListener(()=>{clearTimeout(Ie),J(ti.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}function pd(T){if(!(T instanceof ne.ZR&&T.customData))return!1;const k=Number(T.customData.httpStatus);return 429===k||500===k||503===k||504===k}class Ca{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let Nc,Lc;function Qa(){return(Qa=(0,N.Z)(function*(T,k,U,J,_e){if(_e&&_e.global)T("event",U,J);else{const Ie=yield k;T("event",U,Object.assign(Object.assign({},J),{send_to:Ie}))}})).apply(this,arguments)}function Bc(T){Lc=T}function Sa(T){Nc=T}function Gl(){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,N.Z)(function*(){if(!(0,ne.hl)())return Fi.warn(ti.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(T){return Fi.warn(ti.create("indexeddb-unavailable",{errorInfo:T?.toString()}).message),!1}return!0})).apply(this,arguments)}function Xa(){return(Xa=(0,N.Z)(function*(T,k,U,J,_e,Ie,rt){var Ot;const Pt=$s(T);Pt.then(_n=>{U[_n.measurementId]=_n.appId,T.options.measurementId&&_n.measurementId!==T.options.measurementId&&Fi.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${_n.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_n=>Fi.error(_n)),k.push(Pt);const zt=Gl().then(_n=>{if(_n)return J.getId()}),[An,Nt]=yield Promise.all([Pt,zt]);Pc(Ie)||Tu(Ie,An.measurementId),Lc&&(_e("consent","default",Lc),Bc(void 0)),_e("js",new Date);const si=null!==(Ot=rt?.config)&&void 0!==Ot?Ot:{};return si.origin="firebase",si.update=!0,null!=Nt&&(si[Tn]=Nt),_e("config",An.measurementId,si),Nc&&(_e("set",Nc),Sa(void 0)),An.measurementId})).apply(this,arguments)}class Wl{constructor(k){this.app=k}_delete(){return delete Ci[this.app.options.appId],Promise.resolve()}}let Ci={},Lh=[];const Uc={};let ql,to,hs="dataLayer",Po=!1;function Xo(T,k,U){!function H(){const T=[];if((0,ne.ru)()&&T.push("This is a browser extension environment."),(0,ne.zI)()||T.push("Cookies are not available."),T.length>0){const k=T.map((J,_e)=>`(${_e+1}) ${J}`).join(" "),U=ti.create("invalid-analytics-context",{errorInfo:k});Fi.warn(U.message)}}();const J=T.options.appId;if(!J)throw ti.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw ti.create("no-api-key");Fi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ci[J])throw ti.create("already-exists",{id:J});if(!Po){!function Oc(T){let k=[];Array.isArray(window[T])?k=window[T]:window[T]=k}(hs);const{wrappedGtag:Ie,gtagCore:rt}=function dd(T,k,U,J,_e){let Ie=function(...rt){window[J].push(arguments)};return window[_e]&&"function"==typeof window[_e]&&(Ie=window[_e]),window[_e]=function ud(T,k,U,J){function Ie(){return(Ie=(0,N.Z)(function*(rt,Ot,Pt){try{"event"===rt?yield xa(T,k,U,Ot,Pt):"config"===rt?yield zn(T,k,U,J,Ot,Pt):"consent"===rt?T("consent","update",Pt):T("set",Ot)}catch(zt){Fi.error(zt)}})).apply(this,arguments)}return function _e(rt,Ot,Pt){return Ie.apply(this,arguments)}}(Ie,T,k,U),{gtagCore:Ie,wrappedGtag:window[_e]}}(Ci,Lh,Uc,hs,"gtag");to=Ie,ql=rt,Po=!0}return Ci[J]=function Ta(T,k,U,J,_e,Ie,rt){return Xa.apply(this,arguments)}(T,Lh,Uc,k,ql,hs,U),new Wl(T)}function Ln(){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,N.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const nr="@firebase/analytics";!function Zl(){(0,ae._registerComponent)(new ee.wA(ei,(k,{options:U})=>Xo(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),U),"PUBLIC")),(0,ae._registerComponent)(new ee.wA("analytics-internal",function T(k){try{const U=k.getProvider(ei).getImmediate();return{logEvent:(J,_e,Ie)=>function Au(T,k,U,J){T=(0,ne.m9)(T),function ds(T,k,U,J,_e){return Qa.apply(this,arguments)}(to,Ci[T.app.options.appId],k,U,J).catch(_e=>Fi.error(_e))}(U,J,_e,Ie)}}catch(U){throw ti.create("interop-component-reg-failed",{reason:U})}},"PRIVATE")),(0,ae.registerVersion)(nr,"0.9.0"),(0,ae.registerVersion)(nr,"0.9.0","esm2017")}();var Uh=R(233),Vh=R(4986),Mu=R(9751),Hh=R(8505),Ss=R(5363),tc=R(9468);const Tm=new c.GfV("7.5.0"),nc="__angularfire_symbol__analyticsIsSupportedValue",Kr="__angularfire_symbol__analyticsIsSupported",Yl="__angularfire_symbol__remoteConfigIsSupportedValue",No="__angularfire_symbol__remoteConfigIsSupported",yd="__angularfire_symbol__messagingIsSupportedValue",yo="__angularfire_symbol__messagingIsSupported";function ku(T,k,U){if(k){if(1===k.length)return k[0];const Ie=k.filter(rt=>rt.app===U);if(1===Ie.length)return Ie[0]}return U.container.getProvider(T).getImmediate({optional:!0})}globalThis[Kr]||(globalThis[Kr]=Ln().then(T=>globalThis[nc]=T).catch(()=>globalThis[nc]=!1)),globalThis[yo]||(globalThis[yo]=Su().then(T=>globalThis[yd]=T).catch(()=>globalThis[yd]=!1)),globalThis[No]||(globalThis[No]=od().then(T=>globalThis[Yl]=T).catch(()=>globalThis[Yl]=!1));const bd=(T,k)=>{const U=k?[k]:(0,M.C6)(),J=[];return U.forEach(_e=>{_e.container.getProvider(T).instances.forEach(rt=>{J.includes(rt)||J.push(rt)})}),J};function Ma(){}class Ru{constructor(k,U=Uh.N){this.zone=k,this.delegate=U}now(){return this.delegate.now()}schedule(k,U,J){const _e=this.zone;return this.delegate.schedule(function(rt){_e.runGuarded(()=>{k.apply(this,[rt])})},U,J)}}class gt{constructor(k){this.zone=k,this.task=null}call(k,U){const J=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ma,{},Ma,Ma)),U.pipe((0,Hh.b)({next:J,complete:J,error:J})).subscribe(k).add(J)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zr=(()=>{class T{constructor(U){this.ngZone=U,this.outsideAngular=U.runOutsideAngular(()=>new Ru(Zone.current)),this.insideAngular=U.run(()=>new Ru(Zone.current,Vh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(U){return new(U||T)(c.LFG(c.R0b))},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Ir(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Yr(T){return Ir().ngZone.runOutsideAngular(()=>T())}function vt(T){return Ir().ngZone.run(()=>T())}function jc(T){return T.pipe((0,Ss.Q)(Ir().outsideAngular))}function Lo(T){return Ir(),function ka(T){return function(U){return(U=U.lift(new gt(T.ngZone))).pipe((0,tc.R)(T.outsideAngular),(0,Ss.Q)(T.insideAngular))}}(Ir())(T)}const Ql=(T,k)=>function(){const J=arguments;return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),vt(()=>T.apply(void 0,J))},Ra=(T,k)=>function(){let U;const J=arguments;for(let Ie=0;Ie<arguments.length;Ie++)"function"==typeof J[Ie]&&(k&&(U||(U=vt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ma,{},Ma,Ma)))),J[Ie]=Ql(J[Ie],U));const _e=Yr(()=>T.apply(this,J));if(!k){if(_e instanceof Mu.y){const Ie=Ir();return _e.pipe((0,tc.R)(Ie.outsideAngular),(0,Ss.Q)(Ie.insideAngular))}return vt(()=>_e)}return _e instanceof Mu.y?_e.pipe(Lo):_e instanceof Promise?vt(()=>new Promise((Ie,rt)=>_e.then(Ot=>vt(()=>Ie(Ot)),Ot=>vt(()=>rt(Ot))))):"function"==typeof _e&&U?function(){return setTimeout(()=>{U&&"scheduled"===U.state&&U.invoke()},10),_e.apply(this,arguments)}:vt(()=>_e)}},552:(de,te,R)=>{"use strict";R.d(te,{$:()=>Sc,A:()=>W,B:()=>Fe,G:()=>xc,H:()=>Er,J:()=>mt,L:()=>ce,M:()=>Ol,N:()=>Ff,P:()=>Tm,Q:()=>xr,R:()=>Bh,T:()=>Cr,U:()=>Ic,V:()=>za,W:()=>bi,X:()=>wu,Y:()=>Ji,Z:()=>$a,_:()=>or,a:()=>zs,a0:()=>Nl,a1:()=>Cu,a2:()=>gn,a3:()=>Ll,a4:()=>Rh,a5:()=>Bl,a6:()=>Oh,a7:()=>Qe,a8:()=>pl,a9:()=>Iu,aA:()=>ie,aB:()=>si,aC:()=>Ql,aD:()=>ka,aE:()=>pi,aI:()=>Ka,aL:()=>ja,aa:()=>Es,ab:()=>Vl,ac:()=>Nf,af:()=>Ea,ag:()=>xs,ah:()=>Lf,ak:()=>pa,al:()=>Wa,an:()=>jl,ao:()=>Is,ap:()=>Ge,aq:()=>Bt,ar:()=>Rt,as:()=>Be,at:()=>ic,au:()=>Uf,av:()=>dr,aw:()=>je,ax:()=>be,ay:()=>ci,az:()=>ye,b:()=>ti,c:()=>vd,d:()=>Ma,e:()=>ku,f:()=>k,g:()=>Ot,h:()=>_e,i:()=>Ws,j:()=>An,k:()=>$f,l:()=>qs,m:()=>W_,n:()=>Md,o:()=>le,r:()=>Uh,s:()=>ec,u:()=>Ss});var c=R(5861),M=R(2090),N=R(9681),ae=R(1877),ne=R(655),ee=R(4859);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Fe=function re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Xe=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ot=new M.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new ae.Yd("@firebase/auth");function Pe(x,..._){Ne.logLevel<=ae.in.ERROR&&Ne.error(`Auth (${N.SDK_VERSION}): ${x}`,..._)}function Be(x,..._){throw at(x,..._)}function je(x,..._){return at(x,..._)}function $e(x,_,v){const I=Object.assign(Object.assign({},Xe()),{[_]:v});return new M.LL("auth","Firebase",I).create(_,{appName:x.name})}function ze(x,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&Be(x,"argument-error"),$e(x,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function at(x,..._){if("string"!=typeof x){const v=_[0],I=[..._.slice(1)];return I[0]&&(I[0].appName=x.name),x._errorFactory.create(v,...I)}return ot.create(x,..._)}function be(x,_,...v){if(!x)throw at(_,...v)}function Re(x){const _="INTERNAL ASSERTION FAILED: "+x;throw Pe(_),new Error(_)}function Ge(x,_){x||Re(_)}const ge=new Map;function ye(x){Ge(x instanceof Function,"Expected a class definition");let _=ge.get(x);return _?(Ge(_ instanceof x,"Instance stored in cache mismatched with class"),_):(_=new x,ge.set(x,_),_)}function lt(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function it(){return"http:"===kt()||"https:"===kt()}function kt(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class Lt{constructor(_,v){this.shortDelay=_,this.longDelay=v,Ge(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,M.uI)()||(0,M.b$)()}get(){return function Hn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(it()||(0,M.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yn(x,_){Ge(x.emulator,"Emulator should always be set here");const{url:v}=x.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class jt{static initialize(_,v,I){this.fetchImpl=_,v&&(this.headersImpl=v),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ur=new Lt(3e4,6e4);function mn(x,_){return x.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:x.tenantId}):_}function Gt(x,_,v,I){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(x,_,v,I,L={}){return kr(x,L,(0,c.Z)(function*(){let j={},xe={};I&&("GET"===_?xe=I:j={body:JSON.stringify(I)});const Je=(0,M.xO)(Object.assign({key:x.config.apiKey},xe)).slice(1),Tt=yield x._getAdditionalHeaders();return Tt["Content-Type"]="application/json",x.languageCode&&(Tt["X-Firebase-Locale"]=x.languageCode),jt.fetch()(Mo(x,x.config.apiHost,v,Je),Object.assign({method:_,headers:Tt,referrerPolicy:"no-referrer"},j))}))})).apply(this,arguments)}function kr(x,_,v){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(x,_,v){x._canInitEmulator=!1;const I=Object.assign(Object.assign({},jn),_);try{const L=new Rr(x),j=yield Promise.race([v(),L.promise]);L.clearNetworkTimeout();const xe=yield j.json();if("needConfirmation"in xe)throw gr(x,"account-exists-with-different-credential",xe);if(j.ok&&!("errorMessage"in xe))return xe;{const Je=j.ok?xe.errorMessage:xe.error.message,[Tt,Ut]=Je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Tt)throw gr(x,"credential-already-in-use",xe);if("EMAIL_EXISTS"===Tt)throw gr(x,"email-already-in-use",xe);if("USER_DISABLED"===Tt)throw gr(x,"user-disabled",xe);const wn=I[Tt]||Tt.toLowerCase().replace(/[_\s]+/g,"-");if(Ut)throw $e(x,wn,Ut);Be(x,wn)}}catch(L){if(L instanceof M.ZR)throw L;Be(x,"network-request-failed")}})).apply(this,arguments)}function Jn(x,_,v,I){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(x,_,v,I,L={}){const j=yield Gt(x,_,v,I,L);return"mfaPendingCredential"in j&&Be(x,"multi-factor-auth-required",{_serverResponse:j}),j})).apply(this,arguments)}function Mo(x,_,v,I){const L=`${_}${v}?${I}`;return x.config.emulator?yn(x.config,L):`${x.config.apiScheme}://${L}`}class Rr{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,I)=>{this.timer=setTimeout(()=>I(je(this.auth,"network-request-failed")),ur.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gr(x,_,v){const I={appName:x.name};v.email&&(I.email=v.email),v.phoneNumber&&(I.phoneNumber=v.phoneNumber);const L=je(x,_,I);return L.customData._tokenResponse=v,L}function Qr(){return(Qr=(0,c.Z)(function*(x,_){return Gt(x,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Gn(x,_){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(x,_){return Gt(x,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Ct(x,_){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(x,_){return Gt(x,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Hr(x){if(x)try{const _=new Date(Number(x));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function jr(){return(jr=(0,c.Z)(function*(x,_=!1){const v=(0,M.m9)(x),I=yield v.getIdToken(_),L=Ft(I);be(L&&L.exp&&L.auth_time&&L.iat,v.auth,"internal-error");const j="object"==typeof L.firebase?L.firebase:void 0,xe=j?.sign_in_provider;return{claims:L,token:I,authTime:Hr(tn(L.auth_time)),issuedAtTime:Hr(tn(L.iat)),expirationTime:Hr(tn(L.exp)),signInProvider:xe||null,signInSecondFactor:j?.sign_in_second_factor||null}})).apply(this,arguments)}function tn(x){return 1e3*Number(x)}function Ft(x){const[_,v,I]=x.split(".");if(void 0===_||void 0===v||void 0===I)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,M.tV)(v);return L?JSON.parse(L):(Pe("Failed to decode base64 JWT payload"),null)}catch(L){return Pe("Caught error parsing JWT payload as JSON",L?.toString()),null}}function Wn(x,_){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(x,_,v=!1){if(v)return _;try{return yield _}catch(I){throw I instanceof M.ZR&&_r(I)&&x.auth.currentUser===x&&(yield x.auth.signOut()),I}})).apply(this,arguments)}function _r({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}class hi{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const L=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const I=this.getInterval(_);this.timerId=setTimeout((0,c.Z)(function*(){yield v.iteration()}),I)}iteration(){var _=this;return(0,c.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&_.schedule(!0))}_.schedule()})()}}class Or{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hr(this.lastLoginAt),this.creationTime=Hr(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zi(x){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(x){var _;const v=x.auth,I=yield x.getIdToken(),L=yield Wn(x,Ct(v,{idToken:I}));be(L?.users.length,v,"internal-error");const j=L.users[0];x._notifyReloadListener(j);const xe=null!==(_=j.providerUserInfo)&&void 0!==_&&_.length?Pr(j.providerUserInfo):[],Je=Ti(x.providerData,xe),wn=!!x.isAnonymous&&!(x.email&&j.passwordHash||Je?.length),ar={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:Je,metadata:new Or(j.createdAt,j.lastLoginAt),isAnonymous:wn};Object.assign(x,ar)})).apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(x){const _=(0,M.m9)(x);yield Zi(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Ti(x,_){return[...x.filter(I=>!_.some(L=>L.providerId===I.providerId)),..._]}function Pr(x){return x.map(_=>{var{providerId:v}=_,I=(0,ne._T)(_,["providerId"]);return{providerId:v,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Ke(){return(Ke=(0,c.Z)(function*(x,_){const v=yield kr(x,{},(0,c.Z)(function*(){const I=(0,M.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:L,apiKey:j}=x.config,xe=Mo(x,L,"/v1/token",`key=${j}`),Je=yield x._getAdditionalHeaders();return Je["Content-Type"]="application/x-www-form-urlencoded",jt.fetch()(xe,{method:"POST",headers:Je,body:I})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class bt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){be(_.idToken,"internal-error"),be(typeof _.idToken<"u","internal-error"),be(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function Wt(x){const _=Ft(x);return be(_,"internal-error"),be(typeof _.exp<"u","internal-error"),be(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}getToken(_,v=!1){var I=this;return(0,c.Z)(function*(){return be(!I.accessToken||I.refreshToken,_,"user-token-expired"),v||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(_,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var I=this;return(0,c.Z)(function*(){const{accessToken:L,refreshToken:j,expiresIn:xe}=yield function ht(x,_){return Ke.apply(this,arguments)}(_,v);I.updateTokensAndExpiration(L,j,Number(xe))})()}updateTokensAndExpiration(_,v,I){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(_,v){const{refreshToken:I,accessToken:L,expirationTime:j}=v,xe=new bt;return I&&(be("string"==typeof I,"internal-error",{appName:_}),xe.refreshToken=I),L&&(be("string"==typeof L,"internal-error",{appName:_}),xe.accessToken=L),j&&(be("number"==typeof j,"internal-error",{appName:_}),xe.expirationTime=j),xe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new bt,this.toJSON())}_performRefresh(){return Re("not implemented")}}function qt(x,_){be("string"==typeof x||typeof x>"u","internal-error",{appName:_})}class en{constructor(_){var{uid:v,auth:I,stsTokenManager:L}=_,j=(0,ne._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=I,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=j.displayName||null,this.email=j.email||null,this.emailVerified=j.emailVerified||!1,this.phoneNumber=j.phoneNumber||null,this.photoURL=j.photoURL||null,this.isAnonymous=j.isAnonymous||!1,this.tenantId=j.tenantId||null,this.providerData=j.providerData?[...j.providerData]:[],this.metadata=new Or(j.createdAt||void 0,j.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,c.Z)(function*(){const I=yield Wn(v,v.stsTokenManager.getToken(v.auth,_));return be(I,v.auth,"internal-error"),v.accessToken!==I&&(v.accessToken=I,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),I})()}getIdTokenResult(_){return function Jr(x){return jr.apply(this,arguments)}(this,_)}reload(){return function po(x){return vn.apply(this,arguments)}(this)}_assign(_){this!==_&&(be(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new en(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var I=this;return(0,c.Z)(function*(){let L=!1;_.idToken&&_.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(_),L=!0),v&&(yield Zi(I)),yield I.auth._persistUserIfCurrent(I),L&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var _=this;return(0,c.Z)(function*(){const v=yield _.getIdToken();return yield Wn(_,function Ki(x,_){return Qr.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var I,L,j,xe,Je,Tt,Ut,wn;const ar=null!==(I=v.displayName)&&void 0!==I?I:void 0,Ni=null!==(L=v.email)&&void 0!==L?L:void 0,Li=null!==(j=v.phoneNumber)&&void 0!==j?j:void 0,On=null!==(xe=v.photoURL)&&void 0!==xe?xe:void 0,Bi=null!==(Je=v.tenantId)&&void 0!==Je?Je:void 0,ro=null!==(Tt=v._redirectEventId)&&void 0!==Tt?Tt:void 0,Wf=null!==(Ut=v.createdAt)&&void 0!==Ut?Ut:void 0,Om=null!==(wn=v.lastLoginAt)&&void 0!==wn?wn:void 0,{uid:Lu,emailVerified:qf,isAnonymous:Bu,providerData:qh,stsTokenManager:Kh}=v;be(Lu&&Kh,_,"internal-error");const Kf=bt.fromJSON(this.name,Kh);be("string"==typeof Lu,_,"internal-error"),qt(ar,_.name),qt(Ni,_.name),be("boolean"==typeof qf,_,"internal-error"),be("boolean"==typeof Bu,_,"internal-error"),qt(Li,_.name),qt(On,_.name),qt(Bi,_.name),qt(ro,_.name),qt(Wf,_.name),qt(Om,_.name);const Uo=new en({uid:Lu,auth:_,email:Ni,emailVerified:qf,displayName:ar,isAnonymous:Bu,photoURL:On,phoneNumber:Li,tenantId:Bi,stsTokenManager:Kf,createdAt:Wf,lastLoginAt:Om});return qh&&Array.isArray(qh)&&(Uo.providerData=qh.map(Oa=>Object.assign({},Oa))),ro&&(Uo._redirectEventId=ro),Uo}static _fromIdTokenResponse(_,v,I=!1){return(0,c.Z)(function*(){const L=new bt;L.updateFromServerResponse(v);const j=new en({uid:v.localId,auth:_,stsTokenManager:L,isAnonymous:I});return yield Zi(j),j})()}}const ce=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(v,I){var L=this;return(0,c.Z)(function*(){L.storage[v]=I})()}_get(v){var I=this;return(0,c.Z)(function*(){const L=I.storage[v];return void 0===L?null:L})()}_remove(v){var I=this;return(0,c.Z)(function*(){delete I.storage[v]})()}_addListener(v,I){}_removeListener(v,I){}}return x.type="NONE",x})();function ie(x,_,v){return`firebase:${x}:${_}:${v}`}class fe{constructor(_,v,I){this.persistence=_,this.auth=v,this.userKey=I;const{config:L,name:j}=this.auth;this.fullUserKey=ie(this.userKey,L.apiKey,j),this.fullPersistenceKey=ie("persistence",L.apiKey,j),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,c.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?en._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,c.Z)(function*(){if(v.persistence===_)return;const I=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,I?v.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,I="authUser"){return(0,c.Z)(function*(){if(!v.length)return new fe(ye(ce),_,I);const L=(yield Promise.all(v.map(function(){var Ut=(0,c.Z)(function*(wn){if(yield wn._isAvailable())return wn});return function(wn){return Ut.apply(this,arguments)}}()))).filter(Ut=>Ut);let j=L[0]||ye(ce);const xe=ie(I,_.config.apiKey,_.name);let Je=null;for(const Ut of v)try{const wn=yield Ut._get(xe);if(wn){const ar=en._fromJSON(_,wn);Ut!==j&&(Je=ar),j=Ut;break}}catch{}const Tt=L.filter(Ut=>Ut._shouldAllowMigration);return j._shouldAllowMigration&&Tt.length?(j=Tt[0],Je&&(yield j._set(xe,Je.toJSON())),yield Promise.all(v.map(function(){var Ut=(0,c.Z)(function*(wn){if(wn!==j)try{yield wn._remove(xe)}catch{}});return function(wn){return Ut.apply(this,arguments)}}())),new fe(j,_,I)):new fe(j,_,I)})()}}function X(x){const _=x.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(tt(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(V(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(_t(_))return"Blackberry";if(ln(_))return"Webos";if(q(_))return"Safari";if((_.includes("chrome/")||Me(_))&&!_.includes("edge/"))return"Chrome";if(Rt(_))return"Android";{const I=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function V(x=(0,M.z$)()){return/firefox\//i.test(x)}function q(x=(0,M.z$)()){const _=x.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Me(x=(0,M.z$)()){return/crios\//i.test(x)}function tt(x=(0,M.z$)()){return/iemobile/i.test(x)}function Rt(x=(0,M.z$)()){return/android/i.test(x)}function _t(x=(0,M.z$)()){return/blackberry/i.test(x)}function ln(x=(0,M.z$)()){return/webos/i.test(x)}function Bt(x=(0,M.z$)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function dr(x=(0,M.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}function Ai(x=(0,M.z$)()){return Bt(x)||Rt(x)||ln(x)||_t(x)||/windows phone/i.test(x)||tt(x)}function la(x,_=[]){let v;switch(x){case"Browser":v=X((0,M.z$)());break;case"Worker":v=`${X((0,M.z$)())}-${x}`;break;default:v=x}const I=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${N.SDK_VERSION}/${I}`}class Va{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const I=j=>new Promise((xe,Je)=>{try{xe(_(j))}catch(Tt){Je(Tt)}});I.onAbort=v,this.queue.push(I);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,c.Z)(function*(){if(v.auth.currentUser===_)return;const I=[];try{for(const L of v.queue)yield L(_),L.onAbort&&I.push(L.onAbort)}catch(L){I.reverse();for(const j of I)try{j()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}class al{constructor(_,v,I){this.app=_,this.heartbeatServiceProvider=v,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ua(this),this.idTokenSubscription=new ua(this),this.beforeStateQueue=new Va(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(_,v){var I=this;return v&&(this._popupRedirectResolver=ye(v)),this._initializationPromise=this.queue((0,c.Z)(function*(){var L,j;if(!I._deleted&&(I.persistenceManager=yield fe.create(I,_),!I._deleted)){if(null!==(L=I._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(v),I.lastNotifiedUid=(null===(j=I.currentUser)||void 0===j?void 0:j.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,c.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUser(_){var v=this;return(0,c.Z)(function*(){var I;const L=yield v.assertedPersistence.getCurrentUser();let j=L,xe=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Je=null===(I=v.redirectUser)||void 0===I?void 0:I._redirectEventId,Tt=j?._redirectEventId,Ut=yield v.tryRedirectSignIn(_);(!Je||Je===Tt)&&Ut?.user&&(j=Ut.user,xe=!0)}if(!j)return v.directlySetCurrentUser(null);if(!j._redirectEventId){if(xe)try{yield v.beforeStateQueue.runMiddleware(j)}catch(Je){j=L,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Je))}return j?v.reloadAndSetCurrentUserOrClear(j):v.directlySetCurrentUser(null)}return be(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===j._redirectEventId?v.directlySetCurrentUser(j):v.reloadAndSetCurrentUserOrClear(j)})()}tryRedirectSignIn(_){var v=this;return(0,c.Z)(function*(){let I=null;try{I=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,c.Z)(function*(){try{yield Zi(_)}catch(I){if("auth/network-request-failed"!==I?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function $n(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var _=this;return(0,c.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,c.Z)(function*(){const I=_?(0,M.m9)(_):null;return I&&be(I.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(I&&I._clone(v))})()}_updateCurrentUser(_,v=!1){var I=this;return(0,c.Z)(function*(){if(!I._deleted)return _&&be(I.tenantId===_.tenantId,I,"tenant-id-mismatch"),v||(yield I.beforeStateQueue.runMiddleware(_)),I.queue((0,c.Z)(function*(){yield I.directlySetCurrentUser(_),I.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,c.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var v=this;return this.queue((0,c.Z)(function*(){yield v.assertedPersistence.setPersistence(ye(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new M.LL("auth","Firebase",_())}onAuthStateChanged(_,v,I){return this.registerStateListener(this.authStateSubscription,_,v,I)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,I){return this.registerStateListener(this.idTokenSubscription,_,v,I)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var I=this;return(0,c.Z)(function*(){const L=yield I.getOrInitRedirectPersistenceManager(v);return null===_?L.removeCurrentUser():L.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,c.Z)(function*(){if(!v.redirectPersistenceManager){const I=_&&ye(_)||v._popupRedirectResolver;be(I,v,"argument-error"),v.redirectPersistenceManager=yield fe.create(v,[ye(I._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,c.Z)(function*(){var I,L;return v._isInitialized&&(yield v.queue((0,c.Z)(function*(){}))),(null===(I=v._currentUser)||void 0===I?void 0:I._redirectEventId)===_?v._currentUser:(null===(L=v.redirectUser)||void 0===L?void 0:L._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,c.Z)(function*(){if(_===v.currentUser)return v.queue((0,c.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,I,L){if(this._deleted)return()=>{};const j="function"==typeof v?v:v.next.bind(v),xe=this._isInitialized?Promise.resolve():this._initializationPromise;return be(xe,this,"internal-error"),xe.then(()=>j(this.currentUser)),"function"==typeof v?_.addObserver(v,I,L):_.addObserver(v)}directlySetCurrentUser(_){var v=this;return(0,c.Z)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=la(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,c.Z)(function*(){var v;const I={"X-Client-Version":_.clientVersion};_.app.options.appId&&(I["X-Firebase-gmpid"]=_.app.options.appId);const L=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return L&&(I["X-Firebase-Client"]=L),I})()}}function pi(x){return(0,M.m9)(x)}class ua{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,M.ne)(v=>this.observer=v)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xc(x,_,v){const I=pi(x);be(I._canInitEmulator,I,"emulator-config-failed"),be(/^https?:\/\//.test(_),I,"invalid-emulator-scheme");const L=!!v?.disableWarnings,j=da(_),{host:xe,port:Je}=function ha(x){const _=da(x),v=/(\/\/)?([^?#/]+)/.exec(x.substr(_.length));if(!v)return{host:"",port:null};const I=v[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(I);if(L){const j=L[1];return{host:j,port:Zo(I.substr(j.length+1))}}{const[j,xe]=I.split(":");return{host:j,port:Zo(xe)}}}(_);I.config.emulator={url:`${j}//${xe}${null===Je?"":`:${Je}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:xe,port:Je,protocol:j.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function qn(){function x(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}function da(x){const _=x.indexOf(":");return _<0?"":x.substr(0,_+1)}function Zo(x){if(!x)return null;const _=Number(x);return isNaN(_)?null:_}class Er{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return Re("not implemented")}_getIdTokenResponse(_){return Re("not implemented")}_linkToIdToken(_,v){return Re("not implemented")}_getReauthenticationResolver(_){return Re("not implemented")}}function vi(x,_){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(x,_){return Gt(x,"POST","/v1/accounts:resetPassword",mn(x,_))})).apply(this,arguments)}function ii(x,_){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(x,_){return Gt(x,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function St(x,_){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(x,_){return Gt(x,"POST","/v1/accounts:update",mn(x,_))})).apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(x,_){return Jn(x,"POST","/v1/accounts:signInWithPassword",mn(x,_))})).apply(this,arguments)}function ki(x,_){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(x,_){return Gt(x,"POST","/v1/accounts:sendOobCode",mn(x,_))})).apply(this,arguments)}function as(x,_){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(x,_){return ki(x,_)})).apply(this,arguments)}function cl(x,_){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(x,_){return ki(x,_)})).apply(this,arguments)}function un(x,_){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(x,_){return ki(x,_)})).apply(this,arguments)}function cs(x,_){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(x,_){return ki(x,_)})).apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(x,_){return Jn(x,"POST","/v1/accounts:signInWithEmailLink",mn(x,_))})).apply(this,arguments)}function K(){return(K=(0,c.Z)(function*(x,_){return Jn(x,"POST","/v1/accounts:signInWithEmailLink",mn(x,_))})).apply(this,arguments)}class Ce extends Er{constructor(_,v,I,L=null){super("password",I),this._email=_,this._password=v,this._tenantId=L}static _fromEmailAndPassword(_,v){return new Ce(_,v,"password")}static _fromEmailAndCode(_,v,I=null){return new Ce(_,v,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return function wr(x,_){return Mi.apply(this,arguments)}(_,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function ls(x,_){return $r.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:Be(_,"internal-error")}})()}_linkToIdToken(_,v){var I=this;return(0,c.Z)(function*(){switch(I.signInMethod){case"password":return ii(_,{idToken:v,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Ha(x,_){return K.apply(this,arguments)}(_,{idToken:v,email:I._email,oobCode:I._password});default:Be(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function ve(x,_){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,c.Z)(function*(x,_){return Jn(x,"POST","/v1/accounts:signInWithIdp",mn(x,_))})).apply(this,arguments)}class mt extends Er{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new mt(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):Be("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:L}=v,j=(0,ne._T)(v,["providerId","signInMethod"]);if(!I||!L)return null;const xe=new mt(I,L);return xe.idToken=j.idToken||void 0,xe.accessToken=j.accessToken||void 0,xe.secret=j.secret,xe.nonce=j.nonce,xe.pendingToken=j.pendingToken||null,xe}_getIdTokenResponse(_){return ve(_,this.buildRequest())}_linkToIdToken(_,v){const I=this.buildRequest();return I.idToken=v,ve(_,I)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,ve(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,M.xO)(v)}return _}}function Fn(x,_){return hr.apply(this,arguments)}function hr(){return(hr=(0,c.Z)(function*(x,_){return Gt(x,"POST","/v1/accounts:sendVerificationCode",mn(x,_))})).apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(x,_){return Jn(x,"POST","/v1/accounts:signInWithPhoneNumber",mn(x,_))})).apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(x,_){const v=yield Jn(x,"POST","/v1/accounts:signInWithPhoneNumber",mn(x,_));if(v.temporaryProof)throw gr(x,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const id={USER_NOT_FOUND:"user-not-found"};function Ri(){return(Ri=(0,c.Z)(function*(x,_){return Jn(x,"POST","/v1/accounts:signInWithPhoneNumber",mn(x,Object.assign(Object.assign({},_),{operation:"REAUTH"})),id)})).apply(this,arguments)}class Us extends Er{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new Us({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new Us({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function fr(x,_){return Lr.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function Sn(x,_){return er.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Yi(x,_){return Ri.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:I,verificationCode:L}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:I,code:L}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:I,phoneNumber:L,temporaryProof:j}=_;return I||v||L||j?new Us({verificationId:v,verificationCode:I,phoneNumber:L,temporaryProof:j}):null}}class Oi{constructor(_){var v,I,L,j,xe,Je;const Tt=(0,M.zd)((0,M.pd)(_)),Ut=null!==(v=Tt.apiKey)&&void 0!==v?v:null,wn=null!==(I=Tt.oobCode)&&void 0!==I?I:null,ar=function ll(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=Tt.mode)&&void 0!==L?L:null);be(Ut&&wn&&ar,"argument-error"),this.apiKey=Ut,this.operation=ar,this.code=wn,this.continueUrl=null!==(j=Tt.continueUrl)&&void 0!==j?j:null,this.languageCode=null!==(xe=Tt.languageCode)&&void 0!==xe?xe:null,this.tenantId=null!==(Je=Tt.tenantId)&&void 0!==Je?Je:null}static parseLink(_){const v=function Eu(x){const _=(0,M.zd)((0,M.pd)(x)).link,v=_?(0,M.zd)((0,M.pd)(_)).deep_link_id:null,I=(0,M.zd)((0,M.pd)(x)).deep_link_id;return(I?(0,M.zd)((0,M.pd)(I)).link:null)||I||v||_||x}(_);try{return new Oi(v)}catch{return null}}}let Ol=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(v,I){return Ce._fromEmailAndPassword(v,I)}static credentialWithLink(v,I){const L=Oi.parseLink(I);return be(L,"argument-error"),Ce._fromEmailAndCode(v,L.code,L.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class Vs{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Cc extends Vs{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Ic extends Cc{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return be("providerId"in v&&"signInMethod"in v,"argument-error"),mt._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return be(_.idToken||_.accessToken,"argument-error"),mt._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Ic.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Ic.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:I,oauthTokenSecret:L,pendingToken:j,nonce:xe,providerId:Je}=_;if(!I&&!L&&!v&&!j||!Je)return null;try{return new Ic(Je)._credential({idToken:v,accessToken:I,nonce:xe,pendingToken:j})}catch{return null}}}let Ff=(()=>{class x extends Cc{constructor(){super("facebook.com")}static credential(v){return mt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return x.credentialFromTaggedObject(v)}static credentialFromError(v){return x.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return x.credential(v.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),xr=(()=>{class x extends Cc{constructor(){super("google.com"),this.addScope("profile")}static credential(v,I){return mt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:I})}static credentialFromResult(v){return x.credentialFromTaggedObject(v)}static credentialFromError(v){return x.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:I,oauthAccessToken:L}=v;if(!I&&!L)return null;try{return x.credential(I,L)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),Cr=(()=>{class x extends Cc{constructor(){super("github.com")}static credential(v){return mt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return x.credentialFromTaggedObject(v)}static credentialFromError(v){return x.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return x.credential(v.oauthAccessToken)}catch{return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class ja extends Er{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return ve(_,this.buildRequest())}_linkToIdToken(_,v){const I=this.buildRequest();return I.idToken=v,ve(_,I)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,ve(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:L,pendingToken:j}=v;return I&&L&&j&&I===L?new ja(I,j):null}static _create(_,v){return new ja(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class za extends Vs{constructor(_){be(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return za.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return za.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=ja.fromJSON(_);return be(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:I}=_;if(!v||!I)return null;try{return ja._create(I,v)}catch{return null}}}let bi=(()=>{class x extends Cc{constructor(){super("twitter.com")}static credential(v,I){return mt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:I})}static credentialFromResult(v){return x.credentialFromTaggedObject(v)}static credentialFromError(v){return x.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:I,oauthTokenSecret:L}=v;if(!I||!L)return null;try{return x.credential(I,L)}catch{return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function ad(x,_){return ul.apply(this,arguments)}function ul(){return(ul=(0,c.Z)(function*(x,_){return Jn(x,"POST","/v1/accounts:signUp",mn(x,_))})).apply(this,arguments)}class us{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,I,L=!1){return(0,c.Z)(function*(){const j=yield en._fromIdTokenResponse(_,I,L),xe=oi(I);return new us({user:j,providerId:xe,_tokenResponse:I,operationType:v})})()}static _forOperation(_,v,I){return(0,c.Z)(function*(){yield _._updateTokensIfNecessary(I,!0);const L=oi(I);return new us({user:_,providerId:L,_tokenResponse:I,operationType:v})})()}}function oi(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function wu(x){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(x){var _;const v=pi(x);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new us({user:v.currentUser,providerId:null,operationType:"signIn"});const I=yield ad(v,{returnSecureToken:!0}),L=yield us._fromIdTokenResponse(v,"signIn",I,!0);return yield v._updateCurrentUser(L.user),L})).apply(this,arguments)}class xu extends M.ZR{constructor(_,v,I,L){var j;super(v.code,v.message),this.operationType=I,this.user=L,Object.setPrototypeOf(this,xu.prototype),this.customData={appName:_.name,tenantId:null!==(j=_.tenantId)&&void 0!==j?j:void 0,_serverResponse:v.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(_,v,I,L){return new xu(_,v,I,L)}}function cd(x,_,v,I){return("reauthenticate"===_?v._getReauthenticationResolver(x):v._getIdTokenResponse(x)).catch(j=>{throw"auth/multi-factor-auth-required"===j.code?xu._fromErrorAndOperation(x,j,_,I):j})}function Ei(x){return new Set(x.map(({providerId:_})=>_).filter(_=>!!_))}function pa(x,_){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(x,_){const v=(0,M.m9)(x);yield Dc(!0,v,_);const{providerUserInfo:I}=yield Gn(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),L=Ei(I||[]);return v.providerData=v.providerData.filter(j=>L.has(j.providerId)),L.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function ga(x,_){return dl.apply(this,arguments)}function dl(){return(dl=(0,c.Z)(function*(x,_,v=!1){const I=yield Wn(x,_._linkToIdToken(x.auth,yield x.getIdToken()),v);return us._forOperation(x,"link",I)})).apply(this,arguments)}function Dc(x,_,v){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(x,_,v){yield Zi(_);const L=!1===x?"provider-already-linked":"no-such-provider";be(Ei(_.providerData).has(v)===x,_.auth,L)})).apply(this,arguments)}function Qi(x,_){return hl.apply(this,arguments)}function hl(){return(hl=(0,c.Z)(function*(x,_,v=!1){const{auth:I}=x,L="reauthenticate";try{const j=yield Wn(x,cd(I,L,_,x),v);be(j.idToken,I,"internal-error");const xe=Ft(j.idToken);be(xe,I,"internal-error");const{sub:Je}=xe;return be(x.uid===Je,I,"user-mismatch"),us._forOperation(x,L,j)}catch(j){throw"auth/user-not-found"===j?.code&&Be(I,"user-mismatch"),j}})).apply(this,arguments)}function Xi(x,_){return fl.apply(this,arguments)}function fl(){return(fl=(0,c.Z)(function*(x,_,v=!1){const I="signIn",L=yield cd(x,I,_),j=yield us._fromIdTokenResponse(x,I,L);return v||(yield x._updateCurrentUser(j.user)),j})).apply(this,arguments)}function Ji(x,_){return pr.apply(this,arguments)}function pr(){return(pr=(0,c.Z)(function*(x,_){return Xi(pi(x),_)})).apply(this,arguments)}function $a(x,_){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(x,_){const v=(0,M.m9)(x);return yield Dc(!1,v,_.providerId),ga(v,_)})).apply(this,arguments)}function or(x,_){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(x,_){return Qi((0,M.m9)(x),_)})).apply(this,arguments)}function eo(x,_){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,c.Z)(function*(x,_){return Jn(x,"POST","/v1/accounts:signInWithCustomToken",mn(x,_))})).apply(this,arguments)}function Sc(x,_){return bs.apply(this,arguments)}function bs(){return(bs=(0,c.Z)(function*(x,_){const v=pi(x),I=yield eo(v,{token:_,returnSecureToken:!0}),L=yield us._fromIdTokenResponse(v,"signIn",I);return yield v._updateCurrentUser(L.user),L})).apply(this,arguments)}class wi{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?Fl._fromServerResponse(_,v):Be(_,"internal-error")}}class Fl extends wi{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new Fl(v)}}function Ga(x,_,v){var I;be((null===(I=v.url)||void 0===I?void 0:I.length)>0,x,"invalid-continue-uri"),be(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(be(v.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(be(v.android.packageName.length>0,x,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Nl(x,_,v){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(x,_,v){const I=(0,M.m9)(x),L={requestType:"PASSWORD_RESET",email:_};v&&Ga(I,L,v),yield cl(I,L)})).apply(this,arguments)}function Cu(x,_,v){return ya.apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(x,_,v){yield vi((0,M.m9)(x),{oobCode:_,newPassword:v})})).apply(this,arguments)}function gn(x,_){return va.apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(x,_){yield St((0,M.m9)(x),{oobCode:_})})).apply(this,arguments)}function Ll(x,_){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,c.Z)(function*(x,_){const v=(0,M.m9)(x),I=yield vi(v,{oobCode:_}),L=I.requestType;switch(be(L,v,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be(I.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be(I.mfaInfo,v,"internal-error");default:be(I.email,v,"internal-error")}let j=null;return I.mfaInfo&&(j=wi._fromServerResponse(pi(v),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:j},operation:L}})).apply(this,arguments)}function Rh(x,_){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,c.Z)(function*(x,_){const{data:v}=yield Ll((0,M.m9)(x),_);return v.email})).apply(this,arguments)}function Bl(x,_,v){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(x,_,v){const I=pi(x),L=yield ad(I,{returnSecureToken:!0,email:_,password:v}),j=yield us._fromIdTokenResponse(I,"signIn",L);return yield I._updateCurrentUser(j.user),j})).apply(this,arguments)}function Oh(x,_,v){return Ji((0,M.m9)(x),Ol.credential(_,v))}function Qe(x,_,v){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(x,_,v){const I=(0,M.m9)(x),L={requestType:"EMAIL_SIGNIN",email:_};be(v.handleCodeInApp,I,"argument-error"),v&&Ga(I,L,v),yield un(I,L)})).apply(this,arguments)}function pl(x,_){return"EMAIL_SIGNIN"===Oi.parseLink(_)?.operation}function Iu(x,_,v){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(x,_,v){const I=(0,M.m9)(x),L=Ol.credentialWithLink(_,v||lt());return be(L._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Ji(I,L)})).apply(this,arguments)}function Ul(x,_){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,c.Z)(function*(x,_){return Gt(x,"POST","/v1/accounts:createAuthUri",mn(x,_))})).apply(this,arguments)}function Es(x,_){return kc.apply(this,arguments)}function kc(){return(kc=(0,c.Z)(function*(x,_){const I={identifier:_,continueUri:it()?lt():"http://localhost"},{signinMethods:L}=yield Ul((0,M.m9)(x),I);return L||[]})).apply(this,arguments)}function Vl(x,_){return ws.apply(this,arguments)}function ws(){return(ws=(0,c.Z)(function*(x,_){const v=(0,M.m9)(x),L={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};_&&Ga(v.auth,L,_);const{email:j}=yield as(v.auth,L);j!==x.email&&(yield x.reload())})).apply(this,arguments)}function Nf(x,_,v){return ba.apply(this,arguments)}function ba(){return(ba=(0,c.Z)(function*(x,_,v){const I=(0,M.m9)(x),j={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:_};v&&Ga(I.auth,j,v);const{email:xe}=yield cs(I.auth,j);xe!==x.email&&(yield x.reload())})).apply(this,arguments)}function Wr(x,_){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(x,_){return Gt(x,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Ea(x,_){return xo.apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(x,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const I=(0,M.m9)(x),j={idToken:yield I.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},xe=yield Wn(I,Wr(I.auth,j));I.displayName=xe.displayName||null,I.photoURL=xe.photoUrl||null;const Je=I.providerData.find(({providerId:Tt})=>"password"===Tt);Je&&(Je.displayName=I.displayName,Je.photoURL=I.photoURL),yield I._updateTokensIfNecessary(xe)})).apply(this,arguments)}function xs(x,_){return Hl((0,M.m9)(x),_,null)}function Lf(x,_){return Hl((0,M.m9)(x),null,_)}function Hl(x,_,v){return js.apply(this,arguments)}function js(){return(js=(0,c.Z)(function*(x,_,v){const{auth:I}=x,j={idToken:yield x.getIdToken(),returnSecureToken:!0};_&&(j.email=_),v&&(j.password=v);const xe=yield Wn(x,ii(I,j));yield x._updateTokensIfNecessary(xe,!0)})).apply(this,arguments)}class wa{constructor(_,v,I={}){this.isNewUser=_,this.providerId=v,this.profile=I}}class Du extends wa{constructor(_,v,I,L){super(_,v,I),this.username=L}}class Ph extends wa{constructor(_,v){super(_,"facebook.com",v)}}class Su extends Du{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class ld extends wa{constructor(_,v){super(_,"google.com",v)}}class Fh extends Du{constructor(_,v,I){super(_,"twitter.com",v,I)}}function Wa(x){const{user:_,_tokenResponse:v}=x;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Oo(x){var _,v;if(!x)return null;const{providerId:I}=x,L=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},j=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!I&&x?.idToken){const xe=null===(v=null===(_=Ft(x.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(xe)return new wa(j,"anonymous"!==xe&&"custom"!==xe?xe:null)}if(!I)return null;switch(I){case"facebook.com":return new Ph(j,L);case"github.com":return new Su(j,L);case"google.com":return new ld(j,L);case"twitter.com":return new Fh(j,L,x.screenName||null);case"custom":case"anonymous":return new wa(j,null);default:return new wa(j,I,L)}}(v)}class sr{constructor(_,v,I){this.type=_,this.credential=v,this.auth=I}static _fromIdtoken(_,v){return new sr("enroll",_,v)}static _fromMfaPendingCredential(_){return new sr("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,I;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return sr._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(I=_.multiFactorSession)&&void 0!==I&&I.idToken)return sr._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Co{constructor(_,v,I){this.session=_,this.hints=v,this.signInResolver=I}static _fromError(_,v){const I=pi(_),L=v.customData._serverResponse,j=(L.mfaInfo||[]).map(Je=>wi._fromServerResponse(I,Je));be(L.mfaPendingCredential,I,"internal-error");const xe=sr._fromMfaPendingCredential(L.mfaPendingCredential);return new Co(xe,j,function(){var Je=(0,c.Z)(function*(Tt){const Ut=yield Tt._process(I,xe);delete L.mfaInfo,delete L.mfaPendingCredential;const wn=Object.assign(Object.assign({},L),{idToken:Ut.idToken,refreshToken:Ut.refreshToken});switch(v.operationType){case"signIn":const ar=yield us._fromIdTokenResponse(I,v.operationType,wn);return yield I._updateCurrentUser(ar.user),ar;case"reauthenticate":return be(v.user,I,"internal-error"),us._forOperation(v.user,v.operationType,wn);default:Be(I,"internal-error")}});return function(Tt){return Je.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,c.Z)(function*(){return v.signInResolver(_)})()}}function jl(x,_){var v;const I=(0,M.m9)(x),L=_;return be(_.customData.operationType,I,"argument-error"),be(null===(v=L.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,I,"argument-error"),Co._fromError(I,L)}function Fi(x,_){return Gt(x,"POST","/v2/accounts/mfaEnrollment:start",mn(x,_))}class Oc{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(I=>wi._fromServerResponse(_.auth,I)))})}static _fromUser(_){return new Oc(_)}getSession(){var _=this;return(0,c.Z)(function*(){return sr._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,v){var I=this;return(0,c.Z)(function*(){const L=_,j=yield I.getSession(),xe=yield Wn(I.user,L._process(I.user.auth,j,v));return yield I.user._updateTokensIfNecessary(xe),I.user.reload()})()}unenroll(_){var v=this;return(0,c.Z)(function*(){const I="string"==typeof _?_:_.uid,L=yield v.user.getIdToken(),j=yield Wn(v.user,function Tu(x,_){return Gt(x,"POST","/v2/accounts/mfaEnrollment:withdraw",mn(x,_))}(v.user.auth,{idToken:L,mfaEnrollmentId:I}));v.enrolledFactors=v.enrolledFactors.filter(({uid:xe})=>xe!==I),yield v.user._updateTokensIfNecessary(j);try{yield v.user.reload()}catch(xe){if("auth/user-token-expired"!==xe?.code)throw xe}})()}}const zn=new WeakMap;function Is(x){const _=(0,M.m9)(x);return zn.has(_)||zn.set(_,Oc._fromUser(_)),zn.get(_)}const xa="__sak";class Qo{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(xa,"1"),this.storage.removeItem(xa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const ti=(()=>{class x extends Qo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,I)=>this.onStorageEvent(v,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ud(){const x=(0,M.z$)();return q(x)||Bt(x)}()&&function wc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ai(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const I of Object.keys(this.listeners)){const L=this.storage.getItem(I),j=this.localCache[I];L!==j&&v(I,j,L)}}onStorageEvent(v,I=!1){if(!v.key)return void this.forAllChangedKeys((Je,Tt,Ut)=>{this.notifyListeners(Je,Ut)});const L=v.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Je=this.storage.getItem(L);if(v.newValue!==Je)null!==v.newValue?this.storage.setItem(L,v.newValue):this.storage.removeItem(L);else if(this.localCache[L]===v.newValue&&!I)return}const j=()=>{const Je=this.storage.getItem(L);!I&&this.localCache[L]===Je||this.notifyListeners(L,Je)},xe=this.storage.getItem(L);!function on(){return(0,M.w1)()&&10===document.documentMode}()||xe===v.newValue||v.newValue===v.oldValue?j():setTimeout(j,10)}notifyListeners(v,I){this.localCache[v]=I;const L=this.listeners[v];if(L)for(const j of Array.from(L))j(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,I,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:I,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,I){var L=()=>super._set,j=this;return(0,c.Z)(function*(){yield L().call(j,v,I),j.localCache[v]=JSON.stringify(I)})()}_get(v){var I=()=>super._get,L=this;return(0,c.Z)(function*(){const j=yield I().call(L,v);return L.localCache[v]=JSON.stringify(j),j})()}_remove(v){var I=()=>super._remove,L=this;return(0,c.Z)(function*(){yield I().call(L,v),delete L.localCache[v]})()}}return x.type="LOCAL",x})(),zs=(()=>{class x extends Qo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,I){}_removeListener(v,I){}}return x.type="SESSION",x})();let zl=(()=>{class x{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const I=this.receivers.find(j=>j.isListeningto(v));if(I)return I;const L=new x(v);return this.receivers.push(L),L}isListeningto(v){return this.eventTarget===v}handleEvent(v){var I=this;return(0,c.Z)(function*(){const L=v,{eventId:j,eventType:xe,data:Je}=L.data,Tt=I.handlersMap[xe];if(!Tt?.size)return;L.ports[0].postMessage({status:"ack",eventId:j,eventType:xe});const Ut=Array.from(Tt).map(function(){var ar=(0,c.Z)(function*(Ni){return Ni(L.origin,Je)});return function(Ni){return ar.apply(this,arguments)}}()),wn=yield function Fc(x){return Promise.all(x.map(function(){var _=(0,c.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(I){return{fulfilled:!1,reason:I}}});return function(v){return _.apply(this,arguments)}}()))}(Ut);L.ports[0].postMessage({status:"done",eventId:j,eventType:xe,response:wn})})()}_subscribe(v,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(I)}_unsubscribe(v,I){this.handlersMap[v]&&I&&this.handlersMap[v].delete(I),(!I||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function Ka(x="",_=10){let v="";for(let I=0;I<_;I++)v+=Math.floor(10*Math.random());return x+v}class Za{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,I=50){var L=this;return(0,c.Z)(function*(){const j=typeof MessageChannel<"u"?new MessageChannel:null;if(!j)throw new Error("connection_unavailable");let xe,Je;return new Promise((Tt,Ut)=>{const wn=Ka("",20);j.port1.start();const ar=setTimeout(()=>{Ut(new Error("unsupported_event"))},I);Je={messageChannel:j,onMessage(Ni){const Li=Ni;if(Li.data.eventId===wn)switch(Li.data.status){case"ack":clearTimeout(ar),xe=setTimeout(()=>{Ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(xe),Tt(Li.data.response);break;default:clearTimeout(ar),clearTimeout(xe),Ut(new Error("invalid_response"))}}},L.handlers.add(Je),j.port1.addEventListener("message",Je.onMessage),L.target.postMessage({eventType:_,eventId:wn,data:v},[j.port2])}).finally(()=>{Je&&L.removeMessageHandler(Je)})})()}}function qr(){return window}function Io(){return typeof qr().WorkerGlobalScope<"u"&&"function"==typeof qr().importScripts}function Ds(){return(Ds=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ca="firebaseLocalStorageDb",ds="firebaseLocalStorage",Qa="fbase_key";class Ia{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Da(x,_){return x.transaction([ds],_?"readwrite":"readonly").objectStore(ds)}function Ar(){const x=indexedDB.open(Ca,1);return new Promise((_,v)=>{x.addEventListener("error",()=>{v(x.error)}),x.addEventListener("upgradeneeded",()=>{const I=x.result;try{I.createObjectStore(ds,{keyPath:Qa})}catch(L){v(L)}}),x.addEventListener("success",(0,c.Z)(function*(){const I=x.result;I.objectStoreNames.contains(ds)?_(I):(I.close(),yield function $l(){const x=indexedDB.deleteDatabase(Ca);return new Ia(x).toPromise()}(),_(yield Ar()))}))})}function xi(x,_,v){return _o.apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(x,_,v){const I=Da(x,!0).put({[Qa]:_,value:v});return new Ia(I).toPromise()})).apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(x,_){const v=Da(x,!1).get(_),I=yield new Ia(v).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Lc(x,_){const v=Da(x,!0).delete(_);return new Ia(v).toPromise()}const Ws=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,c.Z)(function*(){return v.db||(v.db=yield Ar()),v.db})()}_withRetries(v){var I=this;return(0,c.Z)(function*(){let L=0;for(;;)try{const j=yield I._openDb();return yield v(j)}catch(j){if(L++>3)throw j;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,c.Z)(function*(){return Io()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,c.Z)(function*(){v.receiver=zl._getInstance(function pd(){return Io()?self:null}()),v.receiver._subscribe("keyChanged",function(){var I=(0,c.Z)(function*(L,j){return{keyProcessed:(yield v._poll()).includes(j.key)}});return function(L,j){return I.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var I=(0,c.Z)(function*(L,j){return["keyChanged"]});return function(L,j){return I.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,c.Z)(function*(){var I,L;if(v.activeServiceWorker=yield function Ya(){return Ds.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Za(v.activeServiceWorker);const j=yield v.sender._send("ping",{},800);!j||(null===(I=j[0])||void 0===I?void 0:I.fulfilled)&&(null===(L=j[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var I=this;return(0,c.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function fd(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:v},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Ar();return yield xi(v,xa,"1"),yield Lc(v,xa),!0}catch{}return!1})()}_withPendingWrite(v){var I=this;return(0,c.Z)(function*(){I.pendingWrites++;try{yield v()}finally{I.pendingWrites--}})()}_set(v,I){var L=this;return(0,c.Z)(function*(){return L._withPendingWrite((0,c.Z)(function*(){return yield L._withRetries(j=>xi(j,v,I)),L.localCache[v]=I,L.notifyServiceWorker(v)}))})()}_get(v){var I=this;return(0,c.Z)(function*(){const L=yield I._withRetries(j=>function Nh(x,_){return Gs.apply(this,arguments)}(j,v));return I.localCache[v]=L,L})()}_remove(v){var I=this;return(0,c.Z)(function*(){return I._withPendingWrite((0,c.Z)(function*(){return yield I._withRetries(L=>Lc(L,v)),delete I.localCache[v],I.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,c.Z)(function*(){const I=yield v._withRetries(xe=>{const Je=Da(xe,!1).getAll();return new Ia(Je).toPromise()});if(!I)return[];if(0!==v.pendingWrites)return[];const L=[],j=new Set;for(const{fbase_key:xe,value:Je}of I)j.add(xe),JSON.stringify(v.localCache[xe])!==JSON.stringify(Je)&&(v.notifyListeners(xe,Je),L.push(xe));for(const xe of Object.keys(v.localCache))v.localCache[xe]&&!j.has(xe)&&(v.notifyListeners(xe,null),L.push(xe));return L})()}notifyListeners(v,I){this.localCache[v]=I;const L=this.listeners[v];if(L)for(const j of Array.from(L))j(I)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})();function Ta(x,_){return Gt(x,"POST","/v2/accounts/mfaSignIn:start",mn(x,_))}function Ci(){return(Ci=(0,c.Z)(function*(x){return(yield Gt(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Uc(x){return new Promise((_,v)=>{const I=document.createElement("script");I.setAttribute("src",x),I.onload=_,I.onerror=L=>{const j=je("internal-error");j.customData=L,v(j)},I.type="text/javascript",I.charset="UTF-8",function Lh(){var x,_;return null!==(_=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==_?_:document}().appendChild(I)})}function hs(x){return`__${x}${Math.floor(1e6*Math.random())}`}const to=1e12;class Po{constructor(_){this.auth=_,this.counter=to,this._widgets=new Map}render(_,v){const I=this.counter;return this._widgets.set(I,new gd(_,this.auth.name,v||{})),this.counter++,I}reset(_){var v;const I=_||to;null===(v=this._widgets.get(I))||void 0===v||v.delete(),this._widgets.delete(I)}getResponse(_){var v;return(null===(v=this._widgets.get(_||to))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,c.Z)(function*(){var I;return null===(I=v._widgets.get(_||to))||void 0===I||I.execute(),""})()}}class gd{constructor(_,v,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof _?document.getElementById(_):_;be(L,"argument-error",{appName:v}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function H(x){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<x;I++)_.push(v.charAt(Math.floor(Math.random()*v.length)));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xo=hs("rcb"),_d=new Lt(3e4,6e4);class Ln{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=qr().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return be(function Aa(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(v),_,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(qr().grecaptcha):new Promise((I,L)=>{const j=qr().setTimeout(()=>{L(je(_,"network-request-failed"))},_d.get());qr()[Xo]=()=>{qr().clearTimeout(j),delete qr()[Xo];const Je=qr().grecaptcha;if(!Je)return void L(je(_,"internal-error"));const Tt=Je.render;Je.render=(Ut,wn)=>{const ar=Tt(Ut,wn);return this.counter++,ar},this.hostLanguage=v,I(Je)},Uc(`https://www.google.com/recaptcha/api.js??${(0,M.xO)({onload:Xo,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(j),L(je(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=qr().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Vc{load(_){return(0,c.Z)(function*(){return new Po(_)})()}clearedOneInstance(){}}const Hc="recaptcha",Ja={theme:"light",type:"image"};class Bh{constructor(_,v=Object.assign({},Ja),I){this.parameters=v,this.type=Hc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pi(I),this.isInvisible="invisible"===this.parameters.size,be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof _?document.getElementById(_):_;be(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vc:new Ln,this.validateStartingState()}verify(){var _=this;return(0,c.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),I=_.getAssertedRecaptcha();return I.getResponse(v)||new Promise(j=>{const xe=Je=>{!Je||(_.tokenChangeListeners.delete(xe),j(Je))};_.tokenChangeListeners.add(xe),_.isInvisible&&I.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(I=>I(v)),"function"==typeof _)_(v);else if("string"==typeof _){const I=qr()[_];"function"==typeof I&&I(v)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,c.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const I=document.createElement("div");v.appendChild(I),v=I}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,c.Z)(function*(){be(it()&&!Io(),_.auth,"internal-error"),yield function Kl(){let x=null;return new Promise(_=>{"complete"!==document.readyState?(x=()=>_(),window.addEventListener("load",x)):_()}).catch(_=>{throw x&&window.removeEventListener("load",x),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function Wl(x){return Ci.apply(this,arguments)}(_.auth);be(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Au{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=Us._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function ec(x,_,v){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(x,_,v){const I=pi(x),L=yield Mu(I,_,(0,M.m9)(v));return new Au(L,j=>Ji(I,j))})).apply(this,arguments)}function qs(x,_,v){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,c.Z)(function*(x,_,v){const I=(0,M.m9)(x);yield Dc(!1,I,"phone");const L=yield Mu(I.auth,_,(0,M.m9)(v));return new Au(L,j=>$a(I,j))})).apply(this,arguments)}function Uh(x,_,v){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,c.Z)(function*(x,_,v){const I=(0,M.m9)(x),L=yield Mu(I.auth,_,(0,M.m9)(v));return new Au(L,j=>or(I,j))})).apply(this,arguments)}function Mu(x,_,v){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,c.Z)(function*(x,_,v){var I;const L=yield v.verify();try{let j;if(be("string"==typeof L,x,"argument-error"),be(v.type===Hc,x,"argument-error"),j="string"==typeof _?{phoneNumber:_}:_,"session"in j){const xe=j.session;if("phoneNumber"in j)return be("enroll"===xe.type,x,"internal-error"),(yield Fi(x,{idToken:xe.credential,phoneEnrollmentInfo:{phoneNumber:j.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{be("signin"===xe.type,x,"internal-error");const Je=(null===(I=j.multiFactorHint)||void 0===I?void 0:I.uid)||j.multiFactorUid;return be(Je,x,"missing-multi-factor-info"),(yield Ta(x,{mfaPendingCredential:xe.credential,mfaEnrollmentId:Je,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:xe}=yield Fn(x,{phoneNumber:j.phoneNumber,recaptchaToken:L});return xe}}finally{v._reset()}})).apply(this,arguments)}function Ss(x,_){return tc.apply(this,arguments)}function tc(){return(tc=(0,c.Z)(function*(x,_){yield ga((0,M.m9)(x),_)})).apply(this,arguments)}let Tm=(()=>{class x{constructor(v){this.providerId=x.PROVIDER_ID,this.auth=pi(v)}verifyPhoneNumber(v,I){return Mu(this.auth,v,(0,M.m9)(I))}static credential(v,I){return Us._fromVerification(v,I)}static credentialFromResult(v){return x.credentialFromTaggedObject(v)}static credentialFromError(v){return x.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:I,temporaryProof:L}=v;return I&&L?Us._fromTokenResponse(I,L):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function nc(x,_){return _?ye(_):(be(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class Kr extends Er{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return ve(_,this._buildIdpRequest())}_linkToIdToken(_,v){return ve(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return ve(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function Yl(x){return Xi(x.auth,new Kr(x),x.bypassAuthState)}function No(x){const{auth:_,user:v}=x;return be(v,_,"internal-error"),Qi(v,new Kr(x),x.bypassAuthState)}function yd(x){return yo.apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(x){const{auth:_,user:v}=x;return be(v,_,"internal-error"),ga(v,new Kr(x),x.bypassAuthState)})).apply(this,arguments)}class gi{constructor(_,v,I,L,j=!1){this.auth=_,this.resolver=I,this.user=L,this.bypassAuthState=j,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,c.Z)(function*(I,L){_.pendingPromise={resolve:I,reject:L};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(j){_.reject(j)}});return function(I,L){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,c.Z)(function*(){const{urlResponse:I,sessionId:L,postBody:j,tenantId:xe,error:Je,type:Tt}=_;if(Je)return void v.reject(Je);const Ut={auth:v.auth,requestUri:I,sessionId:L,tenantId:xe||void 0,postBody:j||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Tt)(Ut))}catch(wn){v.reject(wn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Yl;case"linkViaPopup":case"linkViaRedirect":return yd;case"reauthViaPopup":case"reauthViaRedirect":return No;default:Be(this.auth,"internal-error")}}resolve(_){Ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bf=new Lt(2e3,1e4);function vd(x,_,v){return ml.apply(this,arguments)}function ml(){return(ml=(0,c.Z)(function*(x,_,v){const I=pi(x);ze(x,_,Vs);const L=nc(I,v);return new gt(I,"signInViaPopup",_,L).executeNotNull()})).apply(this,arguments)}function ku(x,_,v){return bd.apply(this,arguments)}function bd(){return(bd=(0,c.Z)(function*(x,_,v){const I=(0,M.m9)(x);ze(I.auth,_,Vs);const L=nc(I.auth,v);return new gt(I.auth,"reauthViaPopup",_,L,I).executeNotNull()})).apply(this,arguments)}function Ma(x,_,v){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,c.Z)(function*(x,_,v){const I=(0,M.m9)(x);ze(I.auth,_,Vs);const L=nc(I.auth,v);return new gt(I.auth,"linkViaPopup",_,L,I).executeNotNull()})).apply(this,arguments)}let gt=(()=>{class x extends gi{constructor(v,I,L,j,xe){super(v,I,j,xe),this.provider=L,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var v=this;return(0,c.Z)(function*(){const I=yield v.execute();return be(I,v.auth,"internal-error"),I})()}onExecution(){var v=this;return(0,c.Z)(function*(){Ge(1===v.filter.length,"Popup operations only handle one event");const I=Ka();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],I),v.authWindow.associatedEvent=I,v.resolver._originValidation(v.auth).catch(L=>{v.reject(L)}),v.resolver._isIframeWebStorageSupported(v.auth,L=>{L||v.reject(je(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const v=()=>{var I,L;this.pollId=null!==(L=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,Bf.get())};v()}}return x.currentPopupAction=null,x})();const Ir=new Map;class Yr extends gi{constructor(_,v,I=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,I),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,c.Z)(function*(){let I=Ir.get(v.auth._key());if(!I){try{const j=(yield function vt(x,_){return jc.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;I=()=>Promise.resolve(j)}catch(L){I=()=>Promise.reject(L)}Ir.set(v.auth._key(),I)}return v.bypassAuthState||Ir.set(v.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,I=this;return(0,c.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(I,_);if("unknown"!==_.type){if(_.eventId){const L=yield I.auth._redirectUserForId(_.eventId);if(L)return I.user=L,v().call(I,_);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function jc(){return(jc=(0,c.Z)(function*(x,_){const v=T(_),I=Ra(x);if(!(yield I._isAvailable()))return!1;const L="true"===(yield I._get(v));return yield I._remove(v),L})).apply(this,arguments)}function gl(x,_){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,c.Z)(function*(x,_){return Ra(x)._set(T(_),"true")})).apply(this,arguments)}function ka(){Ir.clear()}function Ql(x,_){Ir.set(x._key(),_)}function Ra(x){return ye(x._redirectPersistence)}function T(x){return ie("pendingRedirect",x.config.apiKey,x.name)}function k(x,_,v){return function U(x,_,v){return J.apply(this,arguments)}(x,_,v)}function J(){return(J=(0,c.Z)(function*(x,_,v){const I=pi(x);ze(x,_,Vs);const L=nc(I,v);return yield gl(L,I),L._openRedirect(I,_,"signInViaRedirect")})).apply(this,arguments)}function _e(x,_,v){return function Ie(x,_,v){return rt.apply(this,arguments)}(x,_,v)}function rt(){return(rt=(0,c.Z)(function*(x,_,v){const I=(0,M.m9)(x);ze(I.auth,_,Vs);const L=nc(I.auth,v);yield gl(L,I.auth);const j=yield ai(I);return L._openRedirect(I.auth,_,"reauthViaRedirect",j)})).apply(this,arguments)}function Ot(x,_,v){return function Pt(x,_,v){return zt.apply(this,arguments)}(x,_,v)}function zt(){return(zt=(0,c.Z)(function*(x,_,v){const I=(0,M.m9)(x);ze(I.auth,_,Vs);const L=nc(I.auth,v);yield Dc(!1,I,_.providerId),yield gl(L,I.auth);const j=yield ai(I);return L._openRedirect(I.auth,_,"linkViaRedirect",j)})).apply(this,arguments)}function An(x,_){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(x,_){return yield pi(x)._initializationPromise,si(x,_,!1)})).apply(this,arguments)}function si(x,_){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(x,_,v=!1){const I=pi(x),L=nc(I,_),xe=yield new Yr(I,L,v).execute();return xe&&!v&&(delete xe.user._redirectEventId,yield I._persistUserIfCurrent(xe.user),yield I._setRedirectUser(null,_)),xe})).apply(this,arguments)}function ai(x){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(x){const _=Ka(`${x.uid}:::`);return x._redirectEventId=_,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),_})).apply(this,arguments)}class ci{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(_,I)&&(v=!0,this.sendToConsumer(_,I),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Ed(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ni(x);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var I;if(_.error&&!ni(_)){const L=(null===(I=_.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";v.onError(je(this.auth,L))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const I=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&I}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jo(_))}saveEventToCache(_){this.cachedEventUids.add(Jo(_)),this.lastProcessedEventTime=Date.now()}}function Jo(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(_=>_).join("-")}function ni({type:x,error:_}){return"unknown"===x&&"auth/no-auth-event"===_?.code}function Uf(x){return jh.apply(this,arguments)}function jh(){return(jh=(0,c.Z)(function*(x,_={}){return Gt(x,"GET","/v1/projects",_)})).apply(this,arguments)}const wd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zc=/^https?/;function rc(){return(rc=(0,c.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:_}=yield Uf(x);for(const v of _)try{if(j_(v))return}catch{}Be(x,"unauthorized-domain")})).apply(this,arguments)}function j_(x){const _=lt(),{protocol:v,hostname:I}=new URL(_);if(x.startsWith("chrome-extension://")){const xe=new URL(x);return""===xe.hostname&&""===I?"chrome-extension:"===v&&x.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&xe.hostname===I}if(!zc.test(v))return!1;if(wd.test(x))return I===x;const L=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(I)}const Mm=new Lt(3e4,6e4);function z_(){const x=qr().___jsl;if(x?.H)for(const _ of Object.keys(x.H))if(x.H[_].r=x.H[_].r||[],x.H[_].L=x.H[_].L||[],x.H[_].r=[...x.H[_].L],x.CP)for(let v=0;v<x.CP.length;v++)x.CP[v]=null}let zh=null;function Vf(x){return zh=zh||function xd(x){return new Promise((_,v)=>{var I,L,j;function xe(){z_(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{z_(),v(je(x,"network-request-failed"))},timeout:Mm.get()})}if(null!==(L=null===(I=qr().gapi)||void 0===I?void 0:I.iframes)&&void 0!==L&&L.Iframe)_(gapi.iframes.getContext());else{if(null===(j=qr().gapi)||void 0===j||!j.load){const Je=hs("iframefcb");return qr()[Je]=()=>{gapi.load?xe():v(je(x,"network-request-failed"))},Uc(`https://apis.google.com/js/api.js?onload=${Je}`).catch(Tt=>v(Tt))}xe()}}).catch(_=>{throw zh=null,_})}(x),zh}const Hf=new Lt(5e3,15e3),$_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rm(x){const _=x.config;be(_.authDomain,x,"auth-domain-config-required");const v=_.emulator?yn(_,"emulator/auth/iframe"):`https://${x.config.authDomain}/__/auth/iframe`,I={apiKey:_.apiKey,appName:x.name,v:N.SDK_VERSION},L=Kb.get(x.config.apiHost);L&&(I.eid=L);const j=x._getFrameworks();return j.length&&(I.fw=j.join(",")),`${v}?${(0,M.xO)(I).slice(1)}`}function $h(){return $h=(0,c.Z)(function*(x){const _=yield Vf(x),v=qr().gapi;return be(v,x,"internal-error"),_.open({where:document.body,url:Rm(x),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$_,dontclear:!0},I=>new Promise(function(){var L=(0,c.Z)(function*(j,xe){yield I.restyle({setHideOnLeave:!1});const Je=je(x,"network-request-failed"),Tt=qr().setTimeout(()=>{xe(Je)},Hf.get());function Ut(){qr().clearTimeout(Tt),j(I)}I.ping(Ut).then(Ut,()=>{xe(Je)})});return function(j,xe){return L.apply(this,arguments)}}()))}),$h.apply(this,arguments)}const Ou={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Sd{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ic(x,_,v,I,L,j){be(x.config.authDomain,x,"auth-domain-config-required"),be(x.config.apiKey,x,"invalid-api-key");const xe={apiKey:x.config.apiKey,appName:x.name,authType:v,redirectUrl:I,v:N.SDK_VERSION,eventId:L};if(_ instanceof Vs){_.setDefaultLanguage(x.languageCode),xe.providerId=_.providerId||"",(0,M.xb)(_.getCustomParameters())||(xe.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Tt,Ut]of Object.entries(j||{}))xe[Tt]=Ut}if(_ instanceof Cc){const Tt=_.getScopes().filter(Ut=>""!==Ut);Tt.length>0&&(xe.scopes=Tt.join(","))}x.tenantId&&(xe.tid=x.tenantId);const Je=xe;for(const Tt of Object.keys(Je))void 0===Je[Tt]&&delete Je[Tt];return`${function Fu({config:x}){return x.emulator?yn(x,"emulator/auth/handler"):`https://${x.authDomain}/__/auth/handler`}(x)}?${(0,M.xO)(Je).slice(1)}`}const Gh="webStorageSupport",$f=class Td{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zs,this._completeRedirectFn=si,this._overrideRedirectResult=Ql}_openPopup(_,v,I,L){var j=this;return(0,c.Z)(function*(){var xe;Ge(null===(xe=j.eventManagers[_._key()])||void 0===xe?void 0:xe.manager,"_initialize() not called before _openPopup()");const Je=ic(_,v,I,lt(),L);return function Zs(x,_,v,I=500,L=600){const j=Math.max((window.screen.availHeight-L)/2,0).toString(),xe=Math.max((window.screen.availWidth-I)/2,0).toString();let Je="";const Tt=Object.assign(Object.assign({},Ou),{width:I.toString(),height:L.toString(),top:j,left:xe}),Ut=(0,M.z$)().toLowerCase();v&&(Je=Me(Ut)?"_blank":v),V(Ut)&&(_=_||"http://localhost",Tt.scrollbars="yes");const wn=Object.entries(Tt).reduce((Ni,[Li,On])=>`${Ni}${Li}=${On},`,"");if(function fi(x=(0,M.z$)()){var _;return Bt(x)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Ut)&&"_self"!==Je)return function zf(x,_){const v=document.createElement("a");v.href=x,v.target=_;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(I)}(_||"",Je),new Sd(null);const ar=window.open(_||"",Je,wn);be(ar,x,"popup-blocked");try{ar.focus()}catch{}return new Sd(ar)}(_,Je,Ka())})()}_openRedirect(_,v,I,L){var j=this;return(0,c.Z)(function*(){return yield j._originValidation(_),function $s(x){qr().location.href=x}(ic(_,v,I,lt(),L)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:L,promise:j}=this.eventManagers[v];return L?Promise.resolve(L):(Ge(j,"If manager is not set, promise should be"),j)}const I=this.initAndGetManager(_);return this.eventManagers[v]={promise:I},I.catch(()=>{delete this.eventManagers[v]}),I}initAndGetManager(_){var v=this;return(0,c.Z)(function*(){const I=yield function jf(x){return $h.apply(this,arguments)}(_),L=new ci(_);return I.register("authEvent",j=>(be(j?.authEvent,_,"invalid-auth-event"),{status:L.onEvent(j.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:L},v.iframes[_._key()]=I,L})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(Gh,{type:Gh},L=>{var j;const xe=null===(j=L?.[0])||void 0===j?void 0:j[Gh];void 0!==xe&&v(!!xe),Be(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Am(x){return rc.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return Ai()||q()||Bt()}};class Ad{constructor(_){this.factorId=_}_process(_,v,I){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,I);case"signin":return this._finalizeSignIn(_,v.credential);default:return Re("unexpected MultiFactorSessionType")}}}class Rn extends Ad{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Rn(_)}_finalizeEnroll(_,v,I){return function Rc(x,_){return Gt(x,"POST","/v2/accounts/mfaEnrollment:finalize",mn(x,_))}(_,{idToken:v,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function Xa(x,_){return Gt(x,"POST","/v2/accounts/mfaSignIn:finalize",mn(x,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let W_=(()=>{class x{constructor(){}static assertion(v){return Rn._fromCredential(v)}}return x.FACTOR_ID="phone",x})();var es="@firebase/auth";class Wh{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,c.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(I=>{_(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);!v||(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Do=(0,M.Pz)("authIdTokenMaxAge")||300;let Nu=null;const $c=x=>function(){var _=(0,c.Z)(function*(v){const I=v&&(yield v.getIdTokenResult()),L=I&&((new Date).getTime()-Date.parse(I.issuedAtTime))/1e3;if(L&&L>Do)return;const j=I?.token;Nu!==j&&(Nu=j,yield fetch(x,{method:j?"POST":"DELETE",headers:j?{Authorization:`Bearer ${j}`}:{}}))});return function(v){return _.apply(this,arguments)}}();function Md(x=(0,N.getApp)()){const _=(0,N._getProvider)(x,"auth");if(_.isInitialized())return _.getImmediate();const v=function Le(x,_){const v=(0,N._getProvider)(x,"auth");if(v.isInitialized()){const L=v.getImmediate(),j=v.getOptions();if((0,M.vZ)(j,_??{}))return L;Be(L,"already-initialized")}return v.initialize({options:_})}(x,{popupRedirectResolver:$f,persistence:[Ws,ti,zs]}),I=(0,M.Pz)("authTokenSyncURL");if(I){const j=$c(I);(function Ve(x,_,v){(0,M.m9)(x).beforeAuthStateChanged(_,v)})(v,j,()=>j(v.currentUser)),function We(x,_,v,I){(0,M.m9)(x).onIdTokenChanged(_,v,I)}(v,xe=>j(xe))}const L=(0,M.q4)("auth");return L&&xc(v,`http://${L}`),v}!function Bo(x){(0,N._registerComponent)(new ee.wA("auth",(_,{options:v})=>{const I=_.getProvider("app").getImmediate(),L=_.getProvider("heartbeat"),{apiKey:j,authDomain:xe}=I.options;return((Je,Tt)=>{be(j&&!j.includes(":"),"invalid-api-key",{appName:Je.name}),be(!xe?.includes(":"),"argument-error",{appName:Je.name});const Ut={apiKey:j,authDomain:xe,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:la(x)},wn=new al(Je,Tt,Ut);return function Te(x,_){const v=_?.persistence||[],I=(Array.isArray(v)?v:[v]).map(ye);_?.errorMap&&x._updateErrorMap(_.errorMap),x._initializeWithPersistence(I,_?.popupRedirectResolver)}(wn,v),wn})(I,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,I)=>{_.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new ee.wA("auth-internal",_=>{const v=pi(_.getProvider("auth").getImmediate());return new Wh(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(es,"0.21.0",function Gf(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,N.registerVersion)(es,"0.21.0","esm2017")}("Browser")},2090:(de,te,R)=>{"use strict";R.d(te,{$s:()=>bt,BH:()=>$n,G6:()=>ze,L:()=>le,LL:()=>jn,Pz:()=>Hn,Sg:()=>Lt,UG:()=>Xe,US:()=>ee,ZB:()=>W,ZR:()=>jt,aH:()=>kt,b$:()=>Ne,eu:()=>be,hl:()=>at,jU:()=>ot,m9:()=>In,ne:()=>jr,pd:()=>ir,q4:()=>lt,r3:()=>Rr,ru:()=>ke,tV:()=>se,uI:()=>Fe,vZ:()=>Gn,w1:()=>Be,xO:()=>Zn,xb:()=>Ki,z$:()=>Ae,zI:()=>Re,zd:()=>Hr});const ae=function(ce){const ie=[];let fe=0;for(let X=0;X<ce.length;X++){let V=ce.charCodeAt(X);V<128?ie[fe++]=V:V<2048?(ie[fe++]=V>>6|192,ie[fe++]=63&V|128):55296==(64512&V)&&X+1<ce.length&&56320==(64512&ce.charCodeAt(X+1))?(V=65536+((1023&V)<<10)+(1023&ce.charCodeAt(++X)),ie[fe++]=V>>18|240,ie[fe++]=V>>12&63|128,ie[fe++]=V>>6&63|128,ie[fe++]=63&V|128):(ie[fe++]=V>>12|224,ie[fe++]=V>>6&63|128,ie[fe++]=63&V|128)}return ie},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ce,ie){if(!Array.isArray(ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const fe=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let V=0;V<ce.length;V+=3){const q=ce[V],Me=V+1<ce.length,tt=Me?ce[V+1]:0,Rt=V+2<ce.length,_t=Rt?ce[V+2]:0;let dr=(15&tt)<<2|_t>>6,fi=63&_t;Rt||(fi=64,Me||(dr=64)),X.push(fe[q>>2],fe[(3&q)<<4|tt>>4],fe[dr],fe[fi])}return X.join("")},encodeString(ce,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(ce):this.encodeByteArray(ae(ce),ie)},decodeString(ce,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(ce):function(ce){const ie=[];let fe=0,X=0;for(;fe<ce.length;){const V=ce[fe++];if(V<128)ie[X++]=String.fromCharCode(V);else if(V>191&&V<224){const q=ce[fe++];ie[X++]=String.fromCharCode((31&V)<<6|63&q)}else if(V>239&&V<365){const Rt=((7&V)<<18|(63&ce[fe++])<<12|(63&ce[fe++])<<6|63&ce[fe++])-65536;ie[X++]=String.fromCharCode(55296+(Rt>>10)),ie[X++]=String.fromCharCode(56320+(1023&Rt))}else{const q=ce[fe++],Me=ce[fe++];ie[X++]=String.fromCharCode((15&V)<<12|(63&q)<<6|63&Me)}}return ie.join("")}(this.decodeStringToByteArray(ce,ie))},decodeStringToByteArray(ce,ie){this.init_();const fe=ie?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let V=0;V<ce.length;){const q=fe[ce.charAt(V++)],tt=V<ce.length?fe[ce.charAt(V)]:0;++V;const _t=V<ce.length?fe[ce.charAt(V)]:64;++V;const Bt=V<ce.length?fe[ce.charAt(V)]:64;if(++V,null==q||null==tt||null==_t||null==Bt)throw Error();X.push(q<<2|tt>>4),64!==_t&&(X.push(tt<<4&240|_t>>2),64!==Bt&&X.push(_t<<6&192|Bt))}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ce=0;ce<this.ENCODED_VALS.length;ce++)this.byteToCharMap_[ce]=this.ENCODED_VALS.charAt(ce),this.charToByteMap_[this.byteToCharMap_[ce]]=ce,this.byteToCharMapWebSafe_[ce]=this.ENCODED_VALS_WEBSAFE.charAt(ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ce]]=ce,ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ce)]=ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ce)]=ce)}}},le=function(ce){return function(ce){const ie=ae(ce);return ee.encodeByteArray(ie,!0)}(ce).replace(/\./g,"")},se=function(ce){try{return ee.decodeString(ce,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function W(ce,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===ce&&(ce={});break;case Array:ce=[];break;default:return ie}for(const fe in ie)!ie.hasOwnProperty(fe)||!re(fe)||(ce[fe]=W(ce[fe],ie[fe]));return ce}function re(ce){return"__proto__"!==ce}function Ae(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function Xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ot(){return"object"==typeof self&&self.self===self}function ke(){const ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ce&&void 0!==ce.id}function Ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){const ce=Ae();return ce.indexOf("MSIE ")>=0||ce.indexOf("Trident/")>=0}function ze(){return!Xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function at(){try{return"object"==typeof indexedDB}catch{return!1}}function be(){return new Promise((ce,ie)=>{try{let fe=!0;const X="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open(X);V.onsuccess=()=>{V.result.close(),fe||self.indexedDB.deleteDatabase(X),ce(!0)},V.onupgradeneeded=()=>{fe=!1},V.onerror=()=>{var q;ie((null===(q=V.error)||void 0===q?void 0:q.message)||"")}}catch(fe){ie(fe)}})}function Re(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Te=()=>{try{return function Ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ce=process.env.__FIREBASE_DEFAULTS__;return ce?JSON.parse(ce):void 0})()||(()=>{if(typeof document>"u")return;let ce;try{ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ie=ce&&se(ce[1]);return ie&&JSON.parse(ie)})()}catch(ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ce}`)}},lt=ce=>{var ie,fe;return null===(fe=null===(ie=Te())||void 0===ie?void 0:ie.emulatorHosts)||void 0===fe?void 0:fe[ce]},kt=()=>{var ce;return null===(ce=Te())||void 0===ce?void 0:ce.config},Hn=ce=>{var ie;return null===(ie=Te())||void 0===ie?void 0:ie[`_${ce}`]};class $n{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,fe)=>{this.resolve=ie,this.reject=fe})}wrapCallback(ie){return(fe,X)=>{fe?this.reject(fe):this.resolve(X),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(fe):ie(fe,X))}}}function Lt(ce,ie){if(ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const X=ie||"demo-project",V=ce.iat||0,q=ce.sub||ce.user_id;if(!q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Me=Object.assign({iss:`https://securetoken.google.com/${X}`,aud:X,iat:V,exp:V+3600,auth_time:V,sub:q,user_id:q,firebase:{sign_in_provider:"custom",identities:{}}},ce);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Me)),""].join(".")}class jt extends Error{constructor(ie,fe,X){super(fe),this.code=ie,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,jt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jn.prototype.create)}}class jn{constructor(ie,fe,X){this.service=ie,this.serviceName=fe,this.errors=X}create(ie,...fe){const X=fe[0]||{},V=`${this.service}/${ie}`,q=this.errors[ie],Me=q?function ur(ce,ie){return ce.replace(mn,(fe,X)=>{const V=ie[X];return null!=V?String(V):`<${X}?>`})}(q,X):"Error";return new jt(V,`${this.serviceName}: ${Me} (${V}).`,X)}}const mn=/\{\$([^}]+)}/g;function Rr(ce,ie){return Object.prototype.hasOwnProperty.call(ce,ie)}function Ki(ce){for(const ie in ce)if(Object.prototype.hasOwnProperty.call(ce,ie))return!1;return!0}function Gn(ce,ie){if(ce===ie)return!0;const fe=Object.keys(ce),X=Object.keys(ie);for(const V of fe){if(!X.includes(V))return!1;const q=ce[V],Me=ie[V];if(Xr(q)&&Xr(Me)){if(!Gn(q,Me))return!1}else if(q!==Me)return!1}for(const V of X)if(!fe.includes(V))return!1;return!0}function Xr(ce){return null!==ce&&"object"==typeof ce}function Zn(ce){const ie=[];for(const[fe,X]of Object.entries(ce))Array.isArray(X)?X.forEach(V=>{ie.push(encodeURIComponent(fe)+"="+encodeURIComponent(V))}):ie.push(encodeURIComponent(fe)+"="+encodeURIComponent(X));return ie.length?"&"+ie.join("&"):""}function Hr(ce){const ie={};return ce.replace(/^\?/,"").split("&").forEach(X=>{if(X){const[V,q]=X.split("=");ie[decodeURIComponent(V)]=decodeURIComponent(q)}}),ie}function ir(ce){const ie=ce.indexOf("?");if(!ie)return"";const fe=ce.indexOf("#",ie);return ce.substring(ie,fe>0?fe:void 0)}function jr(ce,ie){const fe=new tn(ce,ie);return fe.subscribe.bind(fe)}class tn{constructor(ie,fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=fe,this.task.then(()=>{ie(this)}).catch(X=>{this.error(X)})}next(ie){this.forEachObserver(fe=>{fe.next(ie)})}error(ie){this.forEachObserver(fe=>{fe.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,fe,X){let V;if(void 0===ie&&void 0===fe&&void 0===X)throw new Error("Missing Observer.");V=function Wt(ce,ie){if("object"!=typeof ce||null===ce)return!1;for(const fe of ie)if(fe in ce&&"function"==typeof ce[fe])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:fe,complete:X},void 0===V.next&&(V.next=Wn),void 0===V.error&&(V.error=Wn),void 0===V.complete&&(V.complete=Wn);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?V.error(this.finalError):V.complete()}catch{}}),this.observers.push(V),q}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let fe=0;fe<this.observers.length;fe++)this.sendOne(fe,ie)}sendOne(ie,fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{fe(this.observers[ie])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wn(){}function bt(ce,ie=1e3,fe=2){const X=ie*Math.pow(fe,ce),V=Math.round(.5*X*(Math.random()-.5)*2);return Math.min(144e5,X+V)}function In(ce){return ce&&ce._delegate?ce._delegate:ce}},8478:(de,te,R)=>{"use strict";var c=R(4650);let M=null;function N(){return M}class ne{}const ee=new c.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function le(){return(0,c.LFG)(G)}()},providedIn:"platform"}),n})();const se=new c.OlP("Location Initialized");let G=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){W()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){W()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function re(){return new G((0,c.LFG)(ee))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Fe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xe(n){return n&&"?"!==n[0]?"?"+n:n}let ot=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ne)},providedIn:"root"}),n})();const ke=new c.OlP("appBaseHref");let Ne=(()=>{class n extends ot{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Xe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const u=this.prepareExternalUrl(i+Xe(s));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,s){const u=this.prepareExternalUrl(i+Xe(s));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(ke,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pe=(()=>{class n extends ot{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let u=this.prepareExternalUrl(i+Xe(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,s){let u=this.prepareExternalUrl(i+Xe(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(ke,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function at(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Fe(ze(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xe(r))}normalize(t){return n.stripTrailingSlash(function $e(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._basePath,ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Xe,n.joinWithSlash=Ae,n.stripTrailingSlash=Fe,n.\u0275fac=function(t){return new(t||n)(c.LFG(ot))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function je(){return new Be((0,c.LFG)(ot))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}function ii(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let mo=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Mi{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ki=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Mi(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===s?void 0:s);else if(null!==s){const p=r.get(s);r.move(p,u),Nr(p,i)}});for(let i=0,s=r.length;i<s;i++){const p=r.get(i).context;p.index=i,p.count=s,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Nr(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Nr(n,e){n.context.$implicit=e.item}let Dn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new cl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Yo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Yo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class cl{constructor(){this.$implicit=null,this.ngIf=null}}function Yo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class un{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ko=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),cs=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new un(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ko,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),fa=(()=>{class n{constructor(t,r,i){i._addDefault(new un(t,r))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ko,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Ce=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:u}=this;this._viewRef=r.createEmbeddedView(i,s,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),n})(),bi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const ad="browser";function Hs(n){return"server"===n}let pa=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new ma((0,c.LFG)(ee),window)}),n})();class ma{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function dl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ga(this.window.history)||ga(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ga(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _a{}class Oc extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class zn extends Oc{static makeCurrent(){!function ae(n){M||(M=n)}(new zn)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function xa(){return Is=Is||document.querySelector("base"),Is?Is.getAttribute("href"):null}();return null==t?null:function ud(n){Qo=Qo||document.createElement("a"),Qo.setAttribute("href",n);const e=Qo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Is=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ii(document.cookie,e)}}let Qo,Is=null;const dd=new c.OlP("TRANSITION_ID"),qa=[{provide:c.ip1,useFactory:function Pc(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[dd,ee,c.zs3],multi:!0}];let hd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const zs=new c.OlP("EventManagerPlugins");let Fc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const u=i[s];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class zl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ka=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Za=(()=>{class n extends Ka{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(qr),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(qr))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function qr(n){N().remove(n)}const $s={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Io=/%COMP%/g;function ds(n,e){return e.flat(100).map(t=>t.replace(Io,n))}function Qa(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Da=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new $l(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Nh(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new Gs(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ds(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fc),c.LFG(Za),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class $l{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS($s[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(_o(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(_o(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=$s[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=$s[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Qa(r)):this.eventManager.addEventListener(e,t,Qa(r))}}function _o(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Nh extends $l{constructor(e,t,r,i){super(e),this.component=r;const s=ds(i+"-"+r.id,r.styles);t.addStyles(s),this.contentAttr=function Ca(n){return"_ngcontent-%COMP%".replace(Io,n)}(i+"-"+r.id),this.hostAttr=function Nc(n){return"_nghost-%COMP%".replace(Io,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Gs extends $l{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ds(i.id,i.styles);for(let u=0;u<s.length;u++){const p=document.createElement("style");p.textContent=s[u],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Lc=(()=>{class n extends zl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Bc=["alt","control","meta","shift"],Sa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ws=(()=>{class n extends zl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),u=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let u="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),u="code."),Bc.forEach(w=>{const D=r.indexOf(w);D>-1&&(r.splice(D,1),u+=w+".")}),u+=s,0!=r.length||0===s.length)return null;const y={};return y.domEventName=i,y.fullKey=u,y}static matchEventFullKeyCode(t,r){let i=Sa[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Bc.forEach(u=>{u!==i&&(0,Gl[u])(t)&&(s+=u+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const to=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:ad},{provide:c.g9A,useValue:function Uc(){zn.makeCurrent()},multi:!0},{provide:ee,useFactory:function md(){return(0,c.RDi)(document),document},deps:[]}]),Po=new c.OlP(""),gd=[{provide:c.rWj,useClass:class ti{addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let s=i.length,u=!1;const p=function(y){u=u||y,s--,0==s&&r(u)};i.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],H=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function hs(){return new c.qLn},deps:[]},{provide:zs,useClass:Lc,multi:!0,deps:[ee,c.R0b,c.Lbi]},{provide:zs,useClass:Ws,multi:!0,deps:[ee]},{provide:Da,useClass:Da,deps:[Fc,Za,c.AFp]},{provide:c.FYo,useExisting:Da},{provide:Ka,useExisting:Za},{provide:Za,useClass:Za,deps:[ee]},{provide:Fc,useClass:Fc,deps:[zs,c.R0b]},{provide:_a,useClass:hd,deps:[]},[]];let Xo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:dd,useExisting:c.AFp},qa]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Po,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...H,...gd],imports:[bi,c.hGG]}),n})(),Vc=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Aa(){return new Vc((0,c.LFG)(ee))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let ku=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):c.LFG(Ma),r},providedIn:"root"}),n})(),Ma=(()=>{class n extends ku{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case c.q3G.NONE:return r;case c.q3G.HTML:return(0,c.qzn)(r,"HTML")?(0,c.z3N)(r):(0,c.EiD)(this._doc,String(r)).toString();case c.q3G.STYLE:return(0,c.qzn)(r,"Style")?(0,c.z3N)(r):r;case c.q3G.SCRIPT:if((0,c.qzn)(r,"Script"))return(0,c.z3N)(r);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(r,"URL")?(0,c.z3N)(r):(0,c.mCW)(String(r));case c.q3G.RESOURCE_URL:if((0,c.qzn)(r,"ResourceURL"))return(0,c.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${c.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${c.JZr})`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function bd(n){return new Ma(n.get(ee))}(c.LFG(c.zs3)),r},providedIn:"root"}),n})();var gt=R(9646),Zr=R(9751),Ir=R(4351),Yr=R(9300),vt=R(4004);class jc{}class gl{}class Lo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Lo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Lo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Lo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let u=this.headers.get(t);if(!u)return;u=u.filter(p=>-1===s.indexOf(p)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ql{encodeKey(e){return U(e)}encodeValue(e){return U(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const T=/%(\d[a-f0-9])/gi,k={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function U(n){return encodeURIComponent(n).replace(T,(e,t)=>k[t]??e)}function J(n){return`${n}`}class _e{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ql,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ra(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[u,p]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],y=t.get(u)||[];y.push(p),t.set(u,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(J):[J(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new _e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(J(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(J(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class rt{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Pt(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function zt(n){return typeof Blob<"u"&&n instanceof Blob}function An(n){return typeof FormData<"u"&&n instanceof FormData}class si{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Ot(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Lo),this.context||(this.context=new rt),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+u}}else this.params=new _e,this.urlWithParams=t}serializeBody(){return null===this.body?null:Pt(this.body)||zt(this.body)||An(this.body)||function Nt(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _e?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||An(this.body)?null:zt(this.body)?this.body.type||null:Pt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _e?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,w=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((P,$)=>P.set($,e.setHeaders[$]),y)),e.setParams&&(w=Object.keys(e.setParams).reduce((P,$)=>P.set($,e.setParams[$]),w)),new si(t,r,s,{params:w,headers:y,context:D,reportProgress:p,responseType:i,withCredentials:u})}}var _n=(()=>((_n=_n||{})[_n.Sent=0]="Sent",_n[_n.UploadProgress=1]="UploadProgress",_n[_n.ResponseHeader=2]="ResponseHeader",_n[_n.DownloadProgress=3]="DownloadProgress",_n[_n.Response=4]="Response",_n[_n.User=5]="User",_n))();class ai{constructor(e,t=200,r="OK"){this.headers=e.headers||new Lo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Ks extends ai{constructor(e={}){super(e),this.type=_n.ResponseHeader}clone(e={}){return new Ks({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ts extends ai{constructor(e={}){super(e),this.type=_n.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ts({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ci extends ai{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Jo(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ni=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof si)s=t;else{let y,w;y=i.headers instanceof Lo?i.headers:new Lo(i.headers),i.params&&(w=i.params instanceof _e?i.params:new _e({fromObject:i.params})),s=new si(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=(0,gt.of)(s).pipe((0,Ir.b)(y=>this.handler.handle(y)));if(t instanceof si||"events"===i.observe)return u;const p=u.pipe((0,Yr.h)(y=>y instanceof Ts));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return p.pipe((0,vt.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return p.pipe((0,vt.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return p.pipe((0,vt.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return p.pipe((0,vt.U)(y=>y.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new _e).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Jo(i,r))}post(t,r,i={}){return this.request("POST",t,Jo(i,r))}put(t,r,i={}){return this.request("PUT",t,Jo(i,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(jc))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ed(n,e){return e(n)}function Uf(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const wd=new c.OlP("HTTP_INTERCEPTORS"),zc=new c.OlP("HTTP_INTERCEPTOR_FNS");function Am(){let n=null;return(e,t)=>(null===n&&(n=((0,c.f3M)(wd,{optional:!0})??[]).reduceRight(Uf,Ed)),n(e,t))}let rc=(()=>{class n extends jc{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(zc)));this.chain=r.reduceRight((i,s)=>function jh(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),Ed)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gl),c.LFG(c.lqb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Rm=/^\)\]\}',?\n/;let $h=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Zr.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((Y,Q)=>i.setRequestHeader(Y,Q.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Y=t.detectContentTypeHeader();null!==Y&&i.setRequestHeader("Content-Type",Y)}if(t.responseType){const Y=t.responseType.toLowerCase();i.responseType="json"!==Y?Y:"text"}const s=t.serializeBody();let u=null;const p=()=>{if(null!==u)return u;const Y=i.statusText||"OK",Q=new Lo(i.getAllResponseHeaders()),me=function jf(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return u=new Ks({headers:Q,status:i.status,statusText:Y,url:me}),u},y=()=>{let{headers:Y,status:Q,statusText:me,url:De}=p(),dt=null;204!==Q&&(dt=typeof i.response>"u"?i.responseText:i.response),0===Q&&(Q=dt?200:0);let Et=Q>=200&&Q<300;if("json"===t.responseType&&"string"==typeof dt){const It=dt;dt=dt.replace(Rm,"");try{dt=""!==dt?JSON.parse(dt):null}catch(xt){dt=It,Et&&(Et=!1,dt={error:xt,text:dt})}}Et?(r.next(new Ts({body:dt,headers:Y,status:Q,statusText:me,url:De||void 0})),r.complete()):r.error(new ci({error:dt,headers:Y,status:Q,statusText:me,url:De||void 0}))},w=Y=>{const{url:Q}=p(),me=new ci({error:Y,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Q||void 0});r.error(me)};let D=!1;const P=Y=>{D||(r.next(p()),D=!0);let Q={type:_n.DownloadProgress,loaded:Y.loaded};Y.lengthComputable&&(Q.total=Y.total),"text"===t.responseType&&!!i.responseText&&(Q.partialText=i.responseText),r.next(Q)},$=Y=>{let Q={type:_n.UploadProgress,loaded:Y.loaded};Y.lengthComputable&&(Q.total=Y.total),r.next(Q)};return i.addEventListener("load",y),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",P),null!==s&&i.upload&&i.upload.addEventListener("progress",$)),i.send(s),r.next({type:_n.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",y),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",P),null!==s&&i.upload&&i.upload.removeEventListener("progress",$)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_a))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ou=new c.OlP("XSRF_ENABLED"),Id="XSRF-TOKEN",Pu=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>Id}),Dd="X-XSRF-TOKEN",Xl=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Dd});class Sd{}let Zs=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ii(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(c.Lbi),c.LFG(Pu))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function zf(n,e){const t=n.url.toLowerCase();if(!(0,c.f3M)(Ou)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,c.f3M)(Sd).getToken(),i=(0,c.f3M)(Xl);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var li=(()=>((li=li||{})[li.Interceptors=0]="Interceptors",li[li.LegacyInterceptors=1]="LegacyInterceptors",li[li.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",li[li.NoXsrfProtection=3]="NoXsrfProtection",li[li.JsonpSupport=4]="JsonpSupport",li[li.RequestsMadeViaParent=5]="RequestsMadeViaParent",li))();function ic(n,e){return{\u0275kind:n,\u0275providers:e}}function Fu(...n){const e=[ni,$h,rc,{provide:jc,useExisting:rc},{provide:gl,useExisting:$h},{provide:zc,useValue:zf,multi:!0},{provide:Ou,useValue:!0},{provide:Sd,useClass:Zs}];for(const t of n)e.push(...t.\u0275providers);return(0,c.MR2)(e)}const Td=new c.OlP("LEGACY_INTERCEPTOR_FN");function Ad({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:Pu,useValue:n}),void 0!==e&&t.push({provide:Xl,useValue:e}),ic(li.CustomXsrfConfiguration,t)}let no,Wh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Fu(ic(li.LegacyInterceptors,[{provide:Td,useFactory:Am},{provide:zc,useExisting:Td,multi:!0}]),Ad({cookieName:Id,headerName:Dd}))]}),n})();try{no=typeof Intl<"u"&&Intl.v8BreakIterator}catch{no=!1}let $c,Do=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function wu(n){return n===ad}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!no)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Md=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function x(){if($c)return $c;if("object"!=typeof document||!document)return $c=new Set(Md),$c;let n=document.createElement("input");return $c=new Set(Md.filter(e=>(n.setAttribute("type",e),n.type===e))),$c}let _,L,j,Tt;function I(n){return function v(){if(null==_&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_=!0}))}finally{_=_||!1}return _}()?n:!!n.capture}function xe(){if(null==j){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return j=!1,j;if("scrollBehavior"in document.documentElement.style)j=!0;else{const n=Element.prototype.scrollTo;j=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return j}function Je(){if("object"!=typeof document||!document)return 0;if(null==L){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),L=0,0===n.scrollLeft&&(n.scrollLeft=1,L=0===n.scrollLeft?1:2),n.remove()}return L}function Ni(n){return n.composedPath?n.composedPath()[0]:n.target}function Li(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var On=R(7579),Bi=R(727),ro=R(1135);function Fd(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Ui=R(8505),Hu=R(8372),y0=R(5684),tf=R(1884),As=R(2722);function Dr(n){return null!=n&&"false"!=`${n}`}function Wc(n,e=0){return function oy(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function qc(n){return Array.isArray(n)?n:[n]}function oo(n){return null==n?"":"string"==typeof n?n:`${n}px`}function sc(n){return n instanceof c.SBq?n.nativeElement:n}const{isArray:v0}=Array,{getPrototypeOf:Qm,prototype:ip,keys:ju}=Object;function Xm(n){if(1===n.length){const e=n[0];if(v0(e))return{args:e,keys:null};if(function Jm(n){return n&&"object"==typeof n&&Qm(n)===ip}(e)){const t=ju(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Mr=R(8996),op=R(4671);const{isArray:sy}=Array;function eg(n){return(0,vt.U)(e=>function Nd(n,e){return sy(e)?n(...e):n(e)}(n,e))}var nf=R(3269);function ay(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var so=R(5403),b0=R(9672);function Ld(...n){const e=(0,nf.yG)(n),t=(0,nf.jO)(n),{args:r,keys:i}=Xm(n);if(0===r.length)return(0,Mr.D)([],e);const s=new Zr.y(function cy(n,e,t=op.y){return r=>{tg(e,()=>{const{length:i}=n,s=new Array(i);let u=i,p=i;for(let y=0;y<i;y++)tg(e,()=>{const w=(0,Mr.D)(n[y],e);let D=!1;w.subscribe((0,so.x)(r,P=>{s[y]=P,D||(D=!0,p--),p||r.next(t(s.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>ay(i,u):op.y));return t?s.pipe(eg(t)):s}function tg(n,e,t){n?(0,b0.f)(t,n,e):e()}var sp=R(8189);function ru(...n){return function E0(){return(0,sp.J)(1)}()((0,Mr.D)(n,(0,nf.yG)(n)))}var ac=R(5698),ao=R(4482);function Ys(...n){const e=(0,nf.yG)(n);return(0,ao.e)((t,r)=>{(e?ru(n,t,e):ru(n,t)).subscribe(r)})}const ap=new Set;let Bd,cp=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ly}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function w0(n){if(!ap.has(n))try{Bd||(Bd=document.createElement("style"),Bd.setAttribute("type","text/css"),document.head.appendChild(Bd)),Bd.sheet&&(Bd.sheet.insertRule(`@media ${n} {body{ }}`,0),ap.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Do))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ly(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let uy=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new On.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return lp(qc(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=Ld(lp(qc(t)).map(u=>this._registerQuery(u).observable));return s=ru(s.pipe((0,ac.q)(1)),s.pipe((0,y0.T)(1),(0,Hu.b)(0))),s.pipe((0,vt.U)(u=>{const p={matches:!1,breakpoints:{}};return u.forEach(({matches:y,query:w})=>{p.matches=p.matches||y,p.breakpoints[w]=y}),p}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Zr.y(u=>{const p=y=>this._zone.run(()=>u.next(y));return r.addListener(p),()=>{r.removeListener(p)}}).pipe(Ys(r),(0,vt.U)(({matches:u})=>({query:t,matches:u})),(0,As.R)(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(cp),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lp(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class Kc{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new On.x,this._typeaheadSubscription=Bi.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new On.x,this.change=new On.x,e instanceof c.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ui.b)(t=>this._pressedLetters.push(t)),(0,Hu.b)(e),(0,Yr.h)(()=>this._pressedLetters.length>0),(0,vt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,u=r[s];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(s<u?s:u-1,-1);break}return;default:return void((i||Fd(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}class my extends Kc{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}function dp(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function hp(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const xy=new c.OlP("cdk-input-modality-detector-options"),k0={ignoreKeys:[18,17,224,91,16]},Yc=I({passive:!0,capture:!0});let fp=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new ro.X(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(p=>p===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ni(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(dp(u)?"keyboard":"mouse"),this._mostRecentTarget=Ni(u))},this._onTouchstart=u=>{hp(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ni(u))},this._options={...k0,...s},this.modalityDetected=this._modality.pipe((0,y0.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,tf.x)()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Yc),i.addEventListener("mousedown",this._onMousedown,Yc),i.addEventListener("touchstart",this._onTouchstart,Yc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Yc),document.removeEventListener("mousedown",this._onMousedown,Yc),document.removeEventListener("touchstart",this._onTouchstart,Yc))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Do),c.LFG(c.R0b),c.LFG(ee),c.LFG(xy,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Iy=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function R0(){return null}}),rg=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let O0=0,Dy=(()=>{class n{constructor(t,r,i,s){this._ngZone=r,this._defaultOptions=s,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let s,u;return 1===r.length&&"number"==typeof r[0]?u=r[0]:[s,u]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=i&&i.politeness?i.politeness:"polite"),null==u&&i&&(u=i.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(p=>this._currentResolve=p)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id="cdk-live-announcer-"+O0++,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const s=r[i],u=s.getAttribute("aria-owns");u?-1===u.indexOf(t)&&s.setAttribute("aria-owns",u+" "+t):s.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Iy,8),c.LFG(c.R0b),c.LFG(ee),c.LFG(rg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zu=new c.OlP("cdk-focus-monitor-default-options"),pp=I({passive:!0,capture:!0});let mp=(()=>{class n{constructor(t,r,i,s,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new On.x,this._rootNodeFocusAndBlurListener=p=>{for(let w=Ni(p);w;w=w.parentElement)"focus"===p.type?this._onFocus(p,w):this._onBlur(p,w)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(t,r=!1){const i=sc(t);if(!this._platform.isBrowser||1!==i.nodeType)return(0,gt.of)(null);const s=function wn(n){if(function Ut(){if(null==Tt){const n=typeof document<"u"?document.head:null;Tt=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Tt}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const p={checkChildren:r,subject:new On.x,rootNode:s};return this._elementInfo.set(i,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(t){const r=sc(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=sc(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([p,y])=>this._originChanged(p,r,y)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=Ni(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,pp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,pp)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,As.R)(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,pp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,pp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let u=0;u<s.length;u++)if(s[u].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Do),c.LFG(fp),c.LFG(ee,8),c.LFG(zu,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ty="cdk-high-contrast-black-on-white",F0="cdk-high-contrast-white-on-black",Ay="cdk-high-contrast-active";let wC=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,c.f3M)(uy).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Ay,Ty,F0),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(Ay,Ty):2===r&&t.add(Ay,F0)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Do),c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const My=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function Qc(){return(0,c.f3M)(ee)}}),N0=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Qs=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function Ud(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?N0.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(My,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const ou=["text"];function L0(n,e){if(1&n&&c._UZ(0,"mat-pseudo-checkbox",5),2&n){const t=c.oxw();c.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function B0(n,e){if(1&n&&(c.TgZ(0,"span",6),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij("(",t.group.label,")")}}const U0=[[["mat-icon"]],"*"],ky=["mat-icon","*"],H0=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function cc(){return!0}});let ui=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Li()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wC),c.LFG(H0,8),c.LFG(ee))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[iu,iu]}),n})();function gp(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Dr(e)}}}function _p(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function sf(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Dr(e)}}}function og(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Wc(t):this.defaultTabIndex}}}function Oy(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let Ly=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ag{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Js=I({passive:!0,capture:!0});class Uy{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Ni(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const u=s.get(r);u?u.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Js)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);!s||(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Js)))}}const ks={enterDuration:225,exitDuration:150},Vy=I({passive:!0,capture:!0}),Hy=["mousedown","touchstart"],Wu=["mouseup","mouseleave","touchend","touchcancel"];class zd{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=sc(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...ks,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const u=r.radius||function z0(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),p=e-i.left,y=t-i.top,w=s.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=p-u+"px",D.style.top=y-u+"px",D.style.height=2*u+"px",D.style.width=2*u+"px",null!=r.color&&(D.style.backgroundColor=r.color),D.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(D);const P=window.getComputedStyle(D),Y=P.transitionDuration,Q="none"===P.transitionProperty||"0s"===Y||"0s, 0s"===Y||0===i.width&&0===i.height,me=new ag(this,D,r,Q);D.style.transform="scale3d(1, 1, 1)",me.state=0,r.persistent||(this._mostRecentTransientRipple=me);let De=null;return!Q&&(w||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const dt=()=>this._finishRippleTransition(me),Et=()=>this._destroyRipple(me);D.addEventListener("transitionend",dt),D.addEventListener("transitioncancel",Et),De={onTransitionEnd:dt,onTransitionCancel:Et}}),this._activeRipples.set(me,De),(Q||!w)&&this._finishRippleTransition(me),me}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...ks,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=sc(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Hy.forEach(r=>{zd._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Wu.forEach(t=>{this._triggerElement.addEventListener(t,this,Vy)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=dp(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!hp(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Hy.forEach(t=>zd._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Wu.forEach(t=>e.removeEventListener(t,this,Vy)))}}zd._eventManager=new Uy;const $0=new c.OlP("mat-ripple-global-options");let $d=(()=>{class n{constructor(t,r,i,s,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new zd(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Do),c.Y36($0,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),af=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ui,ui]}),n})(),G0=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,r){2&t&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}.mat-pseudo-checkbox-checked::after{top:2.7px;width:10px;height:4px}'],encapsulation:2,changeDetection:0}),n})(),W0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ui]}),n})();const bp=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),jy=new c.OlP("MatOptgroup");let Fa=0;class cg{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let lg=(()=>{class n{constructor(t,r,i,s){this._element=t,this._changeDetectorRef=r,this._parent=i,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Fa++,this.onSelectionChange=new c.vpe,this._stateChanges=new On.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Dr(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Fd(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new cg(this,t))}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,r){if(1&t&&c.Gf(ou,7),2&t){let i;c.iGM(i=c.CRH())&&(r._text=i.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),zy=(()=>{class n extends lg{constructor(t,r,i,s){super(t,r,i,s)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(bp,8),c.Y36(jy,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mat-mdc-focus-indicator","mdc-list-item"],hostVars:12,hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&t&&(c.Ikx("id",r.id),c.uIk("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),c.ekj("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:ky,decls:7,vars:4,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,r){1&t&&(c.F$t(U0),c.YNc(0,L0,1,2,"mat-pseudo-checkbox",0),c.Hsn(1),c.TgZ(2,"span",1,2),c.Hsn(4,1),c.qZA(),c.YNc(5,B0,2,1,"span",3),c._UZ(6,"div",4)),2&t&&(c.Q6J("ngIf",r.multiple),c.xp6(5),c.Q6J("ngIf",r.group&&r.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[$d,Dn,G0],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox{margin-right:0;margin-left:16px}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),bo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[af,bi,ui,W0]}),n})();var _i=R(576);function bl(n,e){const t=(0,_i.m)(n)?n:()=>n,r=i=>i.error(t());return new Zr.y(e?i=>e.schedule(r,0,i):r)}var qu=R(8421);function Gy(...n){const e=(0,nf.jO)(n),{args:t,keys:r}=Xm(n),i=new Zr.y(s=>{const{length:u}=t;if(!u)return void s.complete();const p=new Array(u);let y=u,w=u;for(let D=0;D<u;D++){let P=!1;(0,qu.Xf)(t[D]).subscribe((0,so.x)(s,$=>{P||(P=!0,w--),p[D]=$},()=>y--,void 0,()=>{(!y||!P)&&(w||s.next(r?ay(r,p):p),s.complete())}))}});return e?i.pipe(eg(e)):i}var ps=R(262);function Gd(n){return(0,ao.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var cf=R(3099);const MC=["*"];let Ku;function Wd(n){return function kC(){if(void 0===Ku&&(Ku=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Ku=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Ku}()?.createHTML(n)||n}function ug(n){return Error(`Unable to find icon with the name "${n}"`)}function Ep(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function wp(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ms{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let Zu=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new ms(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const u=this._sanitizer.sanitize(c.q3G.HTML,i);if(!u)throw wp(i);const p=Wd(u);return this._addSvgIconConfig(t,r,new ms("",p,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new ms(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(c.q3G.HTML,r);if(!s)throw wp(r);const u=Wd(s);return this._addSvgIconSetConfig(t,new ms("",u,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!r)throw Ep(t);const i=this._cachedIconsByUrl.get(r);return i?(0,gt.of)(Cp(i)):this._loadSvgIconFromConfig(new ms(t,null)).pipe((0,Ui.b)(s=>this._cachedIconsByUrl.set(r,s)),(0,vt.U)(s=>Cp(s)))}getNamedSvgIcon(t,r=""){const i=hg(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(r);return u?this._getSvgFromIconSetConfigs(t,u):bl(ug(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,gt.of)(Cp(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,vt.U)(r=>Cp(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?(0,gt.of)(i):Gy(r.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe((0,ps.K)(p=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,u.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(w)),(0,gt.of)(null)})))).pipe((0,vt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,r);if(!u)throw ug(t);return u}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(s),p=this._extractSvgIconFromSet(u,t,s.options);if(p)return p}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Ui.b)(r=>t.svgText=r),(0,vt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,gt.of)(null):this._fetchIcon(t).pipe((0,Ui.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,i);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),i);const p=this._svgElementFromString(Wd("<svg></svg>"));return p.appendChild(u),this._setSvgAttributes(p,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Wd("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:u,value:p}=i[s];"id"!==u&&r.setAttribute(u,p)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw function dg(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const u=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,r);if(!u)throw Ep(r);const p=this._inProgressUrlFetches.get(u);if(p)return p;const y=this._httpClient.get(u,{responseType:"text",withCredentials:s}).pipe((0,vt.U)(w=>Wd(w)),Gd(()=>this._inProgressUrlFetches.delete(u)),(0,cf.B)());return this._inProgressUrlFetches.set(u,y),y}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(hg(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return Wy(s)?new ms(s.url,null,s.options):new ms(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ni,8),c.LFG(ku),c.LFG(ee,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cp(n){return n.cloneNode(!0)}function hg(n,e){return n+":"+e}function Wy(n){return!(!n.url||!n.options)}const K0=_p(class{constructor(n){this._elementRef=n}}),Z0=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),qd=new c.OlP("mat-icon-location",{providedIn:"root",factory:function qy(){const n=(0,c.f3M)(ee),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Y0=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Q0=Y0.map(n=>`[${n}]`).join(", "),X0=/^url\(['"]?#(.*?)['"]?\)$/;let J0=(()=>{class n extends K0{constructor(t,r,i,s,u,p){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Bi.w0.EMPTY,p&&(p.color&&(this.color=this.defaultColor=p.color),p.fontSet&&(this.fontSet=p.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Dr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(u=>{s.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(Q0),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)Y0.forEach(u=>{const p=r[s],y=p.getAttribute(u),w=y?y.match(X0):null;if(w){let D=i.get(p);D||(D=[],i.set(p,D)),D.push({name:u,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe((0,ac.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Zu),c.$8M("aria-hidden"),c.Y36(qd),c.Y36(c.qLn),c.Y36(Z0,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(c.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),c.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:MC,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),fg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ui,ui]}),n})();var yr=R(9653),su=R(6451),eE=R(5032),Xc=R(515);class lc{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}observe(e){return Zy(this,e)}do(e,t,r){const{kind:i,value:s,error:u}=this;return"N"===i?e?.(s):"E"===i?t?.(u):r?.()}accept(e,t,r){var i;return(0,_i.m)(null===(i=e)||void 0===i?void 0:i.next)?this.observe(e):this.do(e,t,r)}toObservable(){const{kind:e,value:t,error:r}=this,i="N"===e?(0,gt.of)(t):"E"===e?bl(()=>r):"C"===e?Xc.E:0;if(!i)throw new TypeError(`Unexpected notification kind ${e}`);return i}static createNext(e){return new lc("N",e)}static createError(e){return new lc("E",void 0,e)}static createComplete(){return lc.completeNotification}}function Zy(n,e){var t,r,i;const{kind:s,value:u,error:p}=n;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(t=e.next)||void 0===t||t.call(e,u):"E"===s?null===(r=e.error)||void 0===r||r.call(e,p):null===(i=e.complete)||void 0===i||i.call(e)}function Yy(n,e,t,r){return(0,ao.e)((i,s)=>{let u;e&&"function"!=typeof e?({duration:t,element:u,connector:r}=e):u=e;const p=new Map,y=Q=>{p.forEach(Q),Q(s)},w=Q=>y(me=>me.error(Q));let D=0,P=!1;const $=new so.Q(s,Q=>{try{const me=n(Q);let De=p.get(me);if(!De){p.set(me,De=r?r():new On.x);const dt=function Y(Q,me){const De=new Zr.y(dt=>{D++;const Et=me.subscribe(dt);return()=>{Et.unsubscribe(),0==--D&&P&&$.unsubscribe()}});return De.key=Q,De}(me,De);if(s.next(dt),t){const Et=(0,so.x)(De,()=>{De.complete(),Et?.unsubscribe()},void 0,void 0,()=>p.delete(me));$.add((0,qu.Xf)(t(dt)).subscribe(Et))}}De.next(u?u(Q):Q)}catch(me){w(me)}},()=>y(Q=>Q.complete()),w,()=>p.clear(),()=>(P=!0,0===D));i.subscribe($)})}lc.completeNotification=new lc("C");var ns=R(5577);function Qy(n,e){return e?t=>t.pipe(Qy((r,i)=>(0,qu.Xf)(n(r,i)).pipe((0,vt.U)((s,u)=>e(r,s,i,u))))):(0,ao.e)((t,r)=>{let i=0,s=null,u=!1;t.subscribe((0,so.x)(r,p=>{s||(s=(0,so.x)(r,void 0,()=>{s=null,u&&r.complete()}),(0,qu.Xf)(n(p,i++)).subscribe(s))},()=>{u=!0,!s&&r.complete()}))})}const rE={dispatch:!0,useEffectsErrorHandler:!0},lf="__@ngrx/effects_create__";function uf(n){return Object.getPrototypeOf(n)}function wl(n,e,t){const r=uf(n).constructor.name,i=function pg(n){return function iE(n){return Object.getOwnPropertyNames(n).filter(r=>!(!n[r]||!n[r].hasOwnProperty(lf))&&n[r][lf].hasOwnProperty("dispatch")).map(r=>({propertyName:r,...n[r][lf]}))}(n)}(n).map(({propertyName:s,dispatch:u,useEffectsErrorHandler:p})=>{const y="function"==typeof n[s]?n[s]():n[s],w=p?t(y,e):y;return!1===u?w.pipe(function Ky(){return(0,ao.e)((n,e)=>{n.subscribe((0,so.x)(e,eE.Z))})}()):w.pipe(function tE(){return(0,ao.e)((n,e)=>{n.subscribe((0,so.x)(e,t=>{e.next(lc.createNext(t))},()=>{e.next(lc.createComplete()),e.complete()},t=>{e.next(lc.createError(t)),e.complete()}))})}()).pipe((0,vt.U)(P=>({effect:n[s],notification:P,propertyName:s,sourceName:r,sourceInstance:n})))});return(0,su.T)(...i)}function Yu(n,e,t=10){return n.pipe((0,ps.K)(r=>(e&&e.handleError(r),t<=1?n:Yu(n,e,t-1))))}let sE=(()=>{class n extends Zr.y{constructor(t){super(),t&&(this.source=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yr.Y$))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ip=new c.OlP("@ngrx/effects Internal Root Guard"),Kd=new c.OlP("@ngrx/effects User Provided Effects"),Na=new c.OlP("@ngrx/effects Internal Root Effects"),Zd=new c.OlP("@ngrx/effects Root Effects"),Ho=new c.OlP("@ngrx/effects Internal Feature Effects"),Hi=new c.OlP("@ngrx/effects Feature Effects"),Yd=new c.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Yu}),ea="@ngrx/effects/init";function gg(n){return Dp(n,"ngrxOnInitEffects")}function Dp(n,e){return n&&e in n&&"function"==typeof n[e]}(0,yr.PH)(ea);let Sp=(()=>{class n extends On.x{constructor(t,r){super(),this.errorHandler=t,this.effectsErrorHandler=r}addEffects(t){this.next(t)}toActions(){return this.pipe(Yy(uf),(0,ns.z)(t=>t.pipe(Yy(Jy))),(0,ns.z)(t=>{const r=t.pipe(Qy(s=>function Tp(n,e){return t=>{const r=wl(t,n,e);return function nh(n){return Dp(n,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(r):r}}(this.errorHandler,this.effectsErrorHandler)(s)),(0,vt.U)(s=>(function Qd(n,e){if("N"===n.notification.kind){const t=n.notification.value;!function Xd(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(t)&&e.handleError(new Error(`Effect ${function au({propertyName:n,sourceInstance:e,sourceName:t}){const r="function"==typeof e[n];return`"${t}.${String(n)}${r?"()":""}"`}(n)} dispatched an invalid action: ${function Jd(n){try{return JSON.stringify(n)}catch{return n}}(t)}`))}}(s,this.errorHandler),s.notification)),(0,Yr.h)(s=>"N"===s.kind&&null!=s.value),function nE(){return(0,ao.e)((n,e)=>{n.subscribe((0,so.x)(e,t=>Zy(t,e)))})}()),i=t.pipe((0,ac.q)(1),(0,Yr.h)(gg),(0,vt.U)(s=>s.ngrxOnInitEffects()));return(0,su.T)(r,i)}))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.qLn),c.LFG(Yd))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jy(n){return function eh(n){return Dp(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let ih=(()=>{class n{constructor(t,r){this.effectSources=t,this.store=r,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Sp),c.LFG(yr.yh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_g=(()=>{class n{constructor(t,r,i,s,u,p,y){this.sources=t,r.start(),s.forEach(w=>t.addEffects(w)),i.dispatch({type:ea})}addEffects(t){this.sources.addEffects(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Sp),c.LFG(ih),c.LFG(yr.yh),c.LFG(Zd),c.LFG(yr.cr,8),c.LFG(yr.CK,8),c.LFG(Ip,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),ev=(()=>{class n{constructor(t,r,i,s){r.forEach(u=>u.forEach(p=>t.addEffects(p)))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_g),c.LFG(Hi),c.LFG(yr.cr,8),c.LFG(yr.CK,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),tv=(()=>{class n{static forFeature(...t){const r=t.flat();return{ngModule:ev,providers:[r,{provide:Ho,multi:!0,useValue:r},{provide:Kd,multi:!0,useValue:[]},{provide:Hi,multi:!0,useFactory:nv,deps:[Ho,Kd]}]}}static forRoot(...t){const r=t.flat();return{ngModule:_g,providers:[r,{provide:Na,useValue:[r]},{provide:Ip,useFactory:rv},{provide:Kd,multi:!0,useValue:[]},{provide:Zd,useFactory:nv,deps:[Na,Kd]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function nv(n,e){const t=[];for(const r of n)t.push(...r);for(const r of e)t.push(...r);return function cE(n){return n.map(e=>(0,c.f3M)(e))}(t)}function rv(){const n=(0,c.f3M)(ih,{optional:!0,skipSelf:!0}),e=(0,c.f3M)(Na,{self:!0});if((1!==e.length||0!==e[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}const Ap=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oh(n){return new Zr.y(e=>{(0,qu.Xf)(n()).subscribe(e)})}var Mp=R(9635);function df(){return(0,ao.e)((n,e)=>{let t=null;n._refCount++;const r=(0,so.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ov extends Zr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ao.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Bi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,so.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Bi.w0.EMPTY)}return e}refCount(){return df()(this)}}var Ur=R(3900);function Qu(n){return(0,ao.e)((e,t)=>{let r=!1;e.subscribe((0,so.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function kp(n=sv){return(0,ao.e)((e,t)=>{let r=!1;e.subscribe((0,so.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function sv(){return new Ap}function uc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,Yr.h)((i,s)=>n(i,s,r)):op.y,(0,ac.q)(1),t?Qu(e):kp(()=>new Ap))}var sh=R(5026);function d(n){return n<=0?()=>Xc.E:(0,ao.e)((e,t)=>{let r=[];e.subscribe((0,so.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function m(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,Yr.h)((i,s)=>n(i,s,r)):op.y,d(1),t?Qu(e):kp(()=>new Ap))}function b(n,e=!1){return(0,ao.e)((t,r)=>{let i=0;t.subscribe((0,so.x)(r,s=>{const u=n(s,i++);(u||e)&&r.next(s),!u&&r.complete()}))})}const F="primary",z=Symbol("RouteTitle");class oe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ue(n){return new oe(n)}function we(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const u=r[s],p=n[s];if(u.startsWith(":"))i[u.substring(1)]=p;else if(u!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ze(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!ct(n[i],e[i]))return!1;return!0}function ct(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function wt(n){return Array.prototype.concat.apply([],n)}function $t(n){return n.length>0?n[n.length-1]:null}function Qt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Kt(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Mr.D)(Promise.resolve(n)):(0,gt.of)(n)}const Un=!1,Yn={exact:function Sr(n,e,t){if(!Rp(n.segments,e.segments)||!lu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Sr(n.children[r],e.children[r],t))return!1;return!0},subset:Jc},gs={exact:function rs(n,e){return Ze(n,e)},subset:function dc(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ct(n[t],e[t]))},ignored:()=>!0};function jo(n,e,t){return Yn[t.paths](n.root,e.root,t.matrixParams)&&gs[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Jc(n,e,t){return hf(n,e,e.segments,t)}function hf(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Rp(i,t)||e.hasChildren()||!lu(i,t,r))}if(n.segments.length===t.length){if(!Rp(n.segments,t)||!lu(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Jc(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Rp(n.segments,i)&&lu(n.segments,i,r)&&n.children[F])&&hf(n.children[F],e,s,r)}}function lu(n,e,t){return e.every((r,i)=>gs[t](n[i].parameters,r.parameters))}class Xu{constructor(e=new Qn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ue(this.queryParams)),this._queryParamMap}toString(){return uT.serialize(this)}}class Qn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Qt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lo(this)}}class ff{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ue(this.parameters)),this._parameterMap}toString(){return pf(this)}}function Rp(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let vg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new av},providedIn:"root"}),n})();class av{parse(e){const t=new uu(e);return new Xu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Op(e.root,!0)}`,r=function hT(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${cv(t)}=${cv(i)}`).join("&"):`${cv(t)}=${cv(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function FC(n){return encodeURI(n)}(e.fragment)}`:""}`}}const uT=new av;function lo(n){return n.segments.map(e=>pf(e)).join("/")}function Op(n,e){if(!n.hasChildren())return lo(n);if(e){const t=n.children[F]?Op(n.children[F],!1):"",r=[];return Qt(n.children,(i,s)=>{s!==F&&r.push(`${s}:${Op(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function lT(n,e){let t=[];return Qt(n.children,(r,i)=>{i===F&&(t=t.concat(e(r,i)))}),Qt(n.children,(r,i)=>{i!==F&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===F?[Op(n.children[F],!1)]:[`${i}:${Op(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[F]?`${lo(n)}/${t[0]}`:`${lo(n)}/(${t.join("//")})`}}function PC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cv(n){return PC(n).replace(/%3B/gi,";")}function uE(n){return PC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bg(n){return decodeURIComponent(n)}function dE(n){return bg(n.replace(/\+/g,"%20"))}function pf(n){return`${uE(n.path)}${function dT(n){return Object.keys(n).map(e=>`;${uE(e)}=${uE(n[e])}`).join("")}(n.parameters)}`}const NC=/^[^\/()?;=#]+/;function lv(n){const e=n.match(NC);return e?e[0]:""}const LC=/^[^=?&#]+/,hE=/^[^&#]+/;class uu{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qn([],{}):new Qn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[F]=new Qn(e,t)),r}parseSegment(){const e=lv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,Un);return this.capture(e),new ff(bg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=lv(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=lv(this.remaining);i&&(r=i,this.capture(r))}e[bg(t)]=bg(r)}parseQueryParam(e){const t=function mO(n){const e=n.match(LC);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function fE(n){const e=n.match(hE);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=dE(t),s=dE(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new c.vHH(4010,Un);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=F);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[F]:new Qn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,Un)}}function pE(n){return n.segments.length>0?new Qn([],{[F]:n}):n}function uv(n){const e={};for(const r of Object.keys(n.children)){const s=uv(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function du(n){if(1===n.numberOfChildren&&n.children[F]){const e=n.children[F];return new Qn(n.segments.concat(e.segments),e.children)}return n}(new Qn(n.segments,e))}function _s(n){return n instanceof Xu}function mT(n,e,t,r,i){if(0===t.length)return ah(e.root,e.root,e.root,r,i);const s=function mE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new UC(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const p={};return Qt(s.outlets,(y,w)=>{p[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===u?(s.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,s]},[]);return new UC(t,e,r)}(t);return s.toRoot()?ah(e.root,e.root,new Qn([],{}),r,i):function u(y){const w=function HC(n,e,t,r){if(n.isAbsolute)return new Fp(e.root,!0,0);if(-1===r)return new Fp(t,t===e.root,0);return function xg(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new c.vHH(4005,!1);i=r.segments.length}return new Fp(r,!1,i-s)}(t,r+(Eg(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,y),D=w.processChildren?Np(w.segmentGroup,w.index,s.commands):dv(w.segmentGroup,w.index,s.commands);return ah(e.root,w.segmentGroup,D,r,i)}(n.snapshot?._lastPathIndex)}function Eg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function wg(n){return"object"==typeof n&&null!=n&&n.outlets}function ah(n,e,t,r,i){let u,s={};r&&Qt(r,(y,w)=>{s[w]=Array.isArray(y)?y.map(D=>`${D}`):`${y}`}),u=n===e?t:Pp(n,e,t);const p=pE(uv(u));return new Xu(p,s,i)}function Pp(n,e,t){const r={};return Qt(n.children,(i,s)=>{r[s]=i===e?t:Pp(i,e,t)}),new Qn(n.segments,r)}class UC{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Eg(r[0]))throw new c.vHH(4003,!1);const i=r.find(wg);if(i&&i!==$t(r))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fp{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function dv(n,e,t){if(n||(n=new Qn([],{})),0===n.segments.length&&n.hasChildren())return Np(n,e,t);const r=function gE(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const u=n.segments[i],p=t[r];if(wg(p))break;const y=`${p}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!_E(y,w,u))return s;r+=2}else{if(!_E(y,{},u))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Qn(n.segments.slice(0,r.pathIndex),{});return s.children[F]=new Qn(n.segments.slice(r.pathIndex),n.children),Np(s,0,i)}return r.match&&0===i.length?new Qn(n.segments,{}):r.match&&!n.hasChildren()?Lp(n,e,t):r.match?Np(n,0,i):Lp(n,e,t)}function Np(n,e,t){if(0===t.length)return new Qn(n.segments,{});{const r=function gT(n){return wg(n[0])?n[0].outlets:{[F]:n}}(t),i={};return Qt(r,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[u]=dv(n.children[u],e,s))}),Qt(n.children,(s,u)=>{void 0===r[u]&&(i[u]=s)}),new Qn(n.segments,i)}}function Lp(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(wg(s)){const y=jC(s.outlets);return new Qn(r,y)}if(0===i&&Eg(t[0])){r.push(new ff(n.segments[e].path,hv(t[0]))),i++;continue}const u=wg(s)?s.outlets[F]:`${s}`,p=i<t.length-1?t[i+1]:null;u&&p&&Eg(p)?(r.push(new ff(u,hv(p))),i+=2):(r.push(new ff(u,{})),i++)}return new Qn(r,{})}function jC(n){const e={};return Qt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Lp(new Qn([],{}),0,t))}),e}function hv(n){const e={};return Qt(n,(t,r)=>e[r]=`${t}`),e}function _E(n,e,t){return n==t.path&&Ze(e,t.parameters)}class hu{constructor(e,t){this.id=e,this.url=t}}class fv extends hu{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ch extends hu{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cg extends hu{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yE extends hu{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zC extends hu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _T extends hu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yT extends hu{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vT extends hu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bT extends hu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ET{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wT{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xT{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CT{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IT{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DT{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $C{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let TT=(()=>{class n{createUrlTree(t,r,i,s,u,p){return mT(t||r.root,i,s,u,p)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),AT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return TT.\u0275fac(e)},providedIn:"root"}),n})();class GC{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=pv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=pv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=mv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mv(e,this._root).map(t=>t.value)}}function pv(n,e){if(n===e.value)return e;for(const t of e.children){const r=pv(n,t);if(r)return r}return null}function mv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=mv(n,t);if(r.length)return r.unshift(e),r}return[]}class fu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function mf(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vE extends GC{constructor(e,t){super(e),this.snapshot=t,xE(this,e)}toString(){return this.snapshot.toString()}}function bE(n,e){const t=function WC(n,e){const u=new Ig([],{},{},"",{},F,e,null,n.root,-1,{});return new lh("",new fu(u,[]))}(n,e),r=new ro.X([new ff("",{})]),i=new ro.X({}),s=new ro.X({}),u=new ro.X({}),p=new ro.X(""),y=new gf(r,i,u,p,s,F,e,t.root);return y.snapshot=t.root,new vE(new fu(y,[]),t)}class gf{constructor(e,t,r,i,s,u,p,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=p,this.title=this.data?.pipe((0,vt.U)(w=>w[z]))??(0,gt.of)(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(e=>ue(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(e=>ue(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function EE(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function wE(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ig{constructor(e,t,r,i,s,u,p,y,w,D,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=p,this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=D,this._resolve=P}get title(){return this.data?.[z]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ue(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ue(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lh extends GC{constructor(e,t){super(t),this.url=e,xE(this,t)}toString(){return qC(this._root)}}function xE(n,e){e.value._routerState=n,e.children.forEach(t=>xE(n,t))}function qC(n){const e=n.children.length>0?` { ${n.children.map(qC).join(", ")} } `:"";return`${n.value}${e}`}function uh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ze(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ze(e.params,t.params)||n.params.next(t.params),function et(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ze(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ze(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function KC(n,e){const t=Ze(n.params,e.params)&&function pO(n,e){return Rp(n,e)&&n.every((t,r)=>Ze(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||KC(n.parent,e.parent))}function gv(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function ZC(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return gv(n,r,i);return gv(n,r)})}(n,e,t);return new fu(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(p=>gv(n,p)),u}}const r=function YC(n){return new gf(new ro.X(n.url),new ro.X(n.params),new ro.X(n.queryParams),new ro.X(n.fragment),new ro.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>gv(n,s));return new fu(r,i)}}const QC="ngNavigationCancelingError";function an(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=_s(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=XC(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function XC(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[QC]=!0,r.cancellationCode=e,t&&(r.url=t),r}function JC(n){return eI(n)&&_s(n.url)}function eI(n){return n&&n[QC]}class Bp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Dg,this.attachRef=null}}let Dg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Bp,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _f=!1;let Up=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=F,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Dg),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,_f);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,_f);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,_f);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,_f);this._activatedRoute=t;const i=this.location,u=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,y=new uo(t,p,i.injector);if(r&&function yO(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(u);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(u,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class uo{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===gf?this.route:e===Dg?this.childContexts:this.parent.get(e,t)}}let _v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[Up],encapsulation:2}),n})();function IE(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function yf(n){const e=n.children&&n.children.map(yf),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==F&&(t.component=_v),t}function el(n){return n.outlet||F}function tI(n,e){const t=n.filter(r=>el(r)===e);return t.push(...n.filter(r=>el(r)!==e)),t}function Sg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class nI{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),uh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=mf(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,i[u],r),delete i[u]}),Qt(i,(s,u)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=mf(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);if(r&&r.outlet){const u=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=mf(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=mf(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new DT(s.value.snapshot))}),e.children.length&&this.forwardEvent(new CT(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(uh(i),i===s)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(p.contexts),u.attachRef=p.componentRef,u.route=p.route.value,u.outlet&&u.outlet.attach(p.componentRef,p.route.value),uh(p.route.value),this.activateChildRoutes(e,null,u.children)}else{const p=Sg(i.snapshot),y=p?.get(c._Vd)??null;u.attachRef=null,u.route=i,u.resolver=y,u.injector=p,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class DE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Tg{constructor(e,t){this.component=e,this.route=t}}function NT(n,e,t){const r=n._root;return Mg(r,e?e._root:null,t,[r.value])}function pu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function Mg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=mf(e);return n.children.forEach(u=>{(function LT(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const y=function BT(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Rp(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Rp(n.url,e.url)||!Ze(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!KC(n,e)||!Ze(n.queryParams,e.queryParams);default:return!KC(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new DE(r)):(s.data=u.data,s._resolvedData=u._resolvedData),Mg(n,e,s.component?p?p.children:null:t,r,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Tg(p.outlet.component,u))}else u&&Vp(e,p,i),i.canActivateChecks.push(new DE(r)),Mg(n,null,s.component?p?p.children:null:t,r,i)})(u,s[u.value.outlet],t,r.concat([u.value]),i),delete s[u.value.outlet]}),Qt(s,(u,p)=>Vp(u,t.getContext(p),i)),i}function Vp(n,e,t){const r=mf(n),i=n.value;Qt(r,(s,u)=>{Vp(s,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Tg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Hp(n){return"function"==typeof n}function oI(n){return n instanceof Ap||"EmptyError"===n?.name}const SE=Symbol("INITIAL_VALUE");function kg(){return(0,Ur.w)(n=>Ld(n.map(e=>e.pipe((0,ac.q)(1),Ys(SE)))).pipe((0,vt.U)(e=>{for(const t of e)if(!0!==t){if(t===SE)return SE;if(!1===t||t instanceof Xu)return t}return!0}),(0,Yr.h)(e=>e!==SE),(0,ac.q)(1)))}function cI(n){return(0,Mp.z)((0,Ui.b)(e=>{if(_s(e))throw an(0,e)}),(0,vt.U)(e=>!0===e))}const Ev={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lI(n,e,t,r,i){const s=TE(n,e,t);return s.matched?function qT(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,gt.of)(!0);const s=i.map(u=>{const p=pu(u,n);return Kt(function bO(n){return n&&Hp(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))});return(0,gt.of)(s).pipe(kg(),cI())}(r=IE(e,r),e,t).pipe((0,vt.U)(u=>!0===u?s:{...Ev})):(0,gt.of)(s)}function TE(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ev}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||we)(t,n,e);if(!i)return{...Ev};const s={};Qt(i.posParams,(p,y)=>{s[y]=p.path});const u=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function dh(n,e,t,r){if(t.length>0&&function ZT(n,e,t){return t.some(r=>wv(n,e,r)&&el(r)!==F)}(n,t,r)){const s=new Qn(e,function uI(n,e,t,r){const i={};i[F]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&el(s)!==F){const u=new Qn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[el(s)]=u}return i}(n,e,r,new Qn(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function dI(n,e,t){return t.some(r=>wv(n,e,r))}(n,t,r)){const s=new Qn(n.segments,function KT(n,e,t,r,i){const s={};for(const u of r)if(wv(n,t,u)&&!i[el(u)]){const p=new Qn([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,s[el(u)]=p}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new Qn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function wv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function AE(n,e,t,r){return!!(el(n)===r||r!==F&&wv(e,t,n))&&("**"===n.path||TE(e,n,t).matched)}function hI(n,e,t){return 0===e.length&&!n.children[t]}const jp=!1;class xv{constructor(e){this.segmentGroup=e||null}}class ME{constructor(e){this.urlTree=e}}function zp(n){return bl(new xv(n))}function fI(n){return bl(new ME(n))}class XT{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=dh(this.urlTree.root,[],[],this.config).segmentGroup,t=new Qn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,F).pipe((0,vt.U)(s=>this.createUrlTree(uv(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ps.K)(s=>{if(s instanceof ME)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof xv?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,F).pipe((0,vt.U)(i=>this.createUrlTree(uv(i),e.queryParams,e.fragment))).pipe((0,ps.K)(i=>{throw i instanceof xv?this.noMatchError(i):i}))}noMatchError(e){return new c.vHH(4002,jp)}createUrlTree(e,t,r){const i=pE(e);return new Xu(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,vt.U)(s=>new Qn([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,Mr.D)(i).pipe((0,Ir.b)(s=>{const u=r.children[s],p=tI(t,s);return this.expandSegmentGroup(e,p,u,s).pipe((0,vt.U)(y=>({segment:y,outlet:s})))}),(0,sh.R)((s,u)=>(s[u.outlet]=u.segment,s),{}),m())}expandSegment(e,t,r,i,s,u){return(0,Mr.D)(r).pipe((0,Ir.b)(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,s,u).pipe((0,ps.K)(w=>{if(w instanceof xv)return(0,gt.of)(null);throw w}))),uc(p=>!!p),(0,ps.K)((p,y)=>{if(oI(p))return hI(t,i,s)?(0,gt.of)(new Qn([],{})):zp(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,s,u,p){return AE(i,t,s,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,u):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u):zp(t):zp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?fI(s):this.lineralizeSegments(r,s).pipe((0,ns.z)(u=>{const p=new Qn(u,{});return this.expandSegment(e,p,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u){const{matched:p,consumedSegments:y,remainingSegments:w,positionalParamSegments:D}=TE(t,i,s);if(!p)return zp(t);const P=this.applyRedirectCommands(y,i.redirectTo,D);return i.redirectTo.startsWith("/")?fI(P):this.lineralizeSegments(i,P).pipe((0,ns.z)($=>this.expandSegment(e,t,r,$.concat(w),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=IE(r,e),r.loadChildren?(r._loadedRoutes?(0,gt.of)({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,vt.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new Qn(i,{})))):(0,gt.of)(new Qn(i,{}))):lI(t,r,i,e).pipe((0,Ur.w)(({matched:u,consumedSegments:p,remainingSegments:y})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,ns.z)(D=>{const P=D.injector??e,$=D.routes,{segmentGroup:Y,slicedSegments:Q}=dh(t,p,y,$),me=new Qn(Y.segments,Y.children);if(0===Q.length&&me.hasChildren())return this.expandChildren(P,$,me).pipe((0,vt.U)(It=>new Qn(p,It)));if(0===$.length&&0===Q.length)return(0,gt.of)(new Qn(p,{}));const De=el(r)===s;return this.expandSegment(P,me,$,Q,De?F:s,!0).pipe((0,vt.U)(Et=>new Qn(p.concat(Et.segments),Et.children)))})):zp(t)))}getChildConfig(e,t,r){return t.children?(0,gt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,gt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function WT(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,gt.of)(!0);const s=i.map(u=>{const p=pu(u,n);return Kt(function UT(n){return n&&Hp(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))});return(0,gt.of)(s).pipe(kg(),cI())}(e,t,r).pipe((0,ns.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Ui.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function QT(n){return bl(XC(jp,3))}())):(0,gt.of)({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,gt.of)(r);if(i.numberOfChildren>1||!i.children[F])return bl(new c.vHH(4e3,jp));i=i.children[F]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Xu(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Qt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[s]=t[p]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let u={};return Qt(t.children,(p,y)=>{u[y]=this.createSegmentGroup(e,p,r,i)}),new Qn(s,u)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new c.vHH(4001,jp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class JT{}class nA{constructor(e,t,r,i,s,u,p){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=u,this.urlSerializer=p}recognize(){const e=dh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,F).pipe((0,vt.U)(t=>{if(null===t)return null;const r=new Ig([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},F,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new fu(r,t),s=new lh(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=EE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Mr.D)(Object.keys(r.children)).pipe((0,Ir.b)(i=>{const s=r.children[i],u=tI(t,i);return this.processSegmentGroup(e,u,s,i)}),(0,sh.R)((i,s)=>i&&s?(i.push(...s),i):null),b(i=>null!==i),Qu(null),m(),(0,vt.U)(i=>{if(null===i)return null;const s=RE(i);return function rA(n){n.sort((e,t)=>e.value.outlet===F?-1:t.value.outlet===F?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return(0,Mr.D)(t).pipe((0,Ir.b)(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,s)),uc(u=>!!u),(0,ps.K)(u=>{if(oI(u))return hI(r,i,s)?(0,gt.of)([]):(0,gt.of)(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!AE(t,r,i,s))return(0,gt.of)(null);let u;if("**"===t.path){const p=i.length>0?$t(i).parameters:{},y=yI(r)+i.length,w=new Ig(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vI(t),el(t),t.component??t._loadedComponent??null,t,_I(r),y,bI(t));u=(0,gt.of)({snapshot:w,consumedSegments:[],remainingSegments:[]})}else u=lI(r,t,i,e).pipe((0,vt.U)(({matched:p,consumedSegments:y,remainingSegments:w,parameters:D})=>{if(!p)return null;const P=yI(r)+y.length;return{snapshot:new Ig(y,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vI(t),el(t),t.component??t._loadedComponent??null,t,_I(r),P,bI(t)),consumedSegments:y,remainingSegments:w}}));return u.pipe((0,Ur.w)(p=>{if(null===p)return(0,gt.of)(null);const{snapshot:y,consumedSegments:w,remainingSegments:D}=p;e=t._injector??e;const P=t._loadedInjector??e,$=function iA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Y,slicedSegments:Q}=dh(r,w,D,$.filter(De=>void 0===De.redirectTo));if(0===Q.length&&Y.hasChildren())return this.processChildren(P,$,Y).pipe((0,vt.U)(De=>null===De?null:[new fu(y,De)]));if(0===$.length&&0===Q.length)return(0,gt.of)([new fu(y,[])]);const me=el(t)===s;return this.processSegment(P,$,Y,Q,me?F:s).pipe((0,vt.U)(De=>null===De?null:[new fu(y,De)]))}))}}function oA(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function RE(n){const e=[],t=new Set;for(const r of n){if(!oA(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=RE(r.children);e.push(new fu(r.value,i))}return e.filter(r=>!t.has(r))}function _I(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function yI(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function vI(n){return n.data||{}}function bI(n){return n.resolve||{}}function wI(n){return"string"==typeof n.title||null===n.title}function Og(n){return(0,Ur.w)(e=>{const t=n(e);return t?(0,Mr.D)(t).pipe((0,vt.U)(()=>e)):(0,gt.of)(e)})}const xl=new c.OlP("ROUTES");let Cv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,gt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Kt(t.loadComponent()).pipe((0,vt.U)(dA),(0,Ui.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Gd(()=>{this.componentLoaders.delete(t)})),i=new ov(r,()=>new On.x).pipe(df());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,gt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,vt.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w,D=!1;Array.isArray(p)?w=p:(y=p.create(t).injector,w=wt(y.get(xl,[],c.XFs.Self|c.XFs.Optional)));return{routes:w.map(yf),injector:y}}),Gd(()=>{this.childrenLoaders.delete(r)})),u=new ov(s,()=>new On.x).pipe(df());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return Kt(t()).pipe((0,vt.U)(dA),(0,ns.z)(i=>i instanceof c.YKP||Array.isArray(i)?(0,gt.of)(i):(0,Mr.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dA(n){return function uA(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Pg=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new On.x,this.configLoader=(0,c.f3M)(Cv),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(vg),this.rootContexts=(0,c.f3M)(Dg),this.navigationId=0,this.configLoader.onLoadEndListener=i=>this.events.next(new wT(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new ET(i))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new ro.X({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Yr.h)(r=>0!==r.id),(0,vt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,Ur.w)(r=>{let i=!1,s=!1;return(0,gt.of)(r).pipe((0,Ui.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ur.w)(u=>{const p=t.browserUrlTree.toString(),y=!t.navigated||u.extractedUrl.toString()!==p||p!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||y)&&t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return xI(u.source)&&(t.browserUrlTree=u.extractedUrl),(0,gt.of)(u).pipe((0,Ur.w)(D=>{const P=this.transitions?.getValue();return this.events.next(new fv(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),P!==this.transitions?.getValue()?Xc.E:Promise.resolve(D)}),function pI(n,e,t,r){return(0,Ur.w)(i=>function kE(n,e,t,r,i){return new XT(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,vt.U)(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Ui.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},r.urlAfterRedirects=D.urlAfterRedirects}),function aA(n,e,t,r,i){return(0,ns.z)(s=>function tA(n,e,t,r,i,s,u="emptyOnly"){return new nA(n,e,t,r,i,u,s).recognize().pipe((0,Ur.w)(p=>null===p?function eA(n){return new Zr.y(e=>e.error(n))}(new JT):(0,gt.of)(p)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe((0,vt.U)(u=>({...s,targetSnapshot:u}))))}(this.environmentInjector,t.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Ui.b)(D=>{if(r.targetSnapshot=D.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!D.extras.skipLocationChange){const $=t.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);t.setBrowserUrl($,D)}t.browserUrlTree=D.urlAfterRedirects}const P=new zC(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(P)}));if(y&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:P,extractedUrl:$,source:Y,restoredState:Q,extras:me}=u,De=new fv(P,this.urlSerializer.serialize($),Y,Q);this.events.next(De);const dt=bE($,t.rootComponentType).snapshot;return r={...u,targetSnapshot:dt,urlAfterRedirects:$,extras:{...me,skipLocationChange:!1,replaceUrl:!1}},(0,gt.of)(r)}return t.rawUrlTree=u.rawUrl,u.resolve(null),Xc.E}),(0,Ui.b)(u=>{const p=new _T(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}),(0,vt.U)(u=>r={...u,guards:NT(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function sI(n,e){return(0,ns.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?(0,gt.of)({...t,guardsResult:!0}):function bv(n,e,t,r){return(0,Mr.D)(n).pipe((0,ns.z)(i=>function GT(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,gt.of)(!0);const u=s.map(p=>{const y=Sg(e)??i,w=pu(p,y);return Kt(function HT(n){return n&&Hp(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(uc())});return(0,gt.of)(u).pipe(kg())}(i.component,i.route,t,e,r)),uc(i=>!0!==i,!0))}(u,r,i,n).pipe((0,ns.z)(p=>p&&function rI(n){return"boolean"==typeof n}(p)?function jT(n,e,t,r){return(0,Mr.D)(e).pipe((0,Ir.b)(i=>ru(function aI(n,e){return null!==n&&e&&e(new xT(n)),(0,gt.of)(!0)}(i.route.parent,r),function zT(n,e){return null!==n&&e&&e(new IT(n)),(0,gt.of)(!0)}(i.route,r),function $T(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function Ag(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>oh(()=>{const p=u.guards.map(y=>{const w=Sg(u.node)??t,D=pu(y,w);return Kt(function VT(n){return n&&Hp(n.canActivateChild)}(D)?D.canActivateChild(r,n):w.runInContext(()=>D(r,n))).pipe(uc())});return(0,gt.of)(p).pipe(kg())}));return(0,gt.of)(s).pipe(kg())}(n,i.path,t),function Rg(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,gt.of)(!0);const i=r.map(s=>oh(()=>{const u=Sg(e)??t,p=pu(s,u);return Kt(function iI(n){return n&&Hp(n.canActivate)}(p)?p.canActivate(e,n):u.runInContext(()=>p(e,n))).pipe(uc())}));return(0,gt.of)(i).pipe(kg())}(n,i.route,t))),uc(i=>!0!==i,!0))}(r,s,n,e):(0,gt.of)(p)),(0,vt.U)(p=>({...t,guardsResult:p})))})}(this.environmentInjector,u=>this.events.next(u)),(0,Ui.b)(u=>{if(r.guardsResult=u.guardsResult,_s(u.guardsResult))throw an(0,u.guardsResult);const p=new yT(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(p)}),(0,Yr.h)(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3,t),!1)),Og(u=>{if(u.guards.canActivateChecks.length)return(0,gt.of)(u).pipe((0,Ui.b)(p=>{const y=new vT(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}),(0,Ur.w)(p=>{let y=!1;return(0,gt.of)(p).pipe(function OE(n,e){return(0,ns.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,gt.of)(t);let s=0;return(0,Mr.D)(i).pipe((0,Ir.b)(u=>function PE(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!wI(i)&&(s[z]=i.title),function EI(n,e,t,r){const i=function FE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,gt.of)({});const s={};return(0,Mr.D)(i).pipe((0,ns.z)(u=>function cA(n,e,t,r){const i=Sg(e)??r,s=pu(n,i);return Kt(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[u],e,t,r).pipe(uc(),(0,Ui.b)(p=>{s[u]=p}))),d(1),function A(n){return(0,vt.U)(()=>n)}(s),(0,ps.K)(u=>oI(u)?Xc.E:bl(u)))}(s,n,e,r).pipe((0,vt.U)(u=>(n._resolvedData=u,n.data=EE(n,t).resolve,i&&wI(i)&&(n.data[z]=i.title),null)))}(u.route,r,n,e)),(0,Ui.b)(()=>s++),d(1),(0,ns.z)(u=>s===i.length?(0,gt.of)(t):Xc.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Ui.b)({next:()=>y=!0,complete:()=>{y||(t.restoreHistory(p),this.cancelNavigationTransition(p,"",2,t))}}))}),(0,Ui.b)(p=>{const y=new bT(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}))}),Og(u=>{const p=y=>{const w=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,Ui.b)(D=>{y.component=D}),(0,vt.U)(()=>{})));for(const D of y.children)w.push(...p(D));return w};return Ld(p(u.targetSnapshot.root)).pipe(Qu(),(0,ac.q)(1))}),Og(()=>t.afterPreactivation()),(0,vt.U)(u=>{const p=function CE(n,e,t){const r=gv(n,e._root,t?t._root:void 0);return new vE(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:p}}),(0,Ui.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,vt.U)(r=>(new nI(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),(0,Ui.b)({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ch(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),Gd(()=>{i||s||this.cancelNavigationTransition(r,"",1,t),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),(0,ps.K)(u=>{if(s=!0,eI(u)){JC(u)||(t.navigated=!0,t.restoreHistory(r,!0));const p=new Cg(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(p),JC(u)){const y=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||xI(r.source)};t.scheduleNavigation(y,"imperative",null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const p=new yE(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(p);try{r.resolve(t.errorHandler(u))}catch(y){r.reject(y)}}return Xc.E}))}))}cancelNavigationTransition(t,r,i,s){const u=new Cg(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xI(n){return"imperative"!==n}let Iv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===F);return r}getResolvedTitleForRoute(t){return t.data[z]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(hA)},providedIn:"root"}),n})(),hA=(()=>{class n extends Iv{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vc))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(II)},providedIn:"root"}),n})();class BE{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let II=(()=>{class n extends BE{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fg=new c.OlP("",{providedIn:"root",factory:()=>({})});let SI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(fA)},providedIn:"root"}),n})(),fA=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pA(n){throw n}function mA(n,e,t){return e.parse("/")}const AI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zo=(()=>{class n{constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(Fg,{optional:!0})||{},this.errorHandler=this.options.errorHandler||pA,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||mA,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,gt.of)(void 0),this.urlHandlingStrategy=(0,c.f3M)(SI),this.routeReuseStrategy=(0,c.f3M)(CI),this.urlCreationStrategy=(0,c.f3M)(AT),this.titleStrategy=(0,c.f3M)(Iv),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=wt((0,c.f3M)(xl,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(Pg),this.urlSerializer=(0,c.f3M)(vg),this.location=(0,c.f3M)(Be),this.rootComponentType=null,this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bE(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(t.state){const p={...t.state};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(i.state=p)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(yf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:u,queryParamsHandling:p,preserveFragment:y}=r,w=y?this.currentUrlTree.fragment:u;let D=null;switch(p){case"merge":D={...this.currentUrlTree.queryParams,...s};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}return null!==D&&(D=this.removeEmptyProps(D)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,D,w??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=_s(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function gA(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...AI}:!1===r?{...wO}:r,_s(t))return jo(this.currentUrlTree,t,i);const s=this.parseUrl(t);return jo(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,u){if(this.disposed)return Promise.resolve(!1);let p,y,w,D;return u?(p=u.resolve,y=u.reject,w=u.promise):w=new Promise((P,$)=>{p=P,y=$}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),D=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.navigationTransitions.handleNavigationRequest({targetPageId:D,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:p,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class MI{}let yA=(()=>{class n{constructor(t,r,i,s,u){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe((0,Yr.h)(t=>t instanceof ch),(0,Ir.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,c.MMx)(s.providers,t,`Route: ${s.path}`));const u=s._injector??t,p=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(p,s.children??s._loadedRoutes))}return(0,Mr.D)(i).pipe((0,sp.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,gt.of)(null);const s=i.pipe((0,ns.z)(u=>null===u?(0,gt.of)(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,Mr.D)([s,u]).pipe((0,sp.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zo),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(MI),c.LFG(Cv))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VE=new c.OlP("");let kI=(()=>{class n{constructor(t,r,i,s,u={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof fv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ch&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $C&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $C(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Gp(n,e){return{\u0275kind:n,\u0275providers:e}}function jE(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(zo),i=n.get(zE);1===n.get(Dv)&&r.initialNavigation(),n.get($E,null,c.XFs.Optional)?.setUpPreloading(),n.get(VE,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const zE=new c.OlP("",{factory:()=>new On.x}),Dv=new c.OlP("",{providedIn:"root",factory:()=>1});const $E=new c.OlP("");function wA(n){return Gp(0,[{provide:$E,useExisting:yA},{provide:MI,useExisting:n}])}const Wp=new c.OlP("ROUTER_FORROOT_GUARD"),CA=[Be,{provide:vg,useClass:av},zo,Dg,{provide:gf,useFactory:function RI(n){return n.routerState.root},deps:[zo]},Cv,[]];function GE(){return new c.PXZ("Router",zo)}let ta=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[CA,[],{provide:xl,multi:!0,useValue:t},{provide:Wp,useFactory:DA,deps:[[zo,new c.FiY,new c.tp0]]},{provide:Fg,useValue:r||{}},r?.useHash?{provide:ot,useClass:Pe}:{provide:ot,useClass:Ne},{provide:VE,useFactory:()=>{const n=(0,c.f3M)(pa),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(Fg),r=(0,c.f3M)(Pg),i=(0,c.f3M)(vg);return t.scrollOffset&&n.setOffset(t.scrollOffset),new kI(i,r,n,e,t)}},r?.preloadingStrategy?wA(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:GE},r?.initialNavigation?SA(r):[],[{provide:PI,useFactory:jE},{provide:c.tb,multi:!0,useExisting:PI}]]}}static forChild(t){return{ngModule:n,providers:[{provide:xl,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wp,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[_v]}),n})();function DA(n){return"guarded"}function SA(n){return["disabled"===n.initialNavigation?Gp(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(zo);return()=>{e.setUpLocationChangeListener()}}},{provide:Dv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Gp(2,[{provide:Dv,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(se,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const s=e.get(zo),u=e.get(zE);(function r(i){e.get(zo).events.pipe((0,Yr.h)(u=>u instanceof ch||u instanceof Cg||u instanceof yE),(0,vt.U)(u=>u instanceof ch||u instanceof Cg&&(0===u.code||1===u.code)&&null),(0,Yr.h)(u=>null!==u),(0,ac.q)(1)).subscribe(()=>{i()})})(()=>{i(!0)}),s.afterPreactivation=()=>(i(!0),u.closed?(0,gt.of)(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const PI=new c.OlP(""),qE=(0,yr.PH)("[User] getUser",(0,yr.Ky)()),FI=(0,yr.PH)("[User] getUserFailed",(0,yr.Ky)()),KE=(0,yr.PH)("[User] getUserSuccess",(0,yr.Ky)()),ZE=(0,yr.PH)("[User] setUserCurrentAccount",(0,yr.Ky)());var qp=R(9260);const Ju_firebase={apiKey:"AIzaSyAhRLXni_xJqCI_WtgURlF_ifsLxudLC1k",authDomain:"oursofka.firebaseapp.com",databaseURL:"https://oursofka.firebaseio.com",projectId:"oursofka",storageBucket:"oursofka.appspot.com",messagingSenderId:"637644766924",appId:"1:637644766924:web:6d7961f2a04ceb77974c69",measurementId:"G-8VC11TDDZN"};let Ug=(()=>{class n{constructor(t){this._httpClient=t,this._endpointBaseURL="",this._selectedAccount=""}getAccountsList(){return this._httpClient.get(`${this._endpointBaseURL}/accounts`)}getEmployeeAccount(t){return this._httpClient.get(`${this._endpointBaseURL}/accounts/employees/${t}`).pipe((0,ps.K)(i=>(0,gt.of)(null)))}setAccount(t){this._selectedAccount=t}getAccount(){return this._selectedAccount}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ni))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vg=(()=>{class n{constructor(t,r){this._httpClient=t,this._accountsService=r}getUserByEmail(t){return this._httpClient.get(`/employees/${t}`).pipe((0,Ur.w)(i=>this._accountsService.getEmployeeAccount(i.email).pipe((0,vt.U)(s=>({...i,account:s})))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ni),c.LFG(Ug))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Av=R(4986),rr=R(263);function Hg(){return(0,ao.e)((n,e)=>{let t,r=!1;n.subscribe((0,so.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var Zt,Rs=R(2011),NI=(R(9568),R(3942)),qe=R(5861),tl=R(9681),hh=R(4859),ed=R(1877),Pn=R(2090),LI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mu={},Mv=Mv||{},Cn=LI||self;function kv(){}function jg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Kp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var fh="closure_uid_"+(1e9*Math.random()>>>0),TA=0;function AA(n,e,t){return n.call.apply(n.bind,arguments)}function MO(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ra(n,e,t){return(ra=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?AA:MO).apply(null,arguments)}function zg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function is(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var u=Array(arguments.length-2),p=2;p<arguments.length;p++)u[p-2]=arguments[p];return e.prototype[i].apply(r,u)}}function nl(){this.s=this.s,this.o=this.o}nl.prototype.s=!1,nl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function na(n){Object.prototype.hasOwnProperty.call(n,fh)&&n[fh]||(n[fh]=++TA)}(this)},nl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Rv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function YE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function QE(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(jg(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let u=0;u<s;u++)n[i+u]=r[u]}else n.push(r)}}function Os(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Os.prototype.h=function(){this.defaultPrevented=!0};var kA=function(){if(!Cn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Cn.addEventListener("test",kv,e),Cn.removeEventListener("test",kv,e)}catch{}return n}();function Ov(n){return/^[\s\xa0]*$/.test(n)}var Pv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Fv(n,e){return n<e?-1:n>e?1:0}function $g(){var n=Cn.navigator;return n&&(n=n.userAgent)?n:""}function fc(n){return-1!=$g().indexOf(n)}function Gg(n){return Gg[" "](n),n}Gg[" "]=kv;var JE,n,BI=fc("Opera"),Zp=fc("Trident")||fc("MSIE"),XE=fc("Edge"),ph=XE||Zp,UI=fc("Gecko")&&!(-1!=$g().toLowerCase().indexOf("webkit")&&!fc("Edge"))&&!(fc("Trident")||fc("MSIE"))&&!fc("Edge"),VI=-1!=$g().toLowerCase().indexOf("webkit")&&!fc("Edge");function Nv(){var n=Cn.document;return n?n.documentMode:void 0}e:{var ew="",HI=(n=$g(),UI?/rv:([^\);]+)(\)|;)/.exec(n):XE?/Edge\/([\d\.]+)/.exec(n):Zp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):VI?/WebKit\/(\S+)/.exec(n):BI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(HI&&(ew=HI?HI[1]:""),Zp){var tw=Nv();if(null!=tw&&tw>parseFloat(ew)){JE=String(tw);break e}}JE=ew}var RA={};var PA=Cn.document&&Zp&&(Nv()||parseInt(JE,10))||void 0;function Yp(n,e){if(Os.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(UI){e:{try{Gg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:jI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yp.X.h.call(this)}}is(Yp,Os);var jI={2:"touch",3:"pen",4:"mouse"};Yp.prototype.h=function(){Yp.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wg="closure_listenable_"+(1e6*Math.random()|0),FA=0;function zI(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++FA,this.ba=this.ea=!1}function Bv(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Uv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function rw(n){const e={};for(const t in n)e[t]=n[t];return e}const iw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ow(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<iw.length;s++)t=iw[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Vv(n){this.src=n,this.g={},this.h=0}function sw(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=Rv(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Bv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function $I(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}Vv.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=$I(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new zI(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var Hv="closure_lm_"+(1e6*Math.random()|0),GI={};function NA(n,e,t,r,i){if(r&&r.once)return BA(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)NA(n,e[s],t,r,i);return null}return t=Qp(t),n&&n[Wg]?n.N(e,t,Kp(r)?!!r.capture:!!r,i):LA(n,e,t,!1,r,i)}function LA(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var u=Kp(i)?!!i.capture:!!i,p=qI(n);if(p||(n[Hv]=p=new Vv(n)),(t=p.add(e,t,r,u,s)).proxy)return t;if(r=function RO(){const e=jv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)kA||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(VA(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function BA(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)BA(n,e[s],t,r,i);return null}return t=Qp(t),n&&n[Wg]?n.O(e,t,Kp(r)?!!r.capture:!!r,i):LA(n,e,t,!0,r,i)}function UA(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)UA(n,e[s],t,r,i);else r=Kp(r)?!!r.capture:!!r,t=Qp(t),n&&n[Wg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=$I(s=n.g[e],t,r,i))&&(Bv(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=qI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=$I(e,t,r,i)),(t=-1<n?e[n]:null)&&WI(t))}function WI(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Wg])sw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(VA(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=qI(e))?(sw(t,n),0==t.h&&(t.src=null,e[Hv]=null)):Bv(n)}}}function VA(n){return n in GI?GI[n]:GI[n]="on"+n}function jv(n,e){if(n.ba)n=!0;else{e=new Yp(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&WI(n),n=t.call(r,e)}return n}function qI(n){return(n=n[Hv])instanceof Vv?n:null}var zv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qp(n){return"function"==typeof n?n:(n[zv]||(n[zv]=function(e){return n.handleEvent(e)}),n[zv])}function $o(){nl.call(this),this.i=new Vv(this),this.P=this,this.I=null}function os(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Os(e,n);else if(e instanceof Os)e.target=e.target||n;else{var i=e;ow(e=new Os(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];i=aw(u,r,!0,e)&&i}if(i=aw(u=e.g=n,r,!0,e)&&i,i=aw(u,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=aw(u=e.g=t[s],r,!1,e)&&i}function aw(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.ba&&u.capture==t){var p=u.listener,y=u.ha||u.src;u.ea&&sw(n.i,u),i=!1!==p.call(y,r)&&i}}return i&&!r.defaultPrevented}is($o,nl),$o.prototype[Wg]=!0,$o.prototype.removeEventListener=function(n,e,t,r){UA(this,n,e,t,r)},$o.prototype.M=function(){if($o.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Bv(t[r]);delete n.g[e],n.h--}}this.I=null},$o.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},$o.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var qg=Cn.JSON.stringify;function KI(){var n=zA;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var lw,cw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new OO,n=>n.reset());class OO{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jA(n){Cn.setTimeout(()=>{throw n},0)}function ZI(n,e){lw||function $v(){var n=Cn.Promise.resolve(void 0);lw=function(){n.then(PO)}}(),uw||(lw(),uw=!0),zA.add(n,e)}var uw=!1,zA=new class HA{constructor(){this.h=this.g=null}add(e,t){const r=cw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function PO(){for(var n;n=KI();){try{n.h.call(n.g)}catch(t){jA(t)}var e=cw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}uw=!1}function dw(n,e){$o.call(this),this.h=n||1,this.g=e||Cn,this.j=ra(this.lb,this),this.l=Date.now()}function hw(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function fw(n,e,t){if("function"==typeof n)t&&(n=ra(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ra(n.handleEvent,n)}return 2147483647<Number(e)?-1:Cn.setTimeout(n,e||0)}function YI(n){n.g=fw(()=>{n.g=null,n.i&&(n.i=!1,YI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}is(dw,$o),(Zt=dw.prototype).ca=!1,Zt.R=null,Zt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),os(this,"tick"),this.ca&&(hw(this),this.start()))}},Zt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Zt.M=function(){dw.X.M.call(this),hw(this),delete this.g};class FO extends nl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:YI(this)}M(){super.M(),this.g&&(Cn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kg(n){nl.call(this),this.h=n,this.g={}}is(Kg,nl);var pw=[];function mw(n,e,t,r){Array.isArray(t)||(t&&(pw[0]=t.toString()),t=pw);for(var i=0;i<t.length;i++){var s=NA(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function $A(n){Uv(n.g,function(e,t){this.g.hasOwnProperty(t)&&WI(e)},n),n.g={}}function La(){this.g=!0}function Xp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function rl(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<i.length;u++)i[u]=""}}}return qg(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Kg.prototype.M=function(){Kg.X.M.call(this),$A(this)},Kg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},La.prototype.Aa=function(){this.g=!1},La.prototype.info=function(){};var vf={},Gv=null;function Wv(){return Gv=Gv||new $o}function QI(n){Os.call(this,vf.Pa,n)}function bf(n){const e=Wv();os(e,new QI(e))}function _w(n,e){Os.call(this,vf.STAT_EVENT,n),this.stat=e}function Ps(n){const e=Wv();os(e,new _w(e,n))}function XI(n,e){Os.call(this,vf.Qa,n),this.size=e}function Jp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Cn.setTimeout(function(){n()},e)}vf.Pa="serverreachability",is(QI,Os),vf.STAT_EVENT="statevent",is(_w,Os),vf.Qa="timingevent",is(XI,Os);var Zg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},JI={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function qv(){}function Kv(){}qv.prototype.h=null;var Cl,il={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Zv(){Os.call(this,"d")}function Yg(){Os.call(this,"c")}function Yv(){}function Qv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Kg(this),this.O=WA,this.T=new dw(n=ph?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new tD}function tD(){this.i=null,this.g="",this.h=!1}is(Zv,Os),is(Yg,Os),is(Yv,qv),Yv.prototype.g=function(){return new XMLHttpRequest},Yv.prototype.i=function(){return{}},Cl=new Yv;var WA=45e3,yw={},Xv={};function Jv(n,e,t){n.K=1,n.v=ib(td(e)),n.s=t,n.P=!0,qA(n,null)}function qA(n,e){n.F=Date.now(),eb(n),n.A=td(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Iw(t.i,"t",r),n.C=0,t=n.l.H,n.h=new tD,n.g=Se(n.l,t?e:null,!n.s),0<n.N&&(n.L=new FO(ra(n.La,n,n.g),n.N)),mw(n.S,n.g,"readystatechange",n.ib),e=n.H?rw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),bf(),function GA(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var u="",p=s.split("&"),y=0;y<p.length;y++){var w=p[y].split("=");if(1<w.length){var D=w[0];w=w[1];var P=D.split("_");u=2<=P.length&&"type"==P[1]?u+(D+"=")+w+"&":u+(D+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function vw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function nD(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=rD(n,t),i==Xv){4==e&&(n.o=4,Ps(14),r=!1),Xp(n.j,n.m,null,"[Incomplete Response]");break}if(i==yw){n.o=4,Ps(15),Xp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Xp(n.j,n.m,i,null),nb(n,i)}vw(n)&&i!=Xv&&i!=yw&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ps(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),g(e),e.K=!0,Ps(11))):(Xp(n.j,n.m,t,"[Invalid Chunked Response]"),mh(n),em(n))}function rD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Xv:(t=Number(e.substring(t,r)),isNaN(t)?yw:(r+=1)+t>e.length?Xv:(e=e.substr(r,t),n.C=r+t,e))}function eb(n){n.V=Date.now()+n.O,tb(n,n.O)}function tb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Jp(ra(n.gb,n),e)}function Qg(n){n.B&&(Cn.clearTimeout(n.B),n.B=null)}function em(n){0==n.l.G||n.I||S(n.l,n)}function mh(n){Qg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,hw(n.T),$A(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function nb(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||oD(t.h,n)))if(!n.J&&oD(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;C(t),kw(t)}f(t),Ps(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Jp(ra(t.cb,t),6e3));if(1>=XA(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else B(t,11)}else if((n.J||t.g==n)&&C(t),!Ov(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const D=w[3];null!=D&&(t.ma=D,t.j.info("VER="+t.ma));const P=w[4];null!=P&&(t.Ca=P,t.j.info("SVER="+t.Ca));const $=w[5];null!=$&&"number"==typeof $&&0<$&&(t.J=r=1.5*$,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Y=n.g;if(Y){const Q=Y.g?Y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var s=r.h;s.g||-1==Q.indexOf("spdy")&&-1==Q.indexOf("quic")&&-1==Q.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(sD(s,s.h),s.h=null))}if(r.D){const me=Y.g?Y.g.getResponseHeader("X-HTTP-Session-Id"):null;me&&(r.za=me,Di(r.F,r.D,me))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=pe(r,r.H?r.ka:null,r.V),u.J){JA(r.h,u);var p=u,y=r.J;y&&p.setTimeout(y),p.B&&(Qg(p),eb(p)),r.g=u}else h(r);0<t.i.length&&Rw(t)}else"stop"!=w[0]&&"close"!=w[0]||B(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?B(t,7):dD(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}bf()}catch{}}function Xg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(jg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function rb(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(jg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function iD(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(jg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Zt=Qv.prototype).setTimeout=function(n){this.O=n},Zt.ib=function(n){n=n.target;const e=this.L;e&&3==vh(n)?e.l():this.La(n)},Zt.La=function(n){try{if(n==this.g)e:{const D=vh(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>D)&&(3!=D||ph||this.g&&(this.h.h||this.g.fa()||aM(this.g)))){this.I||4!=D||7==e||bf(),Qg(this);var t=this.g.aa();this.Y=t;t:if(vw(this)){var r=aM(this.g);n="";var i=r.length,s=4==vh(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mh(this),em(this);var u="";break t}this.h.i=new Cn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function gw(n,e,t,r,i,s,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.U,D,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ov(p)){var w=p;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Ps(12),mh(this),em(this);break e}Xp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,nb(this,t)}this.P?(nD(this,D,u),ph&&this.i&&3==D&&(mw(this.S,this.T,"tick",this.hb),this.T.start())):(Xp(this.j,this.m,u,null),nb(this,u)),4==D&&mh(this),this.i&&!this.I&&(4==D?S(this.l,this):(this.i=!1,eb(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Ps(12)):(this.o=0,Ps(13)),mh(this),em(this)}}}catch{}},Zt.hb=function(){if(this.g){var n=vh(this.g),e=this.g.fa();this.C<e.length&&(Qg(this),nD(this,n,e),this.i&&4!=n&&eb(this))}},Zt.cancel=function(){this.I=!0,mh(this)},Zt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function NO(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(bf(),Ps(17)),mh(this),this.o=2,em(this)):tb(this,this.V-n)};var bw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ef(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ef){this.h=void 0!==e?e:n.h,Ew(this,n.j),this.s=n.s,this.g=n.g,ww(this,n.m),this.l=n.l,e=n.i;var t=new e_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xw(this,t),this.o=n.o}else n&&(t=String(n).match(bw))?(this.h=!!e,Ew(this,t[1]||"",!0),this.s=Jg(t[2]||""),this.g=Jg(t[3]||"",!0),ww(this,t[4]),this.l=Jg(t[5]||"",!0),xw(this,t[6]||"",!0),this.o=Jg(t[7]||"")):(this.h=!!e,this.i=new e_(null,this.h))}function td(n){return new Ef(n)}function Ew(n,e,t){n.j=t?Jg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ww(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xw(n,e,t){e instanceof e_?(n.i=e,function Dw(n,e){e&&!n.j&&(gh(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Cw(this,r),Iw(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ob(e,YA)),n.i=new e_(e,n.h))}function Di(n,e,t){n.i.set(e,t)}function ib(n){return Di(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ob(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,LO),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function LO(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ef.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ob(e,ZA,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ob(e,ZA,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ob(t,"/"==t.charAt(0)?UO:BO,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ob(t,sb)),n.join("")};var ZA=/[#\/\?@]/g,BO=/[#\?:]/g,UO=/[#\?]/g,YA=/[#\?@]/g,sb=/#/g;function e_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function gh(n){n.g||(n.g=new Map,n.h=0,n.i&&function KA(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Cw(n,e){gh(n),e=yh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function _h(n,e){return gh(n),e=yh(n,e),n.g.has(e)}function Iw(n,e,t){Cw(n,e),0<t.length&&(n.i=null,n.g.set(yh(n,e),YE(t)),n.h+=t.length)}function yh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ab(n){this.l=n||Sw,n=Cn.PerformanceNavigationTiming?0<(n=Cn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Cn.g&&Cn.g.Ga&&Cn.g.Ga()&&Cn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Zt=e_.prototype).add=function(n,e){gh(this),this.i=null,n=yh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Zt.forEach=function(n,e){gh(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Zt.oa=function(){gh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Zt.W=function(n){gh(this);let e=[];if("string"==typeof n)_h(this,n)&&(e=e.concat(this.g.get(yh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Zt.set=function(n,e){return gh(this),this.i=null,_h(this,n=yh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Zt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Zt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=s;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var Sw=10;function t_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function XA(n){return n.h?1:n.g?n.g.size:0}function oD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function sD(n,e){n.g?n.g.add(e):n.h=e}function JA(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Tw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return YE(n.i)}function Aw(){}function eM(){this.g=new Aw}function tM(n,e,t){const r=t||"";try{Xg(n,function(i,s){let u=i;Kp(i)&&(u=qg(i)),e.push(r+s+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function n_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function tm(n){this.l=n.ac||null,this.j=n.jb||!1}function r_(n,e){$o.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Mw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ab.prototype.cancel=function(){if(this.i=Tw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Aw.prototype.stringify=function(n){return Cn.JSON.stringify(n,void 0)},Aw.prototype.parse=function(n){return Cn.JSON.parse(n,void 0)},is(tm,qv),tm.prototype.g=function(){return new r_(this.l,this.j)},tm.prototype.i=function(n){return function(){return n}}({}),is(r_,$o);var Mw=0;function aD(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function nm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,wf(n)}function wf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Zt=r_.prototype).open=function(n,e){if(this.readyState!=Mw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,wf(this)},Zt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Cn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Zt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nm(this)),this.readyState=Mw},Zt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,wf(this)),this.g&&(this.readyState=3,wf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Cn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aD(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Zt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?nm(this):wf(this),3==this.readyState&&aD(this)}},Zt.Va=function(n){this.g&&(this.response=this.responseText=n,nm(this))},Zt.Ua=function(n){this.g&&(this.response=n,nm(this))},Zt.ga=function(){this.g&&nm(this)},Zt.setRequestHeader=function(n,e){this.v.append(n,e)},Zt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Zt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(r_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var VO=Cn.JSON.parse;function ji(n){$o.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cb,this.K=this.L=!1}is(ji,$o);var cb="",rM=/^https?$/i,iM=["POST","PUT"];function oM(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,cD(n),lb(n)}function cD(n){n.D||(n.D=!0,os(n,"complete"),os(n,"error"))}function lD(n){if(n.h&&typeof Mv<"u"&&(!n.C[1]||4!=vh(n)||2!=n.aa()))if(n.v&&4==vh(n))fw(n.Ha,0,n);else if(os(n,"readystatechange"),4==vh(n)){n.h=!1;try{const p=n.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(bw)[1]||null;if(!i&&Cn.self&&Cn.self.location){var s=Cn.self.location.protocol;i=s.substr(0,s.length-1)}r=!rM.test(i?i.toLowerCase():"")}t=r}if(t)os(n,"complete"),os(n,"success");else{n.m=6;try{var u=2<vh(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",cD(n)}}finally{lb(n)}}}function lb(n,e){if(n.g){sM(n);const t=n.g,r=n.C[0]?kv:null;n.g=null,n.C=null,e||os(n,"ready");try{t.onreadystatechange=r}catch{}}}function sM(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Cn.clearTimeout(n.A),n.A=null)}function vh(n){return n.g?n.g.readyState:0}function aM(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case cb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function cM(n){let e="";return Uv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function uD(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=cM(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Di(n,e,t))}function i_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function lM(n){this.Ca=0,this.i=[],this.j=new La,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=i_("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=i_("baseRetryDelayMs",5e3,n),this.bb=i_("retryDelaySeedMs",1e4,n),this.$a=i_("forwardChannelMaxRetries",2,n),this.ta=i_("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new ab(n&&n.concurrentRequestLimit),this.Fa=new eM,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function dD(n){if(uM(n),3==n.G){var e=n.U++,t=td(n.F);Di(t,"SID",n.I),Di(t,"RID",e),Di(t,"TYPE","terminate"),a(n,t),(e=new Qv(n,n.j,e,void 0)).K=2,e.v=ib(td(t)),t=!1,Cn.navigator&&Cn.navigator.sendBeacon&&(t=Cn.navigator.sendBeacon(e.v.toString(),"")),!t&&Cn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Se(e.l,null),e.g.da(e.v)),e.F=Date.now(),eb(e)}Z(n)}function kw(n){n.g&&(g(n),n.g.cancel(),n.g=null)}function uM(n){kw(n),n.u&&(Cn.clearTimeout(n.u),n.u=null),C(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Cn.clearTimeout(n.m),n.m=null)}function Rw(n){t_(n.h)||n.m||(n.m=!0,ZI(n.Ja,n),n.C=0)}function o(n,e){var t;t=e?e.m:n.U++;const r=td(n.F);Di(r,"SID",n.I),Di(r,"RID",t),Di(r,"AID",n.T),a(n,r),n.o&&n.s&&uD(r,n.o,n.s),t=new Qv(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=l(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),sD(n.h,t),Jv(t,r,e)}function a(n,e){n.ia&&Uv(n.ia,function(t,r){Di(e,r,t)}),n.l&&Xg({},function(t,r){Di(e,r,t)})}function l(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ra(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=i[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let p=!0;for(let y=0;y<t;y++){let w=i[y].h;const D=i[y].g;if(w-=s,0>w)s=Math.max(0,i[y].h-100),p=!1;else try{tM(D,u,"req"+w+"_")}catch{r&&r(D)}}if(p){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function h(n){n.g||n.u||(n.Z=1,ZI(n.Ia,n),n.A=0)}function f(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Jp(ra(n.Ia,n),O(n,n.A)),n.A++,0))}function g(n){null!=n.B&&(Cn.clearTimeout(n.B),n.B=null)}function E(n){n.g=new Qv(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=td(n.sa);Di(e,"RID","rpc"),Di(e,"SID",n.I),Di(e,"CI",n.L?"0":"1"),Di(e,"AID",n.T),Di(e,"TYPE","xmlhttp"),a(n,e),n.o&&n.s&&uD(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=ib(td(e)),t.s=null,t.P=!0,qA(t,n)}function C(n){null!=n.v&&(Cn.clearTimeout(n.v),n.v=null)}function S(n,e){var t=null;if(n.g==e){C(n),g(n),n.g=null;var r=2}else{if(!oD(n.h,e))return;t=e.D,JA(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;os(r=Wv(),new XI(r,t)),Rw(n)}else h(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function jO(n,e){return!(XA(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Jp(ra(n.Ja,n,e),O(n,n.C)),n.C++,0)))}(n,e)||2==r&&f(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:B(n,5);break;case 4:B(n,10);break;case 3:B(n,6);break;default:B(n,2)}}function O(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function B(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ra(n.kb,n);t||(t=new Ef("//www.google.com/images/cleardot.gif"),Cn.location&&"http"==Cn.location.protocol||Ew(t,"https"),ib(t)),function nM(n,e){const t=new La;if(Cn.Image){const r=new Image;r.onload=zg(n_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=zg(n_,t,r,"TestLoadImage: error",!1,e),r.onabort=zg(n_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=zg(n_,t,r,"TestLoadImage: timeout",!1,e),Cn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ps(2);n.G=0,n.l&&n.l.va(e),Z(n),uM(n)}function Z(n){if(n.G=0,n.la=[],n.l){const e=Tw(n.h);(0!=e.length||0!=n.i.length)&&(QE(n.la,e),QE(n.la,n.i),n.h.i.length=0,YE(n.i),n.i.length=0),n.l.ua()}}function pe(n,e,t){var r=t instanceof Ef?td(t):new Ef(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),ww(r,r.m);else{var i=Cn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ef(null,void 0);r&&Ew(s,r),e&&(s.g=e),i&&ww(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&Di(r,t,e),Di(r,"VER",n.ma),a(n,r),r}function Se(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ji(t&&n.Da&&!n.ra?new tm({jb:!0}):n.ra)).Ka(n.H),e}function Ye(){}function ft(){if(Zp&&!(10<=Number(PA)))throw Error("Environmental error: no available transport.")}function yt(n,e){$o.call(this),this.g=new lM(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Ov(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ov(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new st(this)}function Vt(n){Zv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function hn(){Yg.call(this),this.status=1}function st(n){this.g=n}(Zt=ji.prototype).Ka=function(n){this.L=n},Zt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cl.g(),this.C=function eD(n){return n.h||(n.h=n.i())}(this.u?this.u:Cl),this.g.onreadystatechange=ra(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void oM(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Cn.FormData&&n instanceof Cn.FormData,!(0<=Rv(iM,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of t)this.g.setRequestHeader(s,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sM(this),0<this.B&&((this.K=function HO(n){return Zp&&function OA(){return function kO(n){var e=RA;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Pv(String(JE)).split("."),t=Pv("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",s=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=Fv(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Fv(0==i[2].length,0==s[2].length)||Fv(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ra(this.qa,this)):this.A=fw(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){oM(this,s)}},Zt.qa=function(){typeof Mv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,os(this,"timeout"),this.abort(8))},Zt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,os(this,"complete"),os(this,"abort"),lb(this))},Zt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lb(this,!0)),ji.X.M.call(this)},Zt.Ha=function(){this.s||(this.F||this.v||this.l?lD(this):this.fb())},Zt.fb=function(){lD(this)},Zt.aa=function(){try{return 2<vh(this)?this.g.status:-1}catch{return-1}},Zt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Zt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),VO(e)}},Zt.Ea=function(){return this.m},Zt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Zt=lM.prototype).ma=8,Zt.G=1,Zt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Qv(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=rw(s),ow(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=l(this,i,e),Di(t=td(this.F),"RID",n),Di(t,"CVER",22),this.D&&Di(t,"X-HTTP-Session-Id",this.D),a(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(cM(s)))+"&"+e:this.o&&uD(t,this.o,s)),sD(this.h,i),this.Ya&&Di(t,"TYPE","init"),this.O?(Di(t,"$req",e),Di(t,"SID","null"),i.Z=!0,Jv(i,t,null)):Jv(i,t,e),this.G=2}}else 3==this.G&&(n?o(this,n):0==this.i.length||t_(this.h)||o(this))},Zt.Ia=function(){if(this.u=null,E(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Jp(ra(this.eb,this),n)}},Zt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ps(10),kw(this),E(this))},Zt.cb=function(){null!=this.v&&(this.v=null,kw(this),f(this),Ps(19))},Zt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ps(2)):(this.j.info("Failed to ping google.com"),Ps(1))},(Zt=Ye.prototype).xa=function(){},Zt.wa=function(){},Zt.va=function(){},Zt.ua=function(){},Zt.Ra=function(){},ft.prototype.g=function(n,e){return new yt(n,e)},is(yt,$o),yt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ps(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=pe(n,null,n.V),Rw(n)},yt.prototype.close=function(){dD(this.g)},yt.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=qg(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Rw(e)},yt.prototype.M=function(){this.g.l=null,delete this.j,dD(this.g),delete this.g,yt.X.M.call(this)},is(Vt,Zv),is(hn,Yg),is(st,Ye),st.prototype.xa=function(){os(this.g,"a")},st.prototype.wa=function(n){os(this.g,new Vt(n))},st.prototype.va=function(n){os(this.g,new hn)},st.prototype.ua=function(){os(this.g,"b")},ft.prototype.createWebChannel=ft.prototype.g,yt.prototype.send=yt.prototype.u,yt.prototype.open=yt.prototype.m,yt.prototype.close=yt.prototype.close,Zg.NO_ERROR=0,Zg.TIMEOUT=8,Zg.HTTP_ERROR=6,JI.COMPLETE="complete",Kv.EventType=il,il.OPEN="a",il.CLOSE="b",il.ERROR="c",il.MESSAGE="d",$o.prototype.listen=$o.prototype.N,ji.prototype.listenOnce=ji.prototype.O,ji.prototype.getLastError=ji.prototype.Oa,ji.prototype.getLastErrorCode=ji.prototype.Ea,ji.prototype.getStatus=ji.prototype.aa,ji.prototype.getResponseJson=ji.prototype.Sa,ji.prototype.getResponseText=ji.prototype.fa,ji.prototype.send=ji.prototype.da,ji.prototype.setWithCredentials=ji.prototype.Ka;var kn=mu.createWebChannelTransport=function(){return new ft},Si=mu.getStatEventTarget=function(){return Wv()},zi=mu.ErrorCode=Zg,zO=mu.EventType=JI,zV=mu.Event=vf,$O=mu.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},$V=mu.FetchXmlHttpFactory=tm,hD=mu.WebChannel=Kv,GV=mu.XhrIo=ji;const GO="@firebase/firestore";class Fs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fs.UNAUTHENTICATED=new Fs(null),Fs.GOOGLE_CREDENTIALS=new Fs("google-credentials-uid"),Fs.FIRST_PARTY=new Fs("first-party-uid"),Fs.MOCK_USER=new Fs("mock-user");let ub="9.15.0";const rm=new ed.Yd("@firebase/firestore");function dM(){return rm.logLevel}function pt(n,...e){if(rm.logLevel<=ed.in.DEBUG){const t=e.map(hM);rm.debug(`Firestore (${ub}): ${n}`,...t)}}function Go(n,...e){if(rm.logLevel<=ed.in.ERROR){const t=e.map(hM);rm.error(`Firestore (${ub}): ${n}`,...t)}}function o_(n,...e){if(rm.logLevel<=ed.in.WARN){const t=e.map(hM);rm.warn(`Firestore (${ub}): ${n}`,...t)}}function hM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ht(n="Unexpected state"){const e=`FIRESTORE (${ub}) INTERNAL ASSERTION FAILED: `+n;throw Go(e),new Error(e)}function Xt(n,e){n||Ht()}function Mt(n,e){return n}const He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Pn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class WO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fs.UNAUTHENTICATED))}shutdown(){}}class ZV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class YV{constructor(e){this.t=e,this.currentUser=Fs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let u=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ys,e.enqueueRetryable(()=>s(this.currentUser))};const p=()=>{const w=u;e.enqueueRetryable((0,qe.Z)(function*(){yield w.promise,yield s(r.currentUser)}))},y=w=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ys)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt("string"==typeof r.accessToken),new WO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xt(null===e||"string"==typeof e),new Fs(e)}}class QV{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Fs.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Xt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class XV{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new QV(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Fs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JV{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.A;return this.A=s.token,pt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xt("string"==typeof t.token),this.A=t.token,new qO(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function eH(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class KO{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=eH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Vn(n,e){return n<e?-1:n>e?1:0}function db(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function ZO(n){return n+"\0"}class ho{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ut(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ut(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ut(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ho.fromMillis(Date.now())}static fromDate(e){return ho.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ho(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vn(this.nanoseconds,e.nanoseconds):Vn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rn(e)}static min(){return new rn(new ho(0,0))}static max(){return new rn(new ho(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ow{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ht(),void 0===r?r=e.length-t:r>e.length-t&&Ht(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ow.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ow?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),u=t.get(i);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vr extends Ow{construct(e,t,r){return new vr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ut(He.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new vr(t)}static emptyPath(){return new vr([])}}const tH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class So extends Ow{construct(e,t,r){return new So(e,t,r)}static isValidIdentifier(e){return tH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),So.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new So(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ut(He.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new ut(He.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new ut(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===p?(u=!u,i++):"."!==p||u?(r+=p,i++):(s(),i++)}if(s(),u)throw new ut(He.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new So(t)}static emptyPath(){return new So([])}}class Dt{constructor(e){this.path=e}static fromPath(e){return new Dt(vr.fromString(e))}static fromName(e){return new Dt(vr.fromString(e).popFirst(5))}static empty(){return new Dt(vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dt(new vr(e.slice()))}}class fD{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function fM(n){return n.fields.find(e=>2===e.kind)}function s_(n){return n.fields.filter(e=>2!==e.kind)}fD.UNKNOWN_ID=-1;class pD{constructor(e,t){this.fieldPath=e,this.kind=t}}class Pw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pw(0,Il.min())}}function YO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=rn.fromTimestamp(1e9===r?new ho(t+1,0):new ho(t,r));return new Il(i,Dt.empty(),e)}function QO(n){return new Il(n.readTime,n.key,-1)}class Il{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Il(rn.min(),Dt.empty(),-1)}static max(){return new Il(rn.max(),Dt.empty(),-1)}}function pM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Dt.comparator(n.documentKey,e.documentKey),0!==t?t:Vn(n.largestBatchId,e.largestBatchId))}const XO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function im(n){return mM.apply(this,arguments)}function mM(){return mM=(0,qe.Z)(function*(n){if(n.code!==He.FAILED_PRECONDITION||n.message!==XO)throw n;pt("LocalStore","Unexpectedly lost primary lease")}),mM.apply(this,arguments)}class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ue((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ue?t:Ue.resolve(t)}catch(t){return Ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.reject(t)}static resolve(e){return new Ue((t,r)=>{t(e)})}static reject(e){return new Ue((t,r)=>{r(e)})}static waitFor(e){return new Ue((t,r)=>{let i=0,s=0,u=!1;e.forEach(p=>{++i,p.next(()=>{++s,u&&s===i&&t()},y=>r(y))}),u=!0,s===i&&t()})}static or(e){let t=Ue.resolve(!1);for(const r of e)t=t.next(i=>i?Ue.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Ue((r,i)=>{const s=e.length,u=new Array(s);let p=0;for(let y=0;y<s;y++){const w=y;t(e[w]).next(D=>{u[w]=D,++p,p===s&&r(u)},D=>i(D))}})}static doWhile(e,t){return new Ue((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class mD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ys,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Fw(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=gM(r.target.error);this.P.reject(new Fw(e,i))}}static open(e,t,r,i){try{return new mD(t,e.transaction(i,r))}catch(s){throw new Fw(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(pt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new oH(t)}}class nd{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===nd.D((0,Pn.z$)())&&Go("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return pt("SimpleDb","Removing database:",e),a_(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Pn.hl)())return!1;if(nd.N())return!0;const e=(0,Pn.z$)(),t=nd.D(e),r=0<t&&t<10,i=nd.k(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,qe.Z)(function*(){return t.db||(pt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=u=>{r(u.target.result)},s.onblocked=()=>{i(new Fw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const p=u.target.error;i("VersionError"===p.name?new ut(He.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new ut(He.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Fw(e,p))},s.onupgradeneeded=u=>{pt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,s.transaction,u.oldVersion,t.version).next(()=>{pt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,qe.Z)(function*(){const u="readonly"===t;let p=0;for(;;){++p;try{s.db=yield s.F(e);const y=mD.open(s.db,e,u?"readonly":"readwrite",r),w=i(y).next(D=>(y.V(),D)).catch(D=>(y.abort(D),Ue.reject(D))).toPromise();return w.catch(()=>{}),yield y.v,w}catch(y){const w=y,D="FirebaseError"!==w.name&&p<3;if(pt("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),s.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class iH{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return a_(this.q.delete())}}class Fw extends ut{constructor(e,t){super(He.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function om(n){return"IndexedDbTransactionError"===n.name}class oH{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(pt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(pt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),a_(r)}add(e){return pt("SimpleDb","ADD",this.store.name,e,e),a_(this.store.add(e))}get(e){return a_(this.store.get(e)).next(t=>(void 0===t&&(t=null),pt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return pt("SimpleDb","DELETE",this.store.name,e),a_(this.store.delete(e))}count(){return pt("SimpleDb","COUNT",this.store.name),a_(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.H(i,(u,p)=>{s.push(p)}).next(()=>s)}{const i=this.store.getAll(r.range);return new Ue((s,u)=>{i.onerror=p=>{u(p.target.error)},i.onsuccess=p=>{s(p.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ue((i,s)=>{r.onerror=u=>{s(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,t){pt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(s,u,p)=>p.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new Ue((r,i)=>{t.onerror=s=>{const u=gM(s.target.error);i(u)},t.onsuccess=s=>{const u=s.target.result;u?e(u.primaryKey,u.value).next(p=>{p?u.continue():r()}):r()}})}H(e,t){const r=[];return new Ue((i,s)=>{e.onerror=u=>{s(u.target.error)},e.onsuccess=u=>{const p=u.target.result;if(!p)return void i();const y=new iH(p),w=t(p.primaryKey,p.value,y);if(w instanceof Ue){const D=w.catch(P=>(y.done(),Ue.reject(P)));r.push(D)}y.isDone?i():null===y.G?p.continue():p.continue(y.G)}}).next(()=>Ue.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function a_(n){return new Ue((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=gM(r.target.error);t(i)}})}let eP=!1;function gM(n){const e=nd.D((0,Pn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return eP||(eP=!0,setTimeout(()=>{throw r},0)),r}}return n}class sH{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;pt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,qe.Z)(function*(){t.task=null;try{pt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){om(r)?pt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield im(r)}yield t.nt(6e4)}))}}class aH{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,qe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,s=!0;return Ue.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return pt("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(p=>{i-=p,r.add(u)});s=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,s)).next(p=>(pt("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>u.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,s)=>{const u=QO(s);pM(u,r)>0&&(r=u)}),new Il(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Dl=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class cH{constructor(e,t,r,i,s,u,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class sm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sm&&e.projectId===this.projectId&&e.database===this.database}}function tP(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function c_(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Nw(n){return null==n}function Lw(n){return 0===n&&1/n==-1/0}function rP(n){return"number"==typeof n&&Number.isInteger(n)&&!Lw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class vs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vs(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new vs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vs.EMPTY_BYTE_STRING=new vs("");const uH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function am(n){if(Xt(!!n),"string"==typeof n){let e=0;const t=uH.exec(n);if(Xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:To(n.seconds),nanos:To(n.nanos)}}function To(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function l_(n){return"string"==typeof n?vs.fromBase64String(n):vs.fromUint8Array(n)}function _M(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function iP(n){const e=n.mapValue.fields.__previous_value__;return _M(e)?iP(e):e}function Bw(n){const e=am(n.mapValue.fields.__local_write_time__.timestampValue);return new ho(e.seconds,e.nanos)}const cm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gD={nullValue:"NULL_VALUE"};function u_(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_M(n)?4:cP(n)?9007199254740991:10:Ht()}function bh(n,e){if(n===e)return!0;const t=u_(n);if(t!==u_(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bw(n).isEqual(Bw(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=am(r.timestampValue),u=am(i.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,l_(n.bytesValue).isEqual(l_(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return To(r.geoPointValue.latitude)===To(i.geoPointValue.latitude)&&To(r.geoPointValue.longitude)===To(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return To(r.integerValue)===To(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=To(r.doubleValue),u=To(i.doubleValue);return s===u?Lw(s)===Lw(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return db(n.arrayValue.values||[],e.arrayValue.values||[],bh);case 10:return function(r,i){const s=r.mapValue.fields||{},u=i.mapValue.fields||{};if(tP(s)!==tP(u))return!1;for(const p in s)if(s.hasOwnProperty(p)&&(void 0===u[p]||!bh(s[p],u[p])))return!1;return!0}(n,e);default:return Ht()}var i}function Uw(n,e){return void 0!==(n.values||[]).find(t=>bh(t,e))}function lm(n,e){if(n===e)return 0;const t=u_(n),r=u_(e);if(t!==r)return Vn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vn(n.booleanValue,e.booleanValue);case 2:return function(i,s){const u=To(i.integerValue||i.doubleValue),p=To(s.integerValue||s.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1}(n,e);case 3:return oP(n.timestampValue,e.timestampValue);case 4:return oP(Bw(n),Bw(e));case 5:return Vn(n.stringValue,e.stringValue);case 6:return function(i,s){const u=l_(i),p=l_(s);return u.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const u=i.split("/"),p=s.split("/");for(let y=0;y<u.length&&y<p.length;y++){const w=Vn(u[y],p[y]);if(0!==w)return w}return Vn(u.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const u=Vn(To(i.latitude),To(s.latitude));return 0!==u?u:Vn(To(i.longitude),To(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const u=i.values||[],p=s.values||[];for(let y=0;y<u.length&&y<p.length;++y){const w=lm(u[y],p[y]);if(w)return w}return Vn(u.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===cm.mapValue&&s===cm.mapValue)return 0;if(i===cm.mapValue)return 1;if(s===cm.mapValue)return-1;const u=i.fields||{},p=Object.keys(u),y=s.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let D=0;D<p.length&&D<w.length;++D){const P=Vn(p[D],w[D]);if(0!==P)return P;const $=lm(u[p[D]],y[w[D]]);if(0!==$)return $}return Vn(p.length,w.length)}(n.mapValue,e.mapValue);default:throw Ht()}}function oP(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Vn(n,e);const t=am(n),r=am(e),i=Vn(t.seconds,r.seconds);return 0!==i?i:Vn(t.nanos,r.nanos)}function hb(n){return yM(n)}function yM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=am(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?l_(n.bytesValue).toBase64():"referenceValue"in n?Dt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const u of r.values||[])s?s=!1:i+=",",i+=yM(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",u=!0;for(const p of i)u?u=!1:s+=",",s+=`${p}:${yM(r.fields[p])}`;return s+"}"}(n.mapValue):Ht();var e}function d_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vM(n){return!!n&&"integerValue"in n}function Vw(n){return!!n&&"arrayValue"in n}function sP(n){return!!n&&"nullValue"in n}function aP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _D(n){return!!n&&"mapValue"in n}function Hw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return c_(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Hw(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function dH(n){return"nullValue"in n?gD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?d_(sm.empty(),Dt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ht()}function hH(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?d_(sm.empty(),Dt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?cm:Ht()}function lP(n,e){const t=lm(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function uP(n,e){const t=lm(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class um{constructor(e,t){this.position=e,this.inclusive=t}}function dP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],u=n.position[i];if(r=s.field.isKeyField()?Dt.comparator(Dt.fromName(u.referenceValue),t.key):lm(u,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function hP(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bh(n.position[t],e.position[t]))return!1;return!0}class fP{}class cr extends fP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new fH(e,t,r):"array-contains"===t?new gH(e,r):"in"===t?new EP(e,r):"not-in"===t?new _H(e,r):"array-contains-any"===t?new yH(e,r):new cr(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new pH(e,r):new mH(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(lm(t,this.value)):null!==t&&u_(this.value)===u_(t)&&this.matchesComparison(lm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ri extends fP{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new ri(e,t)}matches(e){return fb(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function fb(n){return"and"===n.op}function bM(n){return"or"===n.op}function pP(n){return mP(n)&&fb(n)}function mP(n){for(const e of n.filters)if(e instanceof ri)return!1;return!0}function gP(n){if(n instanceof cr)return n.field.canonicalString()+n.op.toString()+hb(n.value);{const e=n.filters.map(t=>gP(t)).join(",");return`${n.op}(${e})`}}function _P(n,e){return n instanceof cr?(t=n,(r=e)instanceof cr&&t.op===r.op&&t.field.isEqual(r.field)&&bh(t.value,r.value)):n instanceof ri?function(t,r){return r instanceof ri&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,u)=>i&&_P(s,r.filters[u]),!0)}(n,e):void Ht();var t,r}function yP(n,e){const t=n.filters.concat(e);return ri.create(t,n.op)}function vP(n){return n instanceof cr?`${(e=n).field.canonicalString()} ${e.op} ${hb(e.value)}`:n instanceof ri?function(e){return e.op.toString()+" {"+e.getFilters().map(vP).join(" ,")+"}"}(n):"Filter";var e}class fH extends cr{constructor(e,t,r){super(e,t,r),this.key=Dt.fromName(r.referenceValue)}matches(e){const t=Dt.comparator(e.key,this.key);return this.matchesComparison(t)}}class pH extends cr{constructor(e,t){super(e,"in",t),this.keys=bP(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mH extends cr{constructor(e,t){super(e,"not-in",t),this.keys=bP(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bP(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Dt.fromName(r.referenceValue))}class gH extends cr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vw(t)&&Uw(t.arrayValue,this.value)}}class EP extends cr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Uw(this.value.arrayValue,t)}}class _H extends cr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Uw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Uw(this.value.arrayValue,t)}}class yH extends cr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Uw(this.value.arrayValue,r))}}class pb{constructor(e,t="asc"){this.field=e,this.dir=t}}function vH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Ao{constructor(e,t){this.comparator=e,this.root=t||ia.EMPTY}insert(e,t){return new Ao(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ia.BLACK,null,null))}remove(e){return new Ao(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ia.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yD(this.root,e,this.comparator,!1)}getReverseIterator(){return new yD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yD(this.root,e,this.comparator,!0)}}class yD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ia{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ia.RED,this.left=i??ia.EMPTY,this.right=s??ia.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ia(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ia.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ia.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ia.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ia.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ht();const e=this.left.check();if(e!==this.right.check())throw Ht();return e+(this.isRed()?0:1)}}ia.EMPTY=null,ia.RED=!0,ia.BLACK=!1,ia.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht()}get value(){throw Ht()}get color(){throw Ht()}get left(){throw Ht()}get right(){throw Ht()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ia(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class di{constructor(e){this.comparator=e,this.data=new Ao(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wP(this.data.getIterator())}getIteratorFrom(e){return new wP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof di)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new di(this.comparator);return t.data=e,t}}class wP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mb(n){return n.hasNext()?n.getNext():void 0}class Sl{constructor(e){this.fields=e,e.sort(So.comparator)}static empty(){return new Sl([])}unionWith(e){let t=new di(So.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Sl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return db(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class oa{constructor(e){this.value=e}static empty(){return new oa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_D(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hw(t)}setAll(e){let t=So.emptyPath(),r={},i=[];e.forEach((u,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=p.popLast()}u?r[p.lastSegment()]=Hw(u):i.push(p.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());_D(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];_D(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){c_(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new oa(Hw(this.value))}}function xP(n){const e=[];return c_(n.fields,(t,r)=>{const i=new So([t]);if(_D(r)){const s=xP(r.mapValue).fields;if(0===s.length)e.push(i);else for(const u of s)e.push(i.child(u))}else e.push(i)}),new Sl(e)}class $i{constructor(e,t,r,i,s,u,p){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=u,this.documentState=p}static newInvalidDocument(e){return new $i(e,0,rn.min(),rn.min(),rn.min(),oa.empty(),0)}static newFoundDocument(e,t,r,i){return new $i(e,1,t,rn.min(),r,i,0)}static newNoDocument(e,t){return new $i(e,2,t,rn.min(),rn.min(),oa.empty(),0)}static newUnknownDocument(e,t){return new $i(e,3,t,rn.min(),rn.min(),oa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bH{constructor(e,t=null,r=[],i=[],s=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=u,this.endAt=p,this.ft=null}}function EM(n,e=null,t=[],r=[],i=null,s=null,u=null){return new bH(n,e,t,r,i,s,u)}function h_(n){const e=Mt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>gP(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Nw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hb(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hb(r)).join(",")),e.ft=t}return e.ft}function jw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!vH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_P(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hP(n.startAt,e.startAt)&&hP(n.endAt,e.endAt)}function vD(n){return Dt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function bD(n,e){return n.filters.filter(t=>t instanceof cr&&t.field.isEqual(e))}function CP(n,e,t){let r=gD,i=!0;for(const s of bD(n,e)){let u=gD,p=!0;switch(s.op){case"<":case"<=":u=dH(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,p=!1;break;case"!=":case"not-in":u=gD}lP({value:r,inclusive:i},{value:u,inclusive:p})<0&&(r=u,i=p)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];lP({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function IP(n,e,t){let r=cm,i=!0;for(const s of bD(n,e)){let u=cm,p=!0;switch(s.op){case">=":case">":u=hH(s.value),p=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,p=!1;break;case"!=":case"not-in":u=cm}uP({value:r,inclusive:i},{value:u,inclusive:p})>0&&(r=u,i=p)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];uP({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class xf{constructor(e,t=null,r=[],i=[],s=null,u="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=u,this.startAt=p,this.endAt=y,this.dt=null,this._t=null}}function DP(n,e,t,r,i,s,u,p){return new xf(n,e,t,r,i,s,u,p)}function gb(n){return new xf(n)}function SP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ED(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function xM(n){return null!==n.collectionGroup}function f_(n){const e=Mt(n);if(null===e.dt){e.dt=[];const t=ED(e),r=wM(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new pb(t)),e.dt.push(new pb(So.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new pb(So.keyField(),s))}}}return e.dt}function pc(n){const e=Mt(n);if(!e._t)if("F"===e.limitType)e._t=EM(e.path,e.collectionGroup,f_(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of f_(e))t.push(new pb(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new um(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new um(e.startAt.position,e.startAt.inclusive):null;e._t=EM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function CM(n,e){e.getFirstInequalityField(),ED(n);const t=n.filters.concat([e]);return new xf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wD(n,e,t){return new xf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zw(n,e){return jw(pc(n),pc(e))&&n.limitType===e.limitType}function TP(n){return`${h_(pc(n))}|lt:${n.limitType}`}function IM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>vP(r)).join(", ")}]`),Nw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hb(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hb(r)).join(",")),`Target(${t})`}(pc(n))}; limitType=${n.limitType})`}function DM(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Dt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of f_(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,u){const p=dP(i,s,u);return i.inclusive?p<=0:p<0}(t.startAt,f_(t),r)||t.endAt&&!function(i,s,u){const p=dP(i,s,u);return i.inclusive?p>=0:p>0}(t.endAt,f_(t),r)));var t,r}function AP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function MP(n){return(e,t)=>{let r=!1;for(const i of f_(n)){const s=EH(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function EH(n,e,t){const r=n.field.isKeyField()?Dt.comparator(e.key,t.key):function(i,s,u){const p=s.data.field(i),y=u.data.field(i);return null!==p&&null!==y?lm(p,y):Ht()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ht()}}function kP(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lw(e)?"-0":e}}function RP(n){return{integerValue:""+n}}function OP(n,e){return rP(e)?RP(e):kP(n,e)}class xD{constructor(){this._=void 0}}function wH(n,e,t){return n instanceof _b?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof p_?FP(n,e):n instanceof m_?NP(n,e):function(r,i){const s=PP(r,i),u=LP(s)+LP(r.gt);return vM(s)&&vM(r.gt)?RP(u):kP(r.yt,u)}(n,e)}function xH(n,e,t){return n instanceof p_?FP(n,e):n instanceof m_?NP(n,e):t}function PP(n,e){return n instanceof yb?vM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class _b extends xD{}class p_ extends xD{constructor(e){super(),this.elements=e}}function FP(n,e){const t=BP(e);for(const r of n.elements)t.some(i=>bh(i,r))||t.push(r);return{arrayValue:{values:t}}}class m_ extends xD{constructor(e){super(),this.elements=e}}function NP(n,e){let t=BP(e);for(const r of n.elements)t=t.filter(i=>!bh(i,r));return{arrayValue:{values:t}}}class yb extends xD{constructor(e,t){super(),this.yt=e,this.gt=t}}function LP(n){return To(n.integerValue||n.doubleValue)}function BP(n){return Vw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $w{constructor(e,t){this.field=e,this.transform=t}}class IH{constructor(e,t){this.version=e,this.transformResults=t}}class fo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fo}static exists(e){return new fo(void 0,e)}static updateTime(e){return new fo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function CD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ID{}function UP(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new bb(n.key,fo.none()):new vb(n.key,n.data,fo.none());{const t=n.data,r=oa.empty();let i=new di(So.comparator);for(let s of e.fields)if(!i.has(s)){let u=t.field(s);null===u&&s.length>1&&(s=s.popLast(),u=t.field(s)),null===u?r.delete(s):r.set(s,u),i=i.add(s)}return new Cf(n.key,r,new Sl(i.toArray()),fo.none())}}function DH(n,e,t){n instanceof vb?function(r,i,s){const u=r.value.clone(),p=jP(r.fieldTransforms,i,s.transformResults);u.setAll(p),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Cf?function(r,i,s){if(!CD(r.precondition,i))return void i.convertToUnknownDocument(s.version);const u=jP(r.fieldTransforms,i,s.transformResults),p=i.data;p.setAll(HP(r)),p.setAll(u),i.convertToFoundDocument(s.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Gw(n,e,t,r){return n instanceof vb?function(i,s,u,p){if(!CD(i.precondition,s))return u;const y=i.value.clone(),w=zP(i.fieldTransforms,p,s);return y.setAll(w),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Cf?function(i,s,u,p){if(!CD(i.precondition,s))return u;const y=zP(i.fieldTransforms,p,s),w=s.data;return w.setAll(HP(i)),w.setAll(y),s.convertToFoundDocument(s.version,w).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(u=t,CD(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function SH(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=PP(r.transform,i||null);null!=s&&(null===t&&(t=oa.empty()),t.set(r.field,s))}return t||null}function VP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&db(t,r,(i,s)=>function CH(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof p_&&r instanceof p_||t instanceof m_&&r instanceof m_?db(t.elements,r.elements,bh):t instanceof yb&&r instanceof yb?bh(t.gt,r.gt):t instanceof _b&&r instanceof _b);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class vb extends ID{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cf extends ID{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function HP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function jP(n,e,t){const r=new Map;Xt(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],u=s.transform,p=e.data.field(s.field);r.set(s.field,xH(u,p,t[i]))}return r}function zP(n,e,t){const r=new Map;for(const i of n){const s=i.transform,u=t.data.field(i.field);r.set(i.field,wH(s,u,e))}return r}class bb extends ID{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SM extends ID{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TH{constructor(e){this.count=e}}var ss,br;function $P(n){switch(n){default:return Ht();case He.CANCELLED:case He.UNKNOWN:case He.DEADLINE_EXCEEDED:case He.RESOURCE_EXHAUSTED:case He.INTERNAL:case He.UNAVAILABLE:case He.UNAUTHENTICATED:return!1;case He.INVALID_ARGUMENT:case He.NOT_FOUND:case He.ALREADY_EXISTS:case He.PERMISSION_DENIED:case He.FAILED_PRECONDITION:case He.ABORTED:case He.OUT_OF_RANGE:case He.UNIMPLEMENTED:case He.DATA_LOSS:return!0}}function GP(n){if(void 0===n)return Go("GRPC error has no .code"),He.UNKNOWN;switch(n){case ss.OK:return He.OK;case ss.CANCELLED:return He.CANCELLED;case ss.UNKNOWN:return He.UNKNOWN;case ss.DEADLINE_EXCEEDED:return He.DEADLINE_EXCEEDED;case ss.RESOURCE_EXHAUSTED:return He.RESOURCE_EXHAUSTED;case ss.INTERNAL:return He.INTERNAL;case ss.UNAVAILABLE:return He.UNAVAILABLE;case ss.UNAUTHENTICATED:return He.UNAUTHENTICATED;case ss.INVALID_ARGUMENT:return He.INVALID_ARGUMENT;case ss.NOT_FOUND:return He.NOT_FOUND;case ss.ALREADY_EXISTS:return He.ALREADY_EXISTS;case ss.PERMISSION_DENIED:return He.PERMISSION_DENIED;case ss.FAILED_PRECONDITION:return He.FAILED_PRECONDITION;case ss.ABORTED:return He.ABORTED;case ss.OUT_OF_RANGE:return He.OUT_OF_RANGE;case ss.UNIMPLEMENTED:return He.UNIMPLEMENTED;case ss.DATA_LOSS:return He.DATA_LOSS;default:return Ht()}}(br=ss||(ss={}))[br.OK=0]="OK",br[br.CANCELLED=1]="CANCELLED",br[br.UNKNOWN=2]="UNKNOWN",br[br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",br[br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",br[br.NOT_FOUND=5]="NOT_FOUND",br[br.ALREADY_EXISTS=6]="ALREADY_EXISTS",br[br.PERMISSION_DENIED=7]="PERMISSION_DENIED",br[br.UNAUTHENTICATED=16]="UNAUTHENTICATED",br[br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",br[br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",br[br.ABORTED=10]="ABORTED",br[br.OUT_OF_RANGE=11]="OUT_OF_RANGE",br[br.UNIMPLEMENTED=12]="UNIMPLEMENTED",br[br.INTERNAL=13]="INTERNAL",br[br.UNAVAILABLE=14]="UNAVAILABLE",br[br.DATA_LOSS=15]="DATA_LOSS";class dm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){c_(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return nP(this.inner)}size(){return this.innerSize}}const AH=new Ao(Dt.comparator);function ol(){return AH}const WP=new Ao(Dt.comparator);function Ww(...n){let e=WP;for(const t of n)e=e.insert(t.key,t);return e}function qP(n){let e=WP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Eh(){return qw()}function KP(){return qw()}function qw(){return new dm(n=>n.toString(),(n,e)=>n.isEqual(e))}const MH=new Ao(Dt.comparator),kH=new di(Dt.comparator);function Kn(...n){let e=kH;for(const t of n)e=e.add(t);return e}const RH=new di(Vn);function DD(){return RH}class Kw{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Zw.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Kw(rn.min(),i,DD(),ol(),Kn())}}class Zw{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Zw(r,t,Kn(),Kn(),Kn())}}class SD{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class ZP{constructor(e,t){this.targetId=e,this.Et=t}}class YP{constructor(e,t,r=vs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class QP{constructor(){this.At=0,this.Rt=JP(),this.bt=vs.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Kn(),t=Kn(),r=Kn();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ht()}}),new Zw(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=JP()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class OH{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=ol(),this.qt=XP(),this.Ut=new di(Vn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:Ht()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const s=i.target;if(vD(s))if(0===r){const u=new Dt(s.path);this.Qt(t,u,$i.newNoDocument(u,rn.min()))}else Xt(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((s,u)=>{const p=this.Yt(u);if(p){if(s.current&&vD(p.target)){const y=new Dt(p.target.path);null!==this.Lt.get(y)||this.te(u,y)||this.Qt(u,y,$i.newNoDocument(y,e))}s.St&&(t.set(u,s.Ct()),s.xt())}});let r=Kn();this.qt.forEach((s,u)=>{let p=!0;u.forEachWhile(y=>{const w=this.Yt(y);return!w||2===w.purpose||(p=!1,!1)}),p&&(r=r.add(s))}),this.Lt.forEach((s,u)=>u.setReadTime(e));const i=new Kw(e,t,this.Ut,this.Lt,r);return this.Lt=ol(),this.qt=XP(),this.Ut=new di(Vn),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new QP,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new di(Vn),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||pt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new QP),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function XP(){return new Ao(Dt.comparator)}function JP(){return new Ao(Dt.comparator)}const PH={asc:"ASCENDING",desc:"DESCENDING"},FH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NH={and:"AND",or:"OR"};class LH{constructor(e,t){this.databaseId=e,this.wt=t}}function Eb(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eF(n,e){return n.wt?e.toBase64():e.toUint8Array()}function BH(n,e){return Eb(n,e.toTimestamp())}function Wo(n){return Xt(!!n),rn.fromTimestamp(function(e){const t=am(e);return new ho(t.seconds,t.nanos)}(n))}function TM(n,e){return(t=n,new vr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function tF(n){const e=vr.fromString(n);return Xt(uF(e)),e}function Yw(n,e){return TM(n.databaseId,e.path)}function wh(n,e){const t=tF(e);if(t.get(1)!==n.databaseId.projectId)throw new ut(He.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ut(He.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Dt(rF(t))}function AM(n,e){return TM(n.databaseId,e)}function nF(n){const e=tF(n);return 4===e.length?vr.emptyPath():rF(e)}function Qw(n){return new vr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rF(n){return Xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iF(n,e,t){return{name:Yw(n,e),fields:t.value.mapValue.fields}}function oF(n,e,t){const r=wh(n,e.name),i=Wo(e.updateTime),s=e.createTime?Wo(e.createTime):rn.min(),u=new oa({mapValue:{fields:e.fields}}),p=$i.newFoundDocument(r,i,s,u);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function Xw(n,e){let t;if(e instanceof vb)t={update:iF(n,e.key,e.value)};else if(e instanceof bb)t={delete:Yw(n,e.key)};else if(e instanceof Cf)t={update:iF(n,e.key,e.data),updateMask:WH(e.fieldMask)};else{if(!(e instanceof SM))return Ht();t={verify:Yw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const u=s.transform;if(u instanceof _b)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof p_)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof m_)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof yb)return{fieldPath:s.field.canonicalString(),increment:u.gt};throw Ht()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:BH(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Ht()),t;var i}function MM(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?fo.updateTime(Wo(i.updateTime)):void 0!==i.exists?fo.exists(i.exists):fo.none():fo.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,u){let p=null;"setToServerValue"in u?(Xt("REQUEST_TIME"===u.setToServerValue),p=new _b):"appendMissingElements"in u?p=new p_(u.appendMissingElements.values||[]):"removeAllFromArray"in u?p=new m_(u.removeAllFromArray.values||[]):"increment"in u?p=new yb(s,u.increment):Ht();const y=So.fromServerFormat(u.fieldPath);return new $w(y,p)}(n,i)):[];var i;if(e.update){const i=wh(n,e.update.name),s=new oa({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Sl((e.updateMask.fieldPaths||[]).map(w=>So.fromServerFormat(w)));return new Cf(i,s,u,t,r)}return new vb(i,s,t,r)}if(e.delete){const i=wh(n,e.delete);return new bb(i,t)}if(e.verify){const i=wh(n,e.verify);return new SM(i,t)}return Ht()}function sF(n,e){return{documents:[AM(n,e.path)]}}function kM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=AM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=AM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return lF(ri.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(y){if(0!==y.length)return y.map(w=>{return{field:wb((D=w).field),direction:zH(D.dir)};var D})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=(w=e.limit,n.wt||Nw(w)?w:{value:w});var w,p,y;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function aF(n){let e=nF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Xt(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let s=[];t.where&&(s=function(D){const P=cF(D);return P instanceof ri&&pP(P)?P.getFilters():[P]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(D=>{return new pb(xb((P=D).field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let p=null;t.limit&&(p=function(D){let P;return P="object"==typeof D?D.value:D,Nw(P)?null:P}(t.limit));let y=null;var D;t.startAt&&(y=new um((D=t.startAt).values||[],!!D.before));let w=null;return t.endAt&&(w=function(D){return new um(D.values||[],!D.before)}(t.endAt)),DP(e,i,u,s,p,"F",y,w)}function cF(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=xb(e.unaryFilter.field);return cr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=xb(e.unaryFilter.field);return cr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xb(e.unaryFilter.field);return cr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=xb(e.unaryFilter.field);return cr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ht()}}(n):void 0!==n.fieldFilter?cr.create(xb((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ht()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return ri.create(e.compositeFilter.filters.map(t=>cF(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ht()}}(e.compositeFilter.op))}(n):Ht();var e}function zH(n){return PH[n]}function $H(n){return FH[n]}function GH(n){return NH[n]}function wb(n){return{fieldPath:n.canonicalString()}}function xb(n){return So.fromServerFormat(n.fieldPath)}function lF(n){return n instanceof cr?function(e){if("=="===e.op){if(aP(e.value))return{unaryFilter:{field:wb(e.field),op:"IS_NAN"}};if(sP(e.value))return{unaryFilter:{field:wb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(aP(e.value))return{unaryFilter:{field:wb(e.field),op:"IS_NOT_NAN"}};if(sP(e.value))return{unaryFilter:{field:wb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wb(e.field),op:$H(e.op),value:e.value}}}(n):n instanceof ri?function(e){const t=e.getFilters().map(r=>lF(r));return 1===t.length?t[0]:{compositeFilter:{op:GH(e.op),filters:t}}}(n):Ht()}function WH(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function mc(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=dF(e)),e=qH(n.get(t),e);return dF(e)}function qH(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function dF(n){return n+"\x01\x01"}function xh(n){const e=n.length;if(Xt(e>=2),2===e)return Xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),vr.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const u=n.indexOf("\x01",s);switch((u<0||u>t)&&Ht(),n.charAt(u+1)){case"\x01":const p=n.substring(s,u);let y;0===i.length?y=p:(i+=p,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(s,u),i+="\0";break;case"\x11":i+=n.substring(s,u+1);break;default:Ht()}s=u+2}return new vr(r)}const hF=["userId","batchId"];function TD(n,e){return[n,mc(e)]}function fF(n,e,t){return[n,mc(e),t]}const KH={},ZH=["prefixPath","collectionGroup","readTime","documentId"],YH=["prefixPath","collectionGroup","documentId"],QH=["collectionGroup","readTime","prefixPath","documentId"],XH=["canonicalId","targetId"],JH=["targetId","path"],ej=["path","targetId"],tj=["collectionId","parent"],nj=["indexId","uid"],rj=["uid","sequenceNumber"],ij=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oj=["indexId","uid","orderedDocumentKey"],sj=["userId","collectionPath","documentId"],aj=["userId","collectionPath","largestBatchId"],cj=["userId","collectionGroup","largestBatchId"],pF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],lj=[...pF,"documentOverlays"],mF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gF=mF,uj=[...gF,"indexConfiguration","indexState","indexEntries"];class RM extends JO{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Ns(n,e){const t=Mt(n);return nd.M(t.se,e)}class OM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&DH(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gw(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Gw(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=KP();return this.mutations.forEach(i=>{const s=e.get(i.key),u=s.overlayedDocument;let p=this.applyToLocalView(u,s.mutatedFields);p=t.has(i.key)?null:p;const y=UP(u,p);null!==y&&r.set(i.key,y),u.isValidDocument()||u.convertToNoDocument(rn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Kn())}isEqual(e){return this.batchId===e.batchId&&db(this.mutations,e.mutations,(t,r)=>VP(t,r))&&db(this.baseMutations,e.baseMutations,(t,r)=>VP(t,r))}}class PM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Xt(e.mutations.length===r.length);let i=MH;const s=e.mutations;for(let u=0;u<s.length;u++)i=i.insert(s[u].key,r[u].version);return new PM(e,t,r,i)}}class FM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hm{constructor(e,t,r,i,s=rn.min(),u=rn.min(),p=vs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p}withSequenceNumber(e){return new hm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new hm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new hm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class _F{constructor(e){this.ie=e}}function yF(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:AD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Yw(i=n.ie,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Eb(i,s.version.toTimestamp()),createTime:Eb(i,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:g_(e.version)};else{if(!e.isUnknownDocument())return Ht();r.unknownDocument={path:t.path.toArray(),version:g_(e.version)}}var i,s;return r}function AD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function g_(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function __(n){const e=new ho(n.seconds,n.nanoseconds);return rn.fromTimestamp(e)}function y_(n,e){const t=(e.baseMutations||[]).map(s=>MM(n.ie,s));for(let s=0;s<e.mutations.length-1;++s){const u=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(u.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(s=>MM(n.ie,s)),i=ho.fromMillis(e.localWriteTimeMs);return new OM(e.batchId,i,t,r)}function Jw(n){const e=__(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?__(n.lastLimboFreeSnapshotVersion):rn.min();let r;var i;return void 0!==n.query.documents?(Xt(1===(i=n.query).documents.length),r=pc(gb(nF(i.documents[0])))):r=pc(aF(n.query)),new hm(r,n.targetId,0,n.lastListenSequenceNumber,e,t,vs.fromBase64String(n.resumeToken))}function vF(n,e){const t=g_(e.snapshotVersion),r=g_(e.lastLimboFreeSnapshotVersion);let i;i=vD(e.target)?sF(n.ie,e.target):kM(n.ie,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:h_(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function NM(n){const e=aF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wD(e,e.limit,"L"):e}function LM(n,e){return new FM(e.largestBatchId,MM(n.ie,e.overlayMutation))}function bF(n,e){const t=e.path.lastSegment();return[n,mc(e.path.popLast()),t]}function EF(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:g_(r.readTime),documentKey:mc(r.documentKey.path),largestBatchId:r.largestBatchId}}class hj{getBundleMetadata(e,t){return wF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:__(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return wF(e).put({bundleId:(r=t).id,createTime:g_(Wo(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return xF(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:NM(i.bundledQuery),readTime:__(i.readTime)};var i})}saveNamedQuery(e,t){return xF(e).put({name:(r=t).name,readTime:g_(Wo(r.readTime)),bundledQuery:r.bundledQuery});var r}}function wF(n){return Ns(n,"bundles")}function xF(n){return Ns(n,"namedQueries")}class MD{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new MD(e,t.uid||"")}getOverlay(e,t){return ex(e).get(bF(this.userId,t)).next(r=>r?LM(this.yt,r):null)}getOverlays(e,t){const r=Eh();return Ue.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,u)=>{const p=new FM(t,u);i.push(this.oe(e,p))}),Ue.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(mc(u.getCollectionPath())));const s=[];return i.forEach(u=>{const p=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);s.push(ex(e).Y("collectionPathOverlayIndex",p))}),Ue.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Eh(),s=mc(t),u=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ex(e).W("collectionPathOverlayIndex",u).next(p=>{for(const y of p){const w=LM(this.yt,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Eh();let u;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ex(e).Z({index:"collectionGroupOverlayIndex",range:p},(y,w,D)=>{const P=LM(this.yt,w);s.size()<i||P.largestBatchId===u?(s.set(P.getKey(),P),u=P.largestBatchId):D.done()}).next(()=>s)}oe(e,t){return ex(e).put(function(r,i,s){const[u,p,y]=bF(i,s.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Xw(r.ie,s.mutation)}}(this.yt,this.userId,t))}}function ex(n){return Ns(n,"documentOverlays")}class v_{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(To(e.integerValue));else if("doubleValue"in e){const r=To(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),Lw(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(l_(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?cP(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Ht()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),Dt.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function fj(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function CF(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=fj(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}v_.Ie=new v_;class pj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=CF(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=CF(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class mj{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class gj{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class tx{constructor(){this.$e=new pj,this.Be=new mj(this.$e),this.Le=new gj(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class b_{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new b_(this.indexId,this.documentKey,this.arrayValue,r)}}function fm(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=IF(n.arrayValue,e.arrayValue),0!==t?t:(t=IF(n.directionalValue,e.directionalValue),0!==t?t:Dt.comparator(n.documentKey,e.documentKey)))}function IF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class _j{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){Xt(e.collectionGroup===this.collectionId);const t=fM(e);if(void 0!==t&&!this.We(t))return!1;const r=s_(e);let i=0,s=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const u=r[i];if(!this.ze(this.Qe,u)||!this.He(this.Ke[s++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(s>=this.Ke.length||!this.He(this.Ke[s++],u))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function DF(n){var e,t;if(Xt(n instanceof cr||n instanceof ri),n instanceof cr){if(n instanceof EP){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>cr.create(n.field,"==",s)))||[];return ri.create(i,"or")}return n}const r=n.filters.map(i=>DF(i));return ri.create(r,n.op)}function yj(n){if(0===n.getFilters().length)return[];const e=VM(DF(n));return Xt(SF(e)),BM(e)||UM(e)?[e]:e.getFilters()}function BM(n){return n instanceof cr}function UM(n){return n instanceof ri&&pP(n)}function SF(n){return BM(n)||UM(n)||function(e){if(e instanceof ri&&bM(e)){for(const t of e.getFilters())if(!BM(t)&&!UM(t))return!1;return!0}return!1}(n)}function VM(n){if(Xt(n instanceof cr||n instanceof ri),n instanceof cr)return n;if(1===n.filters.length)return VM(n.filters[0]);const e=n.filters.map(r=>VM(r));let t=ri.create(e,n.op);return t=kD(t),SF(t)?t:(Xt(t instanceof ri),Xt(fb(t)),Xt(t.filters.length>1),t.filters.reduce((r,i)=>HM(r,i)))}function HM(n,e){let t;return Xt(n instanceof cr||n instanceof ri),Xt(e instanceof cr||e instanceof ri),t=n instanceof cr?e instanceof cr?ri.create([n,e],"and"):TF(n,e):e instanceof cr?TF(e,n):function(r,i){if(Xt(r.filters.length>0&&i.filters.length>0),fb(r)&&fb(i))return yP(r,i.getFilters());const s=bM(r)?r:i,u=bM(r)?i:r,p=s.filters.map(y=>HM(y,u));return ri.create(p,"or")}(n,e),kD(t)}function TF(n,e){if(fb(e))return yP(e,n.getFilters());{const t=e.filters.map(r=>HM(n,r));return ri.create(t,"or")}}function kD(n){if(Xt(n instanceof cr||n instanceof ri),n instanceof cr)return n;const e=n.getFilters();if(1===e.length)return kD(e[0]);if(mP(n))return n;const t=e.map(i=>kD(i)),r=[];return t.forEach(i=>{i instanceof cr?r.push(i):i instanceof ri&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:ri.create(r,n.op)}class vj{constructor(){this.Je=new jM}addToCollectionParentIndex(e,t){return this.Je.add(t),Ue.resolve()}getCollectionParents(e,t){return Ue.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return Ue.resolve()}deleteFieldIndex(e,t){return Ue.resolve()}getDocumentsMatchingTarget(e,t){return Ue.resolve(null)}getIndexType(e,t){return Ue.resolve(0)}getFieldIndexes(e,t){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,t){return Ue.resolve(Il.min())}getMinOffsetFromCollectionGroup(e,t){return Ue.resolve(Il.min())}updateCollectionGroup(e,t,r){return Ue.resolve()}updateIndexEntries(e,t){return Ue.resolve()}}class jM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new di(vr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new di(vr.comparator)).toArray()}}const RD=new Uint8Array(0);class bj{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new jM,this.Xe=new dm(r=>h_(r),(r,i)=>jw(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const s={collectionId:r,parent:mc(i)};return AF(e).put(s)}return Ue.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[ZO(t),""],!1,!0);return AF(e).W(i).next(s=>{for(const u of s){if(u.collectionId!==t)break;r.push(xh(u.parent))}return r})}addFieldIndex(e,t){const r=OD(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var u;delete i.indexId;const s=r.add(i);if(t.indexState){const u=rx(e);return s.next(p=>{u.put(EF(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=OD(e),i=rx(e),s=nx(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=nx(e);let i=!0;const s=new Map;return Ue.forEach(this.Ze(t),u=>this.tn(e,u).next(p=>{i&&(i=!!p),s.set(u,p)})).next(()=>{if(i){let u=Kn();const p=[];return Ue.forEach(s,(y,w)=>{var D;pt("IndexedDbIndexManager",`Using index ${D=y,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(It=>`${It.fieldPath}:${It.kind}`).join(",")}`} to execute ${h_(t)}`);const P=function(It,xt){const Jt=fM(xt);if(void 0===Jt)return null;for(const nn of bD(It,Jt.fieldPath))switch(nn.op){case"array-contains-any":return nn.value.arrayValue.values||[];case"array-contains":return[nn.value]}return null}(w,y),$=function(It,xt){const Jt=new Map;for(const nn of s_(xt))for(const Xn of bD(It,nn.fieldPath))switch(Xn.op){case"==":case"in":Jt.set(nn.fieldPath.canonicalString(),Xn.value);break;case"not-in":case"!=":return Jt.set(nn.fieldPath.canonicalString(),Xn.value),Array.from(Jt.values())}return null}(w,y),Y=function(It,xt){const Jt=[];let nn=!0;for(const Xn of s_(xt)){const Ko=0===Xn.kind?CP(It,Xn.fieldPath,It.startAt):IP(It,Xn.fieldPath,It.startAt);Jt.push(Ko.value),nn&&(nn=Ko.inclusive)}return new um(Jt,nn)}(w,y),Q=function(It,xt){const Jt=[];let nn=!0;for(const Xn of s_(xt)){const Ko=0===Xn.kind?IP(It,Xn.fieldPath,It.endAt):CP(It,Xn.fieldPath,It.endAt);Jt.push(Ko.value),nn&&(nn=Ko.inclusive)}return new um(Jt,nn)}(w,y),me=this.en(y,w,Y),De=this.en(y,w,Q),dt=this.nn(y,w,$),Et=this.sn(y.indexId,P,me,Y.inclusive,De,Q.inclusive,dt);return Ue.forEach(Et,It=>r.J(It,t.limit).next(xt=>{xt.forEach(Jt=>{const nn=Dt.fromSegments(Jt.documentKey);u.has(nn)||(u=u.add(nn),p.push(nn))})}))}).next(()=>p)}return Ue.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:yj(ri.create(e.filters,"and")).map(r=>EM(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,s,u,p){const y=(null!=t?t.length:1)*Math.max(r.length,s.length),w=y/(null!=t?t.length:1),D=[];for(let P=0;P<y;++P){const $=t?this.rn(t[P/w]):RD,Y=this.on(e,$,r[P%w],i),Q=this.un(e,$,s[P%w],u),me=p.map(De=>this.on(e,$,De,!0));D.push(...this.createRange(Y,Q,me))}return D}on(e,t,r,i){const s=new b_(e,Dt.empty(),t,r);return i?s:s.Ue()}un(e,t,r,i){const s=new b_(e,Dt.empty(),t,r);return i?s.Ue():s}tn(e,t){const r=new _j(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let u=null;for(const p of s)r.je(p)&&(!u||p.fields.length>u.fields.length)&&(u=p);return u})}getIndexType(e,t){let r=2;const i=this.Ze(t);return Ue.forEach(i,s=>this.tn(e,s).next(u=>{u?0!==r&&u.fields.length<function(p){let y=new di(So.comparator),w=!1;for(const D of p.filters)for(const P of D.getFlattenedFilters())P.field.isKeyField()||("array-contains"===P.op||"array-contains-any"===P.op?w=!0:y=y.add(P.field));for(const D of p.orderBy)D.field.isKeyField()||(y=y.add(D.field));return y.size+(w?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new tx;for(const i of s_(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const u=r.qe(i.kind);v_.Ie.ue(s,u)}return r.Fe()}rn(e){const t=new tx;return v_.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new tx;return v_.Ie.ue(d_(this.databaseId,t),r.qe(function(i){const s=s_(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new tx);let s=0;for(const u of s_(e)){const p=r[s++];for(const y of i)if(this.hn(t,u.fieldPath)&&Vw(p))i=this.ln(i,u,p);else{const w=y.qe(u.kind);v_.Ie.ue(p,w)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],s=[];for(const u of r.arrayValue.values||[])for(const p of i){const y=new tx;y.seed(p.Fe()),v_.Ie.ue(u,y.qe(t.kind)),s.push(y)}return s}hn(e,t){return!!e.filters.find(r=>r instanceof cr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=OD(e),i=rx(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const u=[];return Ue.forEach(s,p=>i.get([p.indexId,this.uid]).next(y=>{u.push(function(w,D){const P=D?new Pw(D.sequenceNumber,new Il(__(D.readTime),new Dt(xh(D.documentKey)),D.largestBatchId)):Pw.empty(),$=w.fields.map(([Y,Q])=>new pD(So.fromServerFormat(Y),Q));return new fD(w.indexId,w.collectionGroup,$,P)}(p,y))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Vn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=OD(e),s=rx(e);return this.dn(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>Ue.forEach(p,y=>s.put(EF(y.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return Ue.forEach(t,(i,s)=>{const u=r.get(i.collectionGroup);return(u?Ue.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),Ue.forEach(p,y=>this._n(e,i,y).next(w=>{const D=this.wn(s,y);return w.isEqual(D)?Ue.resolve():this.mn(e,s,y,w,D)}))))})}gn(e,t,r,i){return nx(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return nx(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=nx(e);let s=new di(fm);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(u,p)=>{s=s.add(new b_(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>s)}wn(e,t){let r=new di(fm);const i=this.cn(t,e);if(null==i)return r;const s=fM(t);if(null!=s){const u=e.data.field(s.fieldPath);if(Vw(u))for(const p of u.arrayValue.values||[])r=r.add(new b_(t.indexId,e.key,this.rn(p),i))}else r=r.add(new b_(t.indexId,e.key,RD,i));return r}mn(e,t,r,i,s){pt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(p,y,w,D,P){const $=p.getIterator(),Y=y.getIterator();let Q=mb($),me=mb(Y);for(;Q||me;){let De=!1,dt=!1;if(Q&&me){const Et=w(Q,me);Et<0?dt=!0:Et>0&&(De=!0)}else null!=Q?dt=!0:De=!0;De?(D(me),me=mb(Y)):dt?(P(Q),Q=mb($)):(Q=mb($),me=mb(Y))}}(i,s,fm,p=>{u.push(this.gn(e,t,r,p))},p=>{u.push(this.yn(e,t,r,p))}),Ue.waitFor(u)}dn(e){let t=1;return rx(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,p)=>fm(u,p)).filter((u,p,y)=>!p||0!==fm(u,y[p-1]));const i=[];i.push(e);for(const u of r){const p=fm(u,e),y=fm(u,t);if(0===p)i[0]=e.Ue();else if(p>0&&y<0)i.push(u),i.push(u.Ue());else if(y>0)break}i.push(t);const s=[];for(let u=0;u<i.length;u+=2){if(this.pn(i[u],i[u+1]))return[];s.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,RD,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,RD,[]]))}return s}pn(e,t){return fm(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(MF)}getMinOffset(e,t){return Ue.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||Ht())).next(MF)}}function AF(n){return Ns(n,"collectionParents")}function nx(n){return Ns(n,"indexEntries")}function OD(n){return Ns(n,"indexConfiguration")}function rx(n){return Ns(n,"indexState")}function MF(n){Xt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;pM(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Il(e.readTime,e.documentKey,t)}const kF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class sl{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new sl(e,sl.DEFAULT_COLLECTION_PERCENTILE,sl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function RF(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],u=IDBKeyRange.only(t.batchId);let p=0;const y=r.Z({range:u},(D,P,$)=>(p++,$.delete()));s.push(y.next(()=>{Xt(1===p)}));const w=[];for(const D of t.mutations){const P=fF(e,D.key.path,t.batchId);s.push(i.delete(P)),w.push(D.key)}return Ue.waitFor(s).next(()=>w)}function PD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ht();e=n.noDocument}return JSON.stringify(e).length}sl.DEFAULT_COLLECTION_PERCENTILE=10,sl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sl.DEFAULT=new sl(41943040,sl.DEFAULT_COLLECTION_PERCENTILE,sl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sl.DISABLED=new sl(-1,0,0);class FD{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){Xt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new FD(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pm(e).Z({index:"userMutationsIndex",range:r},(i,s,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Cb(e),u=pm(e);return u.add({}).next(p=>{Xt("number"==typeof p);const y=new OM(p,t,r,i),w=function($,Y,Q){const me=Q.baseMutations.map(dt=>Xw($.ie,dt)),De=Q.mutations.map(dt=>Xw($.ie,dt));return{userId:Y,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:me,mutations:De}}(this.yt,this.userId,y),D=[];let P=new di(($,Y)=>Vn($.canonicalString(),Y.canonicalString()));for(const $ of i){const Y=fF(this.userId,$.key.path,p);P=P.add($.key.path.popLast()),D.push(u.put(w)),D.push(s.put(Y,KH))}return P.forEach($=>{D.push(this.indexManager.addToCollectionParentIndex(e,$))}),e.addOnCommittedListener(()=>{this.In[p]=y.keys()}),Ue.waitFor(D).next(()=>y)})}lookupMutationBatch(e,t){return pm(e).get(t).next(r=>r?(Xt(r.userId===this.userId),y_(this.yt,r)):null)}Tn(e,t){return this.In[t]?Ue.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return pm(e).Z({index:"userMutationsIndex",range:i},(u,p,y)=>{p.userId===this.userId&&(Xt(p.batchId>=r),s=y_(this.yt,p)),y.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return pm(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,s,u)=>{r=s.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pm(e).W("userMutationsIndex",t).next(r=>r.map(i=>y_(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=TD(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Cb(e).Z({range:i},(u,p,y)=>{const[w,D,P]=u,$=xh(D);if(w===this.userId&&t.path.isEqual($))return pm(e).get(P).next(Y=>{if(!Y)throw Ht();Xt(Y.userId===this.userId),s.push(y_(this.yt,Y))});y.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new di(Vn);const i=[];return t.forEach(s=>{const u=TD(this.userId,s.path),p=IDBKeyRange.lowerBound(u),y=Cb(e).Z({range:p},(w,D,P)=>{const[$,Y,Q]=w,me=xh(Y);$===this.userId&&s.path.isEqual(me)?r=r.add(Q):P.done()});i.push(y)}),Ue.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=TD(this.userId,r),u=IDBKeyRange.lowerBound(s);let p=new di(Vn);return Cb(e).Z({range:u},(y,w,D)=>{const[P,$,Y]=y,Q=xh($);P===this.userId&&r.isPrefixOf(Q)?Q.length===i&&(p=p.add(Y)):D.done()}).next(()=>this.En(e,p))}En(e,t){const r=[],i=[];return t.forEach(s=>{i.push(pm(e).get(s).next(u=>{if(null===u)throw Ht();Xt(u.userId===this.userId),r.push(y_(this.yt,u))}))}),Ue.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return RF(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Ue.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Cb(e).Z({range:r},(s,u,p)=>{if(s[0]===this.userId){const y=xh(s[1]);i.push(y)}else p.done()}).next(()=>{Xt(0===i.length)})})}containsKey(e,t){return OF(e,this.userId,t)}Rn(e){return PF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function OF(n,e,t){const r=TD(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let u=!1;return Cb(n).Z({range:s,X:!0},(p,y,w)=>{const[D,P,$]=p;D===e&&P===i&&(u=!0),w.done()}).next(()=>u)}function pm(n){return Ns(n,"mutations")}function Cb(n){return Ns(n,"documentMutations")}function PF(n){return Ns(n,"mutationQueues")}class E_{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new E_(0)}static vn(){return new E_(-1)}}class Ej{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new E_(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>rn.fromTimestamp(new ho(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ib(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Xt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Ib(e).Z((u,p)=>{const y=Jw(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,s.push(this.removeTargetData(e,y)))}).next(()=>Ue.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Ib(e).Z((r,i)=>{const s=Jw(i);t(s)})}Vn(e){return FF(e).get("targetGlobalKey").next(t=>(Xt(null!==t),t))}Sn(e,t){return FF(e).put("targetGlobalKey",t)}Dn(e,t){return Ib(e).put(vF(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=h_(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Ib(e).Z({range:i,index:"queryTargetsIndex"},(u,p,y)=>{const w=Jw(p);jw(t,w.target)&&(s=w,y.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=mm(e);return t.forEach(u=>{const p=mc(u.path);i.push(s.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,u))}),Ue.waitFor(i)}removeMatchingKeys(e,t,r){const i=mm(e);return Ue.forEach(t,s=>{const u=mc(s.path);return Ue.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=mm(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=mm(e);let s=Kn();return i.Z({range:r,X:!0},(u,p,y)=>{const w=xh(u[1]),D=new Dt(w);s=s.add(D)}).next(()=>s)}containsKey(e,t){const r=mc(t.path),i=IDBKeyRange.bound([r],[ZO(r)],!1,!0);let s=0;return mm(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,p],y,w)=>{0!==u&&(s++,w.done())}).next(()=>s>0)}ne(e,t){return Ib(e).get(t).next(r=>r?Jw(r):null)}}function Ib(n){return Ns(n,"targets")}function FF(n){return Ns(n,"targetGlobal")}function mm(n){return Ns(n,"targetDocuments")}function NF([n,e],[t,r]){const i=Vn(n,t);return 0===i?Vn(e,r):i}class wj{constructor(e){this.xn=e,this.buffer=new di(NF),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();NF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;pt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,qe.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){om(r)?pt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield im(r)}yield t.Fn(3e5)}))}}class Cj{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ue.resolve(Dl.at);const r=new wj(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(kF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kF):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,s,u,p,y,w;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),i=this.params.maximumSequenceNumbersToCollect):i=P,u=Date.now(),this.nthSequenceNumber(e,i))).next(P=>(r=P,p=Date.now(),this.removeTargets(e,r,t))).next(P=>(s=P,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(P=>(w=Date.now(),dM()<=ed.in.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${i} in `+(p-u)+`ms\n\tRemoved ${s} targets in `+(y-p)+`ms\n\tRemoved ${P} documents in `+(w-y)+`ms\nTotal Duration: ${w-D}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:P})))}}class Ij{constructor(e,t){this.db=e,this.garbageCollector=new Cj(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return ND(e,r)}removeReference(e,t,r){return ND(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ND(e,t)}Gn(e,t){return function(r,i){let s=!1;return PF(r).tt(u=>OF(r,u,i).next(p=>(p&&(s=!0),Ue.resolve(!p)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Kn(e,(u,p)=>{if(p<=t){const y=this.Gn(e,u).next(w=>{if(!w)return s++,r.getEntry(e,u).next(()=>(r.removeEntry(u,rn.min()),mm(e).delete([0,mc(u.path)])))});i.push(y)}}).next(()=>Ue.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ND(e,t)}Kn(e,t){const r=mm(e);let i,s=Dl.at;return r.Z({index:"documentTargetsIndex"},([u,p],{path:y,sequenceNumber:w})=>{0===u?(s!==Dl.at&&t(new Dt(xh(i)),s),s=w,i=y):s=Dl.at}).next(()=>{s!==Dl.at&&t(new Dt(xh(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ND(n,e){return mm(n).put((r=n.currentSequenceNumber,{targetId:0,path:mc(e.path),sequenceNumber:r}));var r}class LF{constructor(){this.changes=new dm(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$i.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dj{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return w_(e).put(r)}removeEntry(e,t,r){return w_(e).delete(function(i,s){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],AD(s),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=$i.newInvalidDocument(t);return w_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ix(t))},(i,s)=>{r=this.jn(t,s)}).next(()=>r)}Wn(e,t){let r={size:0,document:$i.newInvalidDocument(t)};return w_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ix(t))},(i,s)=>{r={document:this.jn(t,s),size:PD(s)}}).next(()=>r)}getEntries(e,t){let r=ol();return this.zn(e,t,(i,s)=>{const u=this.jn(i,s);r=r.insert(i,u)}).next(()=>r)}Hn(e,t){let r=ol(),i=new Ao(Dt.comparator);return this.zn(e,t,(s,u)=>{const p=this.jn(s,u);r=r.insert(s,p),i=i.insert(s,PD(u))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return Ue.resolve();let i=new di(HF);t.forEach(y=>i=i.add(y));const s=IDBKeyRange.bound(ix(i.first()),ix(i.last())),u=i.getIterator();let p=u.getNext();return w_(e).Z({index:"documentKeyIndex",range:s},(y,w,D)=>{const P=Dt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;p&&HF(p,P)<0;)r(p,null),p=u.getNext();p&&p.isEqual(P)&&(r(p,w),p=u.hasNext()?u.getNext():null),p?D.j(ix(p)):D.done()}).next(()=>{for(;p;)r(p,null),p=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),AD(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return w_(e).W(IDBKeyRange.bound(i,s,!0)).next(u=>{let p=ol();for(const y of u){const w=this.jn(Dt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);p=p.insert(w.key,w)}return p})}getAllFromCollectionGroup(e,t,r,i){let s=ol();const u=VF(t,r),p=VF(t,Il.max());return w_(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,p,!0)},(y,w,D)=>{const P=this.jn(Dt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);s=s.insert(P.key,P),s.size===i&&D.done()}).next(()=>s)}newChangeBuffer(e){return new Sj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return UF(e).get("remoteDocumentGlobalKey").next(t=>(Xt(!!t),t))}Qn(e,t){return UF(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function dj(n,e){let t;if(e.document)t=oF(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Dt.fromSegments(e.noDocument.path),i=__(e.noDocument.readTime);t=$i.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ht();{const r=Dt.fromSegments(e.unknownDocument.path),i=__(e.unknownDocument.version);t=$i.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new ho(r[0],r[1]);return rn.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(rn.min()))return r}return $i.newInvalidDocument(e)}}function BF(n){return new Dj(n)}class Sj extends LF{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new dm(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new di((s,u)=>Vn(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const p=this.Xn.get(s);if(t.push(this.Yn.removeEntry(e,s,p.readTime)),u.isValidDocument()){const y=yF(this.Yn.yt,u);i=i.add(s.path.popLast());const w=PD(y);r+=w-p.size,t.push(this.Yn.addEntry(e,s,y))}else if(r-=p.size,this.trackRemovals){const y=yF(this.Yn.yt,u.convertToNoDocument(rn.min()));t.push(this.Yn.addEntry(e,s,y))}}),i.forEach(s=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Yn.updateMetadata(e,r)),Ue.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((s,u)=>{this.Xn.set(s,{size:u,readTime:r.get(s).readTime})}),r))}}function UF(n){return Ns(n,"remoteDocumentGlobal")}function w_(n){return Ns(n,"remoteDocumentsV14")}function ix(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function VF(n,e){const t=e.documentKey.path.toArray();return[n,AD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function HF(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Vn(t[s],r[s]),i)return i;return i=Vn(t.length,r.length),i||(i=Vn(t[t.length-2],r[r.length-2]),i||Vn(t[t.length-1],r[r.length-1]))}class Tj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Gw(r.mutation,i,Sl.empty(),ho.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Kn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Kn()){const i=Eh();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let u=Ww();return s.forEach((p,y)=>{u=u.insert(p,y.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Eh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Kn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((u,p)=>{t.set(u,p)})})}computeViews(e,t,r,i){let s=ol();const u=qw(),p=qw();return t.forEach((y,w)=>{const D=r.get(w.key);i.has(w.key)&&(void 0===D||D.mutation instanceof Cf)?s=s.insert(w.key,w):void 0!==D&&(u.set(w.key,D.mutation.getFieldMask()),Gw(D.mutation,w,D.mutation.getFieldMask(),ho.now()))}),this.recalculateAndSaveOverlays(e,s).next(y=>(y.forEach((w,D)=>u.set(w,D)),t.forEach((w,D)=>{var P;return p.set(w,new Tj(D,null!==(P=u.get(w))&&void 0!==P?P:null))}),p))}recalculateAndSaveOverlays(e,t){const r=qw();let i=new Ao((u,p)=>u-p),s=Kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const p of u)p.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let D=r.get(y)||Sl.empty();D=p.applyToLocalView(w,D),r.set(y,D);const P=(i.get(p.batchId)||Kn()).add(y);i=i.insert(p.batchId,P)})}).next(()=>{const u=[],p=i.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),w=y.key,D=y.value,P=KP();D.forEach($=>{if(!s.has($)){const Y=UP(t.get($),r.get($));null!==Y&&P.set($,Y),s=s.add($)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,P))}return Ue.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Dt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):xM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const u=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Ue.resolve(Eh());let p=-1,y=s;return u.next(w=>Ue.forEach(w,(D,P)=>(p<P.largestBatchId&&(p=P.largestBatchId),s.get(D)?Ue.resolve():this.remoteDocumentCache.getEntry(e,D).next($=>{y=y.insert(D,$)}))).next(()=>this.populateOverlays(e,w,s)).next(()=>this.computeViews(e,y,w,Kn())).next(D=>({batchId:p,changes:qP(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Dt(t)).next(r=>{let i=Ww();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Ww();return this.indexManager.getCollectionParents(e,i).next(u=>Ue.forEach(u,p=>{const y=(w=t,D=p.child(i),new xf(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((D,P)=>{s=s.insert(D,P)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((p,y)=>{const w=y.getKey();null===i.get(w)&&(i=i.insert(w,$i.newInvalidDocument(w)))});let u=Ww();return i.forEach((p,y)=>{const w=s.get(p);void 0!==w&&Gw(w.mutation,y,Sl.empty(),ho.now()),DM(t,y)&&(u=u.insert(p,y))}),u})}}class Aj{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ue.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Wo(r.createTime)}),Ue.resolve()}getNamedQuery(e,t){return Ue.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:NM(r.bundledQuery),readTime:Wo(r.readTime)}),Ue.resolve();var r}}class Mj{constructor(){this.overlays=new Ao(Dt.comparator),this.es=new Map}getOverlay(e,t){return Ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Eh();return Ue.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.oe(e,t,s)}),Ue.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),Ue.resolve()}getOverlaysForCollection(e,t,r){const i=Eh(),s=t.length+1,u=new Dt(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const y=p.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===s&&y.largestBatchId>r&&i.set(y.getKey(),y)}return Ue.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ao((w,D)=>w-D);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let D=s.get(w.largestBatchId);null===D&&(D=Eh(),s=s.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const p=Eh(),y=s.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,D)=>p.set(w,D)),!(p.size()>=i)););return Ue.resolve(p)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new FM(t,r));let s=this.es.get(t);void 0===s&&(s=Kn(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class zM{constructor(){this.ns=new di(Ls.ss),this.rs=new di(Ls.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ls(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ls(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Dt(new vr([])),r=new Ls(t,e),i=new Ls(t,e+1),s=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),s.push(u.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Dt(new vr([])),r=new Ls(t,e),i=new Ls(t,e+1);let s=Kn();return this.rs.forEachInRange([r,i],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new Ls(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ls{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Dt.comparator(e.key,t.key)||Vn(e._s,t._s)}static os(e,t){return Vn(e._s,t._s)||Dt.comparator(e.key,t.key)}}class kj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new di(Ls.ss)}checkEmpty(e){return Ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const u=new OM(s,t,r,i);this.mutationQueue.push(u);for(const p of i)this.gs=this.gs.add(new Ls(p.key,s)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Ue.resolve(u)}lookupMutationBatch(e,t){return Ue.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return Ue.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ls(t,0),i=new Ls(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],u=>{const p=this.ys(u._s);s.push(p)}),Ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new di(Vn);return t.forEach(i=>{const s=new Ls(i,0),u=new Ls(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,u],p=>{r=r.add(p._s)})}),Ue.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Dt.isDocumentKey(s)||(s=s.child(""));const u=new Ls(new Dt(s),0);let p=new di(Vn);return this.gs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(p=p.add(y._s)),!0)},u),Ue.resolve(this.Is(p))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Xt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Ue.forEach(t.mutations,i=>{const s=new Ls(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ls(t,0),i=this.gs.firstAfterOrEqual(r);return Ue.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Ue.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Rj{constructor(e){this.Es=e,this.docs=new Ao(Dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ue.resolve(r?r.document.mutableCopy():$i.newInvalidDocument(t))}getEntries(e,t){let r=ol();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$i.newInvalidDocument(i))}),Ue.resolve(r)}getAllFromCollection(e,t,r){let i=ol();const s=new Dt(t.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:p,value:{document:y}}=u.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||pM(QO(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return Ue.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Ht()}As(e,t){return Ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Oj(this)}getSize(e){return Ue.resolve(this.size)}}class Oj extends LF{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),Ue.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Pj{constructor(e){this.persistence=e,this.Rs=new dm(t=>h_(t),jw),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new zM,this.targetCount=0,this.vs=E_.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Ue.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new E_(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ue.resolve()}updateTargetData(e,t){return this.Dn(t),Ue.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((u,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Rs.delete(u),s.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),Ue.waitFor(s).next(()=>i)}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Ue.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Ue.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(u=>{s.push(i.markPotentiallyOrphaned(e,u))}),Ue.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Ue.resolve(r)}containsKey(e,t){return Ue.resolve(this.Ps.containsKey(t))}}class zF{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Dl(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Pj(this),this.indexManager=new vj,this.remoteDocumentCache=new Rj(r=>this.referenceDelegate.xs(r)),this.yt=new _F(t),this.Ns=new Aj(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new kj(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){pt("MemoryPersistence","Starting transaction:",e);const i=new Fj(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return Ue.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Fj extends JO{constructor(e){super(),this.currentSequenceNumber=e}}class LD{constructor(e){this.persistence=e,this.Fs=new zM,this.$s=null}static Bs(e){return new LD(e)}get Ls(){if(this.$s)return this.$s;throw Ht()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Ue.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ue.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.Ls,r=>{const i=Dt.fromPath(r);return this.qs(e,i).next(s=>{s||t.removeEntry(i,rn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return Ue.or([()=>Ue.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Nj{constructor(e){this.yt=e}$(e,t,r,i){const s=new mD("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hF,{unique:!0}),p.createObjectStore("documentMutations"),$F(e),function(p){p.createObjectStore("remoteDocuments")}(e));let u=Ue.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),$F(e)),u=u.next(()=>function(p){const y=p.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rn.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(s))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(p,y){return y.store("mutations").W().next(w=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hF,{unique:!0});const D=y.store("mutations"),P=w.map($=>D.put($));return Ue.waitFor(P)})}(e,s))),u=u.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Us(s))),r<6&&i>=6&&(u=u.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(s))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,s))),r<9&&i>=9&&(u=u.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(s))),r<11&&i>=11&&(u=u.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:sj});y.createIndex("collectionPathOverlayIndex",aj,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",cj,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:ZH});y.createIndex("documentKeyIndex",YH),y.createIndex("collectionGroupIndex",QH)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,s))),r<15&&i>=15&&(u=u.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:nj}).createIndex("sequenceNumberIndex",rj,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:ij}).createIndex("documentKeyIndex",oj,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=PD(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>Ue.forEach(i,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(p=>Ue.forEach(p,y=>{Xt(y.userId===s.userId);const w=y_(this.yt,y);return RF(e,s.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((u,p)=>{const y=new vr(u),w=[0,mc(y)];s.push(t.get(w).next(D=>D?Ue.resolve():t.put({targetId:0,path:mc(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Ue.waitFor(s))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:tj});const r=t.store("collectionParents"),i=new jM,s=u=>{if(i.add(u)){const p=u.lastSegment(),y=u.popLast();return r.put({collectionId:p,parent:mc(y)})}};return t.store("remoteDocuments").Z({X:!0},(u,p)=>{const y=new vr(u);return s(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,p,y],w)=>{const D=xh(p);return s(D.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const s=Jw(i),u=vF(this.yt,s);return t.put(u)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((s,u)=>{const p=t.store("remoteDocumentsV14"),y=(w=u,w.document?new Dt(vr.fromString(w.document.name).popFirst(5)):w.noDocument?Dt.fromSegments(w.noDocument.path):w.unknownDocument?Dt.fromSegments(w.unknownDocument.path):Ht()).path.toArray();var w;const D={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(p.put(D))}).next(()=>Ue.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=BF(this.yt),s=new zF(LD.Bs,this.yt.ie);return r.W().next(u=>{const p=new Map;return u.forEach(y=>{var w;let D=null!==(w=p.get(y.userId))&&void 0!==w?w:Kn();y_(this.yt,y).keys().forEach(P=>D=D.add(P)),p.set(y.userId,D)}),Ue.forEach(p,(y,w)=>{const D=new Fs(w),P=MD.re(this.yt,D),$=s.getIndexManager(D),Y=FD.re(D,this.yt,$,s.referenceDelegate);return new jF(i,Y,P,$).recalculateAndSaveOverlaysForDocumentKeys(new RM(t,Dl.at),y).next()})})}}function $F(n){n.createObjectStore("targetDocuments",{keyPath:JH}).createIndex("documentTargetsIndex",ej,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",XH,{unique:!0}),n.createObjectStore("targetGlobal")}const $M="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class GM{constructor(e,t,r,i,s,u,p,y,w,D,P=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=s,this.window=u,this.document=p,this.Js=w,this.Ys=D,this.Xs=P,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=$=>Promise.resolve(),!GM.C())throw new ut(He.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ij(this,i),this.ii=t+"main",this.yt=new _F(y),this.ri=new nd(this.ii,this.Xs,new Nj(this.yt)),this.Cs=new Ej(this.referenceDelegate,this.yt),this.remoteDocumentCache=BF(this.yt),this.Ns=new hj,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===D&&Go("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ut(He.FAILED_PRECONDITION,$M);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Dl(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,qe.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,qe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,qe.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>BD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(om(e))return pt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return ox(e).get("owner").next(t=>Ue.resolve(this.mi(t)))}gi(e){return BD(e).delete(this.clientId)}yi(){var e=this;return(0,qe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ns(r,"clientMetadata");return i.W().next(s=>{const u=e.Ii(s,18e5),p=s.filter(y=>-1===u.indexOf(y));return Ue.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ue.resolve(!0):ox(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new ut(He.FAILED_PRECONDITION,$M);return!1}}return!(!this.networkEnabled||!this.inForeground)||BD(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&pt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,qe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new RM(t,Dl.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>BD(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return FD.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new bj(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return MD.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){pt("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(u=this.Xs)?uj:14===u?gF:13===u?mF:12===u?lj:11===u?pF:void Ht();var u;let p;return this.ri.runTransaction(e,i,s,y=>(p=new RM(y,this.Ss?this.Ss.next():Dl.at),"readwrite-primary"===t?this.fi(p).next(w=>!!w||this.di(p)).next(w=>{if(!w)throw Go(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ut(He.FAILED_PRECONDITION,XO);return r(p)}).next(w=>this.wi(p).next(()=>w)):this.Vi(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Vi(e){return ox(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ut(He.FAILED_PRECONDITION,$M)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ox(e).put("owner",t)}static C(){return nd.C()}_i(e){const t=ox(e);return t.get("owner").next(r=>this.mi(r)?(pt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ue.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Go(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Pn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return pt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Go("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Go("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ox(n){return Ns(n,"owner")}function BD(n){return Ns(n,"clientMetadata")}function WM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class qM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Kn(),i=Kn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qM(e,t.fromCache,r,i)}}class GF{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(SP(t))return Ue.resolve(null);let r=pc(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=wD(t,null,"F"),r=pc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const u=Kn(...s);return this.Ni.getDocuments(e,u).next(p=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.Fi(t,p);return this.$i(t,w,u,y.readTime)?this.ki(e,wD(t,null,"F")):this.Bi(e,w,t,y)}))})))}Oi(e,t,r,i){return SP(t)||i.isEqual(rn.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const u=this.Fi(t,s);return this.$i(t,u,r,i)?this.Mi(e,t):(dM()<=ed.in.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),IM(t)),this.Bi(e,u,t,YO(i,-1)))})}Fi(e,t){let r=new di(MP(e));return t.forEach((i,s)=>{DM(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return dM()<=ed.in.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",IM(t)),this.Ni.getDocumentsMatchingQuery(e,t,Il.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class Lj{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new Ao(Vn),this.Ui=new dm(s=>h_(s),jw),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jF(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function WF(n,e,t,r){return new Lj(n,e,t,r)}function qF(n,e){return KM.apply(this,arguments)}function KM(){return KM=(0,qe.Z)(function*(n,e){const t=Mt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const u=[],p=[];let y=Kn();for(const w of i){u.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}for(const w of s){p.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}return t.localDocuments.getDocuments(r,y).next(w=>({ji:w,removedBatchIds:u,addedBatchIds:p}))})})}),KM.apply(this,arguments)}function Bj(n,e){const t=Mt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,p,y,w){const D=y.batch,P=D.keys();let $=Ue.resolve();return P.forEach(Y=>{$=$.next(()=>w.getEntry(p,Y)).next(Q=>{const me=y.docVersions.get(Y);Xt(null!==me),Q.version.compareTo(me)<0&&(D.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),w.addEntry(Q)))})}),$.next(()=>u.mutationQueue.removeMutationBatch(p,D))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let p=Kn();for(let y=0;y<u.mutationResults.length;++y)u.mutationResults[y].transformResults.length>0&&(p=p.add(u.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function KF(n){const e=Mt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Uj(n,e){const t=Mt(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const p=[];e.targetChanges.forEach((D,P)=>{const $=i.get(P);if(!$)return;p.push(t.Cs.removeMatchingKeys(s,D.removedDocuments,P).next(()=>t.Cs.addMatchingKeys(s,D.addedDocuments,P)));let Y=$.withSequenceNumber(s.currentSequenceNumber);var Q,me,De;e.targetMismatches.has(P)?Y=Y.withResumeToken(vs.EMPTY_BYTE_STRING,rn.min()).withLastLimboFreeSnapshotVersion(rn.min()):D.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(D.resumeToken,r)),i=i.insert(P,Y),me=Y,De=D,(0===(Q=$).resumeToken.approximateByteSize()||me.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&p.push(t.Cs.updateTargetData(s,Y))});let y=ol(),w=Kn();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(s,D))}),p.push(ZF(s,u,e.documentUpdates).next(D=>{y=D.Wi,w=D.zi})),!r.isEqual(rn.min())){const D=t.Cs.getLastRemoteSnapshotVersion(s).next(P=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));p.push(D)}return Ue.waitFor(p).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,y,w)).next(()=>y)}).then(s=>(t.qi=i,s))}function ZF(n,e,t){let r=Kn(),i=Kn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let u=ol();return t.forEach((p,y)=>{const w=s.get(p);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(p)),y.isNoDocument()&&y.version.isEqual(rn.min())?(e.removeEntry(p,y.readTime),u=u.insert(p,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),u=u.insert(p,y)):pt("LocalStore","Ignoring outdated watch update for ",p,". Current version:",w.version," Watch version:",y.version)}),{Wi:u,zi:i}})}function Vj(n,e){const t=Mt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Db(n,e){const t=Mt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,Ue.resolve(i)):t.Cs.allocateTargetId(r).next(u=>(i=new hm(e,u,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function Sb(n,e,t){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,qe.Z)(function*(n,e,t){const r=Mt(n),i=r.qi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!om(u))throw u;pt("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),ZM.apply(this,arguments)}function UD(n,e,t){const r=Mt(n);let i=rn.min(),s=Kn();return r.persistence.runTransaction("Execute query","readonly",u=>function(p,y,w){const D=Mt(p),P=D.Ui.get(w);return void 0!==P?Ue.resolve(D.qi.get(P)):D.Cs.getTargetData(y,w)}(r,u,pc(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,p.targetId).next(y=>{s=y})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,t?i:rn.min(),t?s:Kn())).next(p=>(XF(r,AP(e),p),{documents:p,Hi:s})))}function YF(n,e){const t=Mt(n),r=Mt(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.ne(s,e).next(u=>u?u.target:null))}function QF(n,e){const t=Mt(n),r=t.Ki.get(e)||rn.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,YO(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(XF(t,e,i),i))}function XF(n,e,t){let r=n.Ki.get(e)||rn.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}function YM(){return YM=(0,qe.Z)(function*(n,e,t,r){const i=Mt(n);let s=Kn(),u=ol();for(const w of t){const D=e.Ji(w.metadata.name);w.document&&(s=s.add(D));const P=e.Yi(w);P.setReadTime(e.Xi(w.metadata.readTime)),u=u.insert(D,P)}const p=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield Db(i,(w=r,pc(gb(vr.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>ZF(w,p,u).next(D=>(p.apply(w),D)).next(D=>i.Cs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Cs.addMatchingKeys(w,s,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,D.Wi,D.zi)).next(()=>D.Wi)))}),YM.apply(this,arguments)}function jj(n,e){return QM.apply(this,arguments)}function QM(){return QM=(0,qe.Z)(function*(n,e,t=Kn()){const r=yield Db(n,pc(NM(e.bundledQuery))),i=Mt(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const u=Wo(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(s,e);const p=r.withResumeToken(vs.EMPTY_BYTE_STRING,u);return i.qi=i.qi.insert(p.targetId,p),i.Cs.updateTargetData(s,p).next(()=>i.Cs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Cs.addMatchingKeys(s,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(s,e))})}),QM.apply(this,arguments)}function JF(n,e){return`firestore_clients_${n}_${e}`}function eN(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function XM(n,e){return`firestore_targets_${n}_${e}`}class VD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let s,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(s=new ut(i.error.code,i.error.message))),u?new VD(e,t,i.state,s):(Go("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sx{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ut(r.error.code,r.error.message))),s?new sx(e,r.state,i):(Go("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class HD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=DD();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=rP(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return i?new HD(e,s):(Go("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class JM{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new JM(t.clientId,t.onlineState):(Go("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ek{constructor(){this.activeTargetIds=DD()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tk{constructor(e,t,r,i,s){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ao(Vn),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=JF(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new ek),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,qe.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const s=e.getItem(JF(e.persistenceKey,i));if(s){const u=HD.Zi(i,s);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(XM(this.persistenceKey,e));if(r){const i=sx.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(XM(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pt("SharedClientState","READ",e,t),t}setItem(e,t){pt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){pt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(pt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Go("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,qe.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(s){let u=Dl.at;if(null!=s)try{const p=JSON.parse(s);Xt("number"==typeof p),u=p}catch(p){Go("SharedClientState","Failed to read sequence number from WebStorage",p)}return u}(r.newValue);i!==Dl.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Mr(s)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new VD(this.currentUser,e,t,r),s=eN(this.persistenceKey,this.currentUser,e);this.setItem(s,i.tr())}Er(e){const t=eN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=XM(this.persistenceKey,e),s=new sx(e,t,r);this.setItem(i,s.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return HD.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return VD.Zi(new Fs(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return sx.Zi(i,t)}yr(e){return JM.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,qe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);pt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),s=this.Ir(r),u=[],p=[];return s.forEach(y=>{i.has(y)||u.push(y)}),i.forEach(y=>{s.has(y)||p.push(y)}),this.syncEngine.Br(u,p).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=DD();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class tN{constructor(){this.Lr=new ek,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new ek,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zj{Ur(e){}shutdown(){}}class nN{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const $j={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gj{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Wj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const u=this.ho(e,t);pt("RestConnection","Sending: ",u,r);const p={};return this.lo(p,i,s),this.fo(e,u,p,r).then(y=>(pt("RestConnection","Received: ",y),y),y=>{throw o_("RestConnection",`${e} failed with error: `,y,"url: ",u,"request:",r),y})}_o(e,t,r,i,s,u){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ub,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${$j[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,u)=>{const p=new GV;p.setWithCredentials(!0),p.listenOnce(zO.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case zi.NO_ERROR:const w=p.getResponseJson();pt("Connection","XHR received:",JSON.stringify(w)),s(w);break;case zi.TIMEOUT:pt("Connection",'RPC "'+e+'" timed out'),u(new ut(He.DEADLINE_EXCEEDED,"Request time out"));break;case zi.HTTP_ERROR:const D=p.getStatus();if(pt("Connection",'RPC "'+e+'" failed with status:',D,"response text:",p.getResponseText()),D>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const $=P?.error;if($&&$.status&&$.message){const Y=function(Q){const me=Q.toLowerCase().replace(/_/g,"-");return Object.values(He).indexOf(me)>=0?me:He.UNKNOWN}($.status);u(new ut(Y,$.message))}else u(new ut(He.UNKNOWN,"Server responded with status "+p.getStatus()))}else u(new ut(He.UNAVAILABLE,"Connection failed."));break;default:Ht()}}finally{pt("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);p.send(t,"POST",y,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kn(),u=Si(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new $V({})),this.lo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const y=i.join("");pt("Connection","Creating WebChannel: "+y,p);const w=s.createWebChannel(y,p);let D=!1,P=!1;const $=new Gj({Hr:Q=>{P?pt("Connection","Not sending because WebChannel is closed:",Q):(D||(pt("Connection","Opening WebChannel transport."),w.open(),D=!0),pt("Connection","WebChannel sending:",Q),w.send(Q))},Jr:()=>w.close()}),Y=(Q,me,De)=>{Q.listen(me,dt=>{try{De(dt)}catch(Et){setTimeout(()=>{throw Et},0)}})};return Y(w,hD.EventType.OPEN,()=>{P||pt("Connection","WebChannel transport opened.")}),Y(w,hD.EventType.CLOSE,()=>{P||(P=!0,pt("Connection","WebChannel transport closed"),$.io())}),Y(w,hD.EventType.ERROR,Q=>{P||(P=!0,o_("Connection","WebChannel transport errored:",Q),$.io(new ut(He.UNAVAILABLE,"The operation could not be completed")))}),Y(w,hD.EventType.MESSAGE,Q=>{var me;if(!P){const De=Q.data[0];Xt(!!De);const dt=De,Et=dt.error||(null===(me=dt[0])||void 0===me?void 0:me.error);if(Et){pt("Connection","WebChannel received error:",Et);const It=Et.status;let xt=function(nn){const Xn=ss[nn];if(void 0!==Xn)return GP(Xn)}(It),Jt=Et.message;void 0===xt&&(xt=He.INTERNAL,Jt="Unknown error status: "+It+" with message "+Et.message),P=!0,$.io(new ut(xt,Jt)),w.close()}else pt("Connection","WebChannel received:",De),$.ro(De)}}),Y(u,zV.STAT_EVENT,Q=>{Q.stat===$O.PROXY?pt("Connection","Detected buffering proxy"):Q.stat===$O.NOPROXY&&pt("Connection","Detected no buffering proxy")}),setTimeout(()=>{$.so()},0),$}}function rN(){return typeof window<"u"?window:null}function jD(){return typeof document<"u"?document:null}function ax(n){return new LH(n,!0)}class nk{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&pt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class iN{constructor(e,t,r,i,s,u,p,y){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new nk(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,qe.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,qe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,qe.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===He.RESOURCE_EXHAUSTED?(Go(t.toString()),Go("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===He.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new ut(He.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,qe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return pt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qj extends iN{constructor(e,t,r,i,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.yt=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function VH(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Ht(),i=e.targetChange.targetIds||[],s=function(y,w){return y.wt?(Xt(void 0===w||"string"==typeof w),vs.fromBase64String(w||"")):(Xt(void 0===w||w instanceof Uint8Array),vs.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&function(y){const w=void 0===y.code?He.UNKNOWN:GP(y.code);return new ut(w,y.message||"")}(u);t=new YP(r,i,s,p||null)}else if("documentChange"in e){const r=e.documentChange,i=wh(n,r.document.name),s=Wo(r.document.updateTime),u=r.document.createTime?Wo(r.document.createTime):rn.min(),p=new oa({mapValue:{fields:r.document.fields}}),y=$i.newFoundDocument(i,s,u,p);t=new SD(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=wh(n,r.document),s=r.readTime?Wo(r.readTime):rn.min(),u=$i.newNoDocument(i,s);t=new SD([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=wh(n,r.document);t=new SD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ht();{const r=e.filter,s=new TH(r.count||0);t=new ZP(r.targetId,s)}}var y;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return rn.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?rn.min():s.readTime?Wo(s.readTime):rn.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Qw(this.yt),t.addTarget=function(i,s){let u;const p=s.target;return u=vD(p)?{documents:sF(i,p)}:{query:kM(i,p)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=eF(i,s.resumeToken):s.snapshotVersion.compareTo(rn.min())>0&&(u.readTime=Eb(i,s.snapshotVersion.toTimestamp())),u}(this.yt,e);const r=function jH(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ht()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Qw(this.yt),t.removeTarget=e,this.Bo(t)}}class Kj extends iN{constructor(e,t,r,i,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function HH(n,e){return n&&n.length>0?(Xt(void 0!==e),n.map(t=>function(r,i){let s=Wo(r.updateTime?r.updateTime:i);return s.isEqual(rn.min())&&(s=Wo(i)),new IH(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Wo(e.commitTime);return this.listener.Zo(r,t)}return Xt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Qw(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Xw(this.yt,r))};this.Bo(t)}}class Zj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new ut(He.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ut(He.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection._o(e,t,r,s,u,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ut(He.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class Qj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Go(t),this.ou=!1):pt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Xj{constructor(e,t,r,i,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(p=>{r.enqueueAndForget((0,qe.Z)(function*(){var y;If(u)&&(pt("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,qe.Z)(function*(w){const D=Mt(w);D._u.add(4),yield Tb(D),D.gu.set("Unknown"),D._u.delete(4),yield cx(D)}),function(w){return y.apply(this,arguments)})(u))}))}),this.gu=new Qj(r,i)}}function cx(n){return ik.apply(this,arguments)}function ik(){return ik=(0,qe.Z)(function*(n){if(If(n))for(const e of n.wu)yield e(!0)}),ik.apply(this,arguments)}function Tb(n){return ok.apply(this,arguments)}function ok(){return ok=(0,qe.Z)(function*(n){for(const e of n.wu)yield e(!1)}),ok.apply(this,arguments)}function zD(n,e){const t=Mt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),ck(t)?ak(t):Mb(t).ko()&&sk(t,e))}function lx(n,e){const t=Mt(n),r=Mb(t);t.du.delete(e),r.ko()&&oN(t,e),0===t.du.size&&(r.ko()?r.Fo():If(t)&&t.gu.set("Unknown"))}function sk(n,e){n.yu.Ot(e.targetId),Mb(n).zo(e)}function oN(n,e){n.yu.Ot(e),Mb(n).Ho(e)}function ak(n){n.yu=new OH({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Mb(n).start(),n.gu.uu()}function ck(n){return If(n)&&!Mb(n).No()&&n.du.size>0}function If(n){return 0===Mt(n)._u.size}function sN(n){n.yu=void 0}function Jj(n){return lk.apply(this,arguments)}function lk(){return lk=(0,qe.Z)(function*(n){n.du.forEach((e,t)=>{sk(n,e)})}),lk.apply(this,arguments)}function ez(n,e){return uk.apply(this,arguments)}function uk(){return uk=(0,qe.Z)(function*(n,e){sN(n),ck(n)?(n.gu.hu(e),ak(n)):n.gu.set("Unknown")}),uk.apply(this,arguments)}function tz(n,e,t){return dk.apply(this,arguments)}function dk(){return dk=(0,qe.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof YP&&2===e.state&&e.cause)try{yield(r=(0,qe.Z)(function*(i,s){const u=s.cause;for(const p of s.targetIds)i.du.has(p)&&(yield i.remoteSyncer.rejectListen(p,u),i.du.delete(p),i.yu.removeTarget(p))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){pt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $D(n,r)}else if(e instanceof SD?n.yu.Kt(e):e instanceof ZP?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(rn.min()))try{const r=yield KF(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const u=i.yu.Zt(s);return u.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=i.du.get(y);w&&i.du.set(y,w.withResumeToken(p.resumeToken,s))}}),u.targetMismatches.forEach(p=>{const y=i.du.get(p);if(!y)return;i.du.set(p,y.withResumeToken(vs.EMPTY_BYTE_STRING,y.snapshotVersion)),oN(i,p);const w=new hm(y.target,p,1,y.sequenceNumber);sk(i,w)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){pt("RemoteStore","Failed to raise snapshot:",r),yield $D(n,r)}var r}),dk.apply(this,arguments)}function $D(n,e,t){return hk.apply(this,arguments)}function hk(){return hk=(0,qe.Z)(function*(n,e,t){if(!om(e))throw e;n._u.add(1),yield Tb(n),n.gu.set("Offline"),t||(t=()=>KF(n.localStore)),n.asyncQueue.enqueueRetryable((0,qe.Z)(function*(){pt("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield cx(n)}))}),hk.apply(this,arguments)}function aN(n,e){return e().catch(t=>$D(n,t,e))}function Ab(n){return fk.apply(this,arguments)}function fk(){return fk=(0,qe.Z)(function*(n){const e=Mt(n),t=gm(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;nz(e);)try{const i=yield Vj(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,rz(e,i)}catch(i){yield $D(e,i)}cN(e)&&lN(e)}),fk.apply(this,arguments)}function nz(n){return If(n)&&n.fu.length<10}function rz(n,e){n.fu.push(e);const t=gm(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function cN(n){return If(n)&&!gm(n).No()&&n.fu.length>0}function lN(n){gm(n).start()}function iz(n){return pk.apply(this,arguments)}function pk(){return pk=(0,qe.Z)(function*(n){gm(n).eu()}),pk.apply(this,arguments)}function oz(n){return mk.apply(this,arguments)}function mk(){return mk=(0,qe.Z)(function*(n){const e=gm(n);for(const t of n.fu)e.Xo(t.mutations)}),mk.apply(this,arguments)}function sz(n,e,t){return gk.apply(this,arguments)}function gk(){return gk=(0,qe.Z)(function*(n,e,t){const r=n.fu.shift(),i=PM.from(r,e,t);yield aN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ab(n)}),gk.apply(this,arguments)}function az(n,e){return _k.apply(this,arguments)}function _k(){return _k=(0,qe.Z)(function*(n,e){var t;e&&gm(n).Yo&&(yield(t=(0,qe.Z)(function*(r,i){if($P(s=i.code)&&s!==He.ABORTED){const u=r.fu.shift();gm(r).Mo(),yield aN(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Ab(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),cN(n)&&lN(n)}),_k.apply(this,arguments)}function uN(n,e){return yk.apply(this,arguments)}function yk(){return yk=(0,qe.Z)(function*(n,e){const t=Mt(n);t.asyncQueue.verifyOperationInProgress(),pt("RemoteStore","RemoteStore received new credentials");const r=If(t);t._u.add(3),yield Tb(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield cx(t)}),yk.apply(this,arguments)}function vk(n,e){return bk.apply(this,arguments)}function bk(){return bk=(0,qe.Z)(function*(n,e){const t=Mt(n);e?(t._u.delete(2),yield cx(t)):e||(t._u.add(2),yield Tb(t),t.gu.set("Unknown"))}),bk.apply(this,arguments)}function Mb(n){return n.pu||(n.pu=function(e,t,r){const i=Mt(e);return i.su(),new qj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Jj.bind(null,n),Zr:ez.bind(null,n),Wo:tz.bind(null,n)}),n.wu.push(function(){var e=(0,qe.Z)(function*(t){t?(n.pu.Mo(),ck(n)?ak(n):n.gu.set("Unknown")):(yield n.pu.stop(),sN(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function gm(n){return n.Iu||(n.Iu=function(e,t,r){const i=Mt(e);return i.su(),new Kj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:iz.bind(null,n),Zr:az.bind(null,n),tu:oz.bind(null,n),Zo:sz.bind(null,n)}),n.wu.push(function(){var e=(0,qe.Z)(function*(t){t?(n.Iu.Mo(),yield Ab(n)):(yield n.Iu.stop(),n.fu.length>0&&(pt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Ek{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,s){const u=Date.now()+r,p=new Ek(e,t,u,i,s);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ut(He.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kb(n,e){if(Go("AsyncQueue",`${e}: ${n}`),om(n))return new ut(He.UNAVAILABLE,`${e}: ${n}`);throw n}class Rb{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Dt.comparator(t.key,r.key):(t,r)=>Dt.comparator(t.key,r.key),this.keyedMap=Ww(),this.sortedSet=new Ao(this.comparator)}static emptySet(e){return new Rb(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Rb)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Rb;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class dN{constructor(){this.Tu=new Ao(Dt.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ht():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ob{constructor(e,t,r,i,s,u,p,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,s){const u=[];return t.forEach(p=>{u.push({type:0,doc:p})}),new Ob(e,t,Rb.emptySet(t),u,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class cz{constructor(){this.Au=void 0,this.listeners=[]}}class lz{constructor(){this.queries=new dm(e=>TP(e),zw),this.onlineState="Unknown",this.Ru=new Set}}function wk(n,e){return xk.apply(this,arguments)}function xk(){return xk=(0,qe.Z)(function*(n,e){const t=Mt(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new cz),i)try{s.Au=yield t.onListen(r)}catch(u){const p=kb(u,`Initialization of query '${IM(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&Dk(t)}),xk.apply(this,arguments)}function Ck(n,e){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,qe.Z)(function*(n,e){const t=Mt(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Ik.apply(this,arguments)}function uz(n,e){const t=Mt(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const p of u.listeners)p.Pu(i)&&(r=!0);u.Au=i}}r&&Dk(t)}function dz(n,e,t){const r=Mt(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function Dk(n){n.Ru.forEach(e=>{e.next()})}class Sk{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ob(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ob.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class hz{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class hN{constructor(e){this.yt=e}Ji(e){return wh(this.yt,e)}Yi(e){return e.metadata.exists?oF(this.yt,e.document,!1):$i.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Wo(e)}}class fz{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fN(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=vr.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new hN(this.yt);for(const i of e)if(i.metadata.queries){const s=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const p=(t.get(u)||Kn()).add(s);t.set(u,p)}}return t}complete(){var e=this;return(0,qe.Z)(function*(){const t=yield function Hj(n,e,t,r){return YM.apply(this,arguments)}(e.localStore,new hN(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield jj(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function fN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class pN{constructor(e){this.key=e}}class mN{constructor(e){this.key=e}}class gN{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Kn(),this.mutatedKeys=Kn(),this.Gu=MP(e),this.Qu=new Rb(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new dN,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,u=i,p=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,P)=>{const $=i.get(D),Y=DM(this.query,P)?P:null,Q=!!$&&this.mutatedKeys.has($.key),me=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let De=!1;$&&Y?$.data.isEqual(Y.data)?Q!==me&&(r.track({type:3,doc:Y}),De=!0):this.Hu($,Y)||(r.track({type:2,doc:Y}),De=!0,(y&&this.Gu(Y,y)>0||w&&this.Gu(Y,w)<0)&&(p=!0)):!$&&Y?(r.track({type:0,doc:Y}),De=!0):$&&!Y&&(r.track({type:1,doc:$}),De=!0,(y||w)&&(p=!0)),De&&(Y?(u=u.add(Y),s=me?s.add(D):s.delete(D)):(u=u.delete(D),s=s.delete(D)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const D="F"===this.query.limitType?u.last():u.first();u=u.delete(D.key),s=s.delete(D.key),r.track({type:1,doc:D})}return{Qu:u,zu:r,$i:p,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((w,D)=>function(P,$){const Y=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht()}};return Y(P)-Y($)}(w.type,D.type)||this.Gu(w.doc,D.doc)),this.Ju(r);const u=t?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,y=p!==this.Uu;return this.Uu=p,0!==s.length||y?{snapshot:new Ob(this.query,e.Qu,i,s,e.mutatedKeys,0===p,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new dN,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Kn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new mN(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new pN(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Kn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ob.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class pz{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mz{constructor(e){this.key=e,this.nc=!1}}class gz{constructor(e,t,r,i,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new dm(p=>TP(p),zw),this.rc=new Map,this.oc=new Set,this.uc=new Ao(Dt.comparator),this.cc=new Map,this.ac=new zM,this.hc={},this.lc=new Map,this.fc=E_.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function _z(n,e){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,qe.Z)(function*(n,e){const t=Qk(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const u=yield Db(t.localStore,pc(e));t.isPrimaryClient&&zD(t.remoteStore,u);const p=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield Ak(t,e,r,"current"===p,u.resumeToken)}return i}),Tk.apply(this,arguments)}function Ak(n,e,t,r,i){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,qe.Z)(function*(n,e,t,r,i){n._c=(P,$,Y)=>{return(Q=(0,qe.Z)(function*(me,De,dt,Et){let It=De.view.Wu(dt);It.$i&&(It=yield UD(me.localStore,De.query,!1).then(({documents:nn})=>De.view.Wu(nn,It)));const xt=Et&&Et.targetChanges.get(De.targetId),Jt=De.view.applyChanges(It,me.isPrimaryClient,xt);return Vk(me,De.targetId,Jt.Xu),Jt.snapshot}),function(me,De,dt,Et){return Q.apply(this,arguments)})(n,P,$,Y);var Q};const s=yield UD(n.localStore,e,!0),u=new gN(e,s.Hi),p=u.Wu(s.documents),y=Zw.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=u.applyChanges(p,n.isPrimaryClient,y);Vk(n,t,w.Xu);const D=new pz(e,t,u);return n.ic.set(e,D),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),w.snapshot}),Mk.apply(this,arguments)}function yz(n,e){return kk.apply(this,arguments)}function kk(){return kk=(0,qe.Z)(function*(n,e){const t=Mt(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!zw(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Sb(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),lx(t.remoteStore,r.targetId),Pb(t,r.targetId)}).catch(im))):(Pb(t,r.targetId),yield Sb(t.localStore,r.targetId,!0))}),kk.apply(this,arguments)}function Rk(){return Rk=(0,qe.Z)(function*(n,e,t){const r=Xk(n);try{const i=yield function(s,u){const p=Mt(s),y=ho.now(),w=u.reduce(($,Y)=>$.add(Y.key),Kn());let D,P;return p.persistence.runTransaction("Locally write mutations","readwrite",$=>{let Y=ol(),Q=Kn();return p.Gi.getEntries($,w).next(me=>{Y=me,Y.forEach((De,dt)=>{dt.isValidDocument()||(Q=Q.add(De))})}).next(()=>p.localDocuments.getOverlayedDocuments($,Y)).next(me=>{D=me;const De=[];for(const dt of u){const Et=SH(dt,D.get(dt.key).overlayedDocument);null!=Et&&De.push(new Cf(dt.key,Et,xP(Et.value.mapValue),fo.exists(!0)))}return p.mutationQueue.addMutationBatch($,y,De,u)}).next(me=>{P=me;const De=me.applyToLocalDocumentSet(D,Q);return p.documentOverlayCache.saveOverlays($,me.batchId,De)})}).then(()=>({batchId:P.batchId,changes:qP(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,p){let y=s.hc[s.currentUser.toKey()];y||(y=new Ao(Vn)),y=y.insert(u,p),s.hc[s.currentUser.toKey()]=y}(r,i.batchId,t),yield Df(r,i.changes),yield Ab(r.remoteStore)}catch(i){const s=kb(i,"Failed to persist write");t.reject(s)}}),Rk.apply(this,arguments)}function _N(n,e){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,qe.Z)(function*(n,e){const t=Mt(n);try{const r=yield Uj(t.localStore,e);e.targetChanges.forEach((i,s)=>{const u=t.cc.get(s);u&&(Xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?Xt(u.nc):i.removedDocuments.size>0&&(Xt(u.nc),u.nc=!1))}),yield Df(t,r,e)}catch(r){yield im(r)}}),Ok.apply(this,arguments)}function yN(n,e,t){const r=Mt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,u)=>{const p=u.view.bu(e);p.snapshot&&i.push(p.snapshot)}),function(s,u){const p=Mt(s);p.onlineState=u;let y=!1;p.queries.forEach((w,D)=>{for(const P of D.listeners)P.bu(u)&&(y=!0)}),y&&Dk(p)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function bz(n,e,t){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,qe.Z)(function*(n,e,t){const r=Mt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let u=new Ao(Dt.comparator);u=u.insert(s,$i.newNoDocument(s,rn.min()));const p=Kn().add(s),y=new Kw(rn.min(),new Map,new di(Vn),u,p);yield _N(r,y),r.uc=r.uc.remove(s),r.cc.delete(e),Hk(r)}else yield Sb(r.localStore,e,!1).then(()=>Pb(r,e,t)).catch(im)}),Pk.apply(this,arguments)}function Ez(n,e){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,qe.Z)(function*(n,e){const t=Mt(n),r=e.batch.batchId;try{const i=yield Bj(t.localStore,e);Uk(t,r,null),Bk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Df(t,i)}catch(i){yield im(i)}}),Fk.apply(this,arguments)}function wz(n,e,t){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,qe.Z)(function*(n,e,t){const r=Mt(n);try{const i=yield function(s,u){const p=Mt(s);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.mutationQueue.lookupMutationBatch(y,u).next(D=>(Xt(null!==D),w=D.keys(),p.mutationQueue.removeMutationBatch(y,D))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,u)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>p.localDocuments.getDocuments(y,w))})}(r.localStore,e);Uk(r,e,t),Bk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Df(r,i)}catch(i){yield im(i)}}),Nk.apply(this,arguments)}function Lk(){return Lk=(0,qe.Z)(function*(n,e){const t=Mt(n);If(t.remoteStore)||pt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const u=Mt(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>u.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=kb(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Lk.apply(this,arguments)}function Bk(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Uk(n,e,t){const r=Mt(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Pb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||vN(n,r)})}function vN(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(lx(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Hk(n))}function Vk(n,e,t){for(const r of t)r instanceof pN?(n.ac.addReference(r.key,e),Cz(n,r)):r instanceof mN?(pt("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||vN(n,r.key)):Ht()}function Cz(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(pt("SyncEngine","New document in limbo: "+t),n.oc.add(r),Hk(n))}function Hk(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Dt(vr.fromString(e)),r=n.fc.next();n.cc.set(r,new mz(t)),n.uc=n.uc.insert(t,r),zD(n.remoteStore,new hm(pc(gb(t.path)),r,2,Dl.at))}}function Df(n,e,t){return jk.apply(this,arguments)}function jk(){return jk=(0,qe.Z)(function*(n,e,t){const r=Mt(n),i=[],s=[],u=[];var p;r.ic.isEmpty()||(r.ic.forEach((p,y)=>{u.push(r._c(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const D=qM.Ci(y.targetId,w);s.push(D)}}))}),yield Promise.all(u),r.sc.Wo(i),yield(p=(0,qe.Z)(function*(y,w){const D=Mt(y);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>Ue.forEach(w,$=>Ue.forEach($.Si,Y=>D.persistence.referenceDelegate.addReference(P,$.targetId,Y)).next(()=>Ue.forEach($.Di,Y=>D.persistence.referenceDelegate.removeReference(P,$.targetId,Y)))))}catch(P){if(!om(P))throw P;pt("LocalStore","Failed to update sequence numbers: "+P)}for(const P of w){const $=P.targetId;if(!P.fromCache){const Y=D.qi.get($),me=Y.withLastLimboFreeSnapshotVersion(Y.snapshotVersion);D.qi=D.qi.insert($,me)}}}),function(y,w){return p.apply(this,arguments)})(r.localStore,s))}),jk.apply(this,arguments)}function Iz(n,e){return zk.apply(this,arguments)}function zk(){return zk=(0,qe.Z)(function*(n,e){const t=Mt(n);if(!t.currentUser.isEqual(e)){pt("SyncEngine","User change. New user:",e.toKey());const r=yield qF(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(u=>{u.forEach(p=>{p.reject(new ut(He.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Df(t,r.ji)}var i}),zk.apply(this,arguments)}function Dz(n,e){const t=Mt(n),r=t.cc.get(e);if(r&&r.nc)return Kn().add(r.key);{let i=Kn();const s=t.rc.get(e);if(!s)return i;for(const u of s){const p=t.ic.get(u);i=i.unionWith(p.view.ju)}return i}}function Sz(n,e){return $k.apply(this,arguments)}function $k(){return $k=(0,qe.Z)(function*(n,e){const t=Mt(n),r=yield UD(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&Vk(t,e.targetId,i.Xu),i}),$k.apply(this,arguments)}function Tz(n,e){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,qe.Z)(function*(n,e){const t=Mt(n);return QF(t.localStore,e).then(r=>Df(t,r))}),Gk.apply(this,arguments)}function Az(n,e,t,r){return Wk.apply(this,arguments)}function Wk(){return Wk=(0,qe.Z)(function*(n,e,t,r){const i=Mt(n),s=yield function(u,p){const y=Mt(u),w=Mt(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.Tn(D,p).next(P=>P?y.localDocuments.getDocuments(D,P):Ue.resolve(null)))}(i.localStore,e);var p;null!==s?("pending"===t?yield Ab(i.remoteStore):"acknowledged"===t||"rejected"===t?(Uk(i,e,r||null),Bk(i,e),p=e,Mt(Mt(i.localStore).mutationQueue).An(p)):Ht(),yield Df(i,s)):pt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Wk.apply(this,arguments)}function qk(){return qk=(0,qe.Z)(function*(n,e){const t=Mt(n);if(Qk(t),Xk(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield bN(t,r.toArray());t.dc=!0,yield vk(t.remoteStore,!0);for(const s of i)zD(t.remoteStore,s)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((s,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(Pb(t,u),Sb(t.localStore,u,!0))),lx(t.remoteStore,u)}),yield i,yield bN(t,r),function(s){const u=Mt(s);u.cc.forEach((p,y)=>{lx(u.remoteStore,y)}),u.ac.fs(),u.cc=new Map,u.uc=new Ao(Dt.comparator)}(t),t.dc=!1,yield vk(t.remoteStore,!1)}}),qk.apply(this,arguments)}function bN(n,e,t){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,qe.Z)(function*(n,e,t){const r=Mt(n),i=[],s=[];for(const u of e){let p;const y=r.rc.get(u);if(y&&0!==y.length){p=yield Db(r.localStore,pc(y[0]));for(const w of y){const D=r.ic.get(w),P=yield Sz(r,D);P.snapshot&&s.push(P.snapshot)}}else{const w=yield YF(r.localStore,u);p=yield Db(r.localStore,w),yield Ak(r,EN(w),u,!1,p.resumeToken)}i.push(p)}return r.sc.Wo(s),i}),Kk.apply(this,arguments)}function EN(n){return DP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function kz(n){const e=Mt(n);return Mt(Mt(e.localStore).persistence).vi()}function Rz(n,e,t,r){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,qe.Z)(function*(n,e,t,r){const i=Mt(n);if(i.dc)return void pt("SyncEngine","Ignoring unexpected query state notification.");const s=i.rc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const u=yield QF(i.localStore,AP(s[0])),p=Kw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,vs.EMPTY_BYTE_STRING);yield Df(i,u,p);break}case"rejected":yield Sb(i.localStore,e,!0),Pb(i,e,r);break;default:Ht()}}),Zk.apply(this,arguments)}function Oz(n,e,t){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,qe.Z)(function*(n,e,t){const r=Qk(n);if(r.dc){for(const i of e){if(r.rc.has(i)){pt("SyncEngine","Adding an already active target "+i);continue}const s=yield YF(r.localStore,i),u=yield Db(r.localStore,s);yield Ak(r,EN(s),u.targetId,!1,u.resumeToken),zD(r.remoteStore,u)}for(const i of t)r.rc.has(i)&&(yield Sb(r.localStore,i,!1).then(()=>{lx(r.remoteStore,i),Pb(r,i)}).catch(im))}}),Yk.apply(this,arguments)}function Qk(n){const e=Mt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_N.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bz.bind(null,e),e.sc.Wo=uz.bind(null,e.eventManager),e.sc.wc=dz.bind(null,e.eventManager),e}function Xk(n){const e=Mt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ez.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wz.bind(null,e),e}class wN{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,qe.Z)(function*(){t.yt=ax(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return WF(this.persistence,new GF,e.initialUser,this.yt)}yc(e){return new zF(LD.Bs,this.yt)}gc(e){return new tN}terminate(){var e=this;return(0,qe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xN extends wN{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,qe.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield Xk(r.Ac.syncEngine),yield Ab(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return WF(this.persistence,new GF,e.initialUser,this.yt)}Tc(e,t){return new xj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new aH(t,this.persistence);return new sH(e.asyncQueue,r)}yc(e){const t=WM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?sl.withCacheSize(this.cacheSizeBytes):sl.DEFAULT;return new GM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,rN(),jD(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new tN}}class Fz extends xN{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,qe.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof tk&&(r.sharedClientState.syncEngine={Fr:Az.bind(null,i),$r:Rz.bind(null,i),Br:Oz.bind(null,i),vi:kz.bind(null,i),Mr:Tz.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var s=(0,qe.Z)(function*(u){yield function Mz(n,e){return qk.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}gc(e){const t=rN();if(!tk.C(t))throw new ut(He.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=WM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tk(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Jk{initialize(e,t){var r=this;return(0,qe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>yN(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Iz.bind(null,r.syncEngine),yield vk(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lz}createDatastore(e){const t=ax(e.databaseInfo.databaseId),r=new Wj(e.databaseInfo);return new Zj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=p=>yN(this.syncEngine,p,0),u=nN.C()?new nN:new zj,new Xj(t,r,i,s,u);var t,r,i,s,u}createSyncEngine(e,t){return function(r,i,s,u,p,y,w){const D=new gz(r,i,s,u,p,y);return w&&(D.dc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,qe.Z)(function*(t){const r=Mt(t);pt("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Tb(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eR(n,e,t){if(!t)throw new ut(He.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CN(n,e,t,r){if(!0===e&&!0===r)throw new ut(He.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IN(n){if(!Dt.isDocumentKey(n))throw new ut(He.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DN(n){if(Dt.isDocumentKey(n))throw new ut(He.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ht()}function lr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ut(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=GD(n);throw new ut(He.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function SN(n,e){if(e<=0)throw new ut(He.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const TN=new Map;class AN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ut(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ut(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,CN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ux{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ut(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ut(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new KV;switch(t.type){case"gapi":return new XV(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ut(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=TN.get(e);t&&(pt("ComponentProvider","Removing Datastore"),TN.delete(e),t.terminate())}(this),Promise.resolve()}}class Gi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ch(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gi(this.firestore,e,this._key)}}class sa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class Ch extends sa{constructor(e,t,r){super(e,t,gb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gi(this.firestore,null,new Dt(e))}withConverter(e){return new Ch(this.firestore,e,this._path)}}function kN(n,e,...t){if(n=(0,Pn.m9)(n),eR("collection","path",e),n instanceof ux){const r=vr.fromString(e,...t);return DN(r),new Ch(n,null,r)}{if(!(n instanceof Gi||n instanceof Ch))throw new ut(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vr.fromString(e,...t));return DN(r),new Ch(n.firestore,null,r)}}function WD(n,e,...t){if(n=(0,Pn.m9)(n),1===arguments.length&&(e=KO.R()),eR("doc","path",e),n instanceof ux){const r=vr.fromString(e,...t);return IN(r),new Gi(n,null,new Dt(r))}{if(!(n instanceof Gi||n instanceof Ch))throw new ut(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vr.fromString(e,...t));return IN(r),new Gi(n.firestore,n instanceof Ch?n.converter:null,new Dt(r))}}function RN(n,e){return n=(0,Pn.m9)(n),e=(0,Pn.m9)(e),(n instanceof Gi||n instanceof Ch)&&(e instanceof Gi||e instanceof Ch)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function tR(n,e){return n=(0,Pn.m9)(n),e=(0,Pn.m9)(e),n instanceof sa&&e instanceof sa&&n.firestore===e.firestore&&zw(n._query,e._query)&&n.converter===e.converter}function ON(n,e=10240){let t=0;return{read:()=>(0,qe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,qe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class qD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Go("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Lz{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new ys,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,qe.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,qe.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,qe.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const s=yield e.Cc(i);return new hz(JSON.parse(s),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,qe.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,qe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,qe.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Vz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,qe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ut(He.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,qe.Z)(function*(s,u){const p=Mt(s),y=Qw(p.yt)+"/documents",w={documents:u.map(Y=>Yw(p.yt,Y))},D=yield p._o("BatchGetDocuments",y,w,u.length),P=new Map;D.forEach(Y=>{const Q=function UH(n,e){return"found"in e?function(t,r){Xt(!!r.found);const i=wh(t,r.found.name),s=Wo(r.found.updateTime),u=r.found.createTime?Wo(r.found.createTime):rn.min(),p=new oa({mapValue:{fields:r.found.fields}});return $i.newFoundDocument(i,s,u,p)}(n,e):"missing"in e?function(t,r){Xt(!!r.missing),Xt(!!r.readTime);const i=wh(t,r.missing),s=Wo(r.readTime);return $i.newNoDocument(i,s)}(n,e):Ht()}(p.yt,Y);P.set(Q.key.toString(),Q)});const $=[];return u.forEach(Y=>{const Q=P.get(Y.toString());Xt(!!Q),$.push(Q)}),$}),function(s,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new bb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,qe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=Dt.fromPath(i);e.mutations.push(new SM(s,e.precondition(s)))}),yield(r=(0,qe.Z)(function*(i,s){const u=Mt(i),p=Qw(u.yt)+"/documents",y={writes:s.map(w=>Xw(u.yt,w))};yield u.ao("Commit",p,y)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ht();t=rn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ut(He.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(rn.min())?fo.exists(!1):fo.updateTime(t):fo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rn.min()))throw new ut(He.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fo.updateTime(t)}return fo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Hz{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.kc=r.maxAttempts,this.xo=new nk(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,qe.Z)(function*(){const t=new Vz(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Fc(s)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Nw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!$P(t)}return!1}}class jz{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Fs.UNAUTHENTICATED,this.clientId=KO.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,qe.Z)(function*(p){pt("FirestoreClient","Received user=",p.uid),yield s.authCredentialListener(p),s.user=p});return function(p){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(pt("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,qe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ut(He.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,qe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=kb(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function PN(n,e){return nR.apply(this,arguments)}function nR(){return nR=(0,qe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),pt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,qe.Z)(function*(s){r.isEqual(s)||(yield qF(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),nR.apply(this,arguments)}function FN(n,e){return rR.apply(this,arguments)}function rR(){return rR=(0,qe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield iR(n);pt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>uN(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>uN(e.remoteStore,s)),n.onlineComponents=e}),rR.apply(this,arguments)}function iR(n){return oR.apply(this,arguments)}function oR(){return oR=(0,qe.Z)(function*(n){return n.offlineComponents||(pt("FirestoreClient","Using default OfflineComponentProvider"),yield PN(n,new wN)),n.offlineComponents}),oR.apply(this,arguments)}function KD(n){return sR.apply(this,arguments)}function sR(){return sR=(0,qe.Z)(function*(n){return n.onlineComponents||(pt("FirestoreClient","Using default OnlineComponentProvider"),yield FN(n,new Jk)),n.onlineComponents}),sR.apply(this,arguments)}function NN(n){return iR(n).then(e=>e.persistence)}function ZD(n){return iR(n).then(e=>e.localStore)}function aR(n){return KD(n).then(e=>e.remoteStore)}function cR(n){return KD(n).then(e=>e.syncEngine)}function Fb(n){return lR.apply(this,arguments)}function lR(){return lR=(0,qe.Z)(function*(n){const e=yield KD(n),t=e.eventManager;return t.onListen=_z.bind(null,e.syncEngine),t.onUnlisten=yz.bind(null,e.syncEngine),t}),lR.apply(this,arguments)}function BN(n,e,t={}){const r=new ys;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function(i,s,u,p,y){const w=new qD({next:P=>{s.enqueueAndForget(()=>Ck(i,D));const $=P.docs.has(u);!$&&P.fromCache?y.reject(new ut(He.UNAVAILABLE,"Failed to get document because the client is offline.")):$&&P.fromCache&&p&&"server"===p.source?y.reject(new ut(He.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(P)},error:P=>y.reject(P)}),D=new Sk(gb(u.path),w,{includeMetadataChanges:!0,Nu:!0});return wk(i,D)}(yield Fb(n),n.asyncQueue,e,t,r)})),r.promise}function UN(n,e,t={}){const r=new ys;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function(i,s,u,p,y){const w=new qD({next:P=>{s.enqueueAndForget(()=>Ck(i,D)),P.fromCache&&"server"===p.source?y.reject(new ut(He.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(P)},error:P=>y.reject(P)}),D=new Sk(u,w,{includeMetadataChanges:!0,Nu:!0});return wk(i,D)}(yield Fb(n),n.asyncQueue,e,t,r)})),r.promise}class Yz{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new nk(this,"async_queue_retry"),this.Wc=()=>{const t=jD();t&&pt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=jD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=jD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new ys;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,qe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!om(t))throw t;pt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Go("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=Ek.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&Ht()}verifyOperationInProgress(){}Xc(){var e=this;return(0,qe.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function uR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Qz{constructor(){this._progressObserver={},this._taskCompletionResolver=new ys,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Wi extends ux{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Yz,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||VN(this),this._firestoreClient.terminate()}}function qo(n){return n._firestoreClient||VN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function VN(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new cH(n._databaseId,s,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var s,p;n._firestoreClient=new jz(n._authCredentials,n._appCheckCredentials,n._queue,r)}function HN(n,e,t){const r=new ys;return n.asyncQueue.enqueue((0,qe.Z)(function*(){try{yield PN(n,t),yield FN(n,e),r.resolve()}catch(i){const s=i;if(!("FirebaseError"===(u=s).name?u.code===He.FAILED_PRECONDITION||u.code===He.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;o_("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var u})).then(()=>r.promise)}function jN(n){if(n._initialized||n._terminated)throw new ut(He.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ih{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ih(vs.fromBase64String(e))}catch(t){throw new ut(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ih(vs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ut(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new So(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class x_{constructor(e){this._methodName=e}}class YD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ut(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ut(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vn(this._lat,e._lat)||Vn(this._long,e._long)}}const a3=/^__.*__$/;class c3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Cf(e,this.data,this.fieldMask,t,this.fieldTransforms):new vb(e,this.data,t,this.fieldTransforms)}}class zN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Cf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $N(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht()}}class QD{constructor(e,t,r,i,s,u){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new QD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return eS(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if($N(this.sa)&&a3.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class l3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||ax(e)}da(e,t,r,i=!1){return new QD({sa:e,methodName:t,fa:r,path:So.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function C_(n){const e=n._freezeSettings(),t=ax(n._databaseId);return new l3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function XD(n,e,t,r,i,s={}){const u=n.da(s.merge||s.mergeFields?2:0,e,t,i);pR("Data must be an object, but it was:",u,r);const p=qN(r,u);let y,w;if(s.merge)y=new Sl(u.fieldMask),w=u.fieldTransforms;else if(s.mergeFields){const D=[];for(const P of s.mergeFields){const $=mR(e,P,t);if(!u.contains($))throw new ut(He.INVALID_ARGUMENT,`Field '${$}' is specified in your field mask but missing from your input data.`);ZN(D,$)||D.push($)}y=new Sl(D),w=u.fieldTransforms.filter(P=>y.covers(P.field))}else y=null,w=u.fieldTransforms;return new c3(new oa(p),y,w)}class dx extends x_{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dx}}function GN(n,e,t){return new QD({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class dR extends x_{_toFieldTransform(e){return new $w(e.path,new _b)}isEqual(e){return e instanceof dR}}class u3 extends x_{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=GN(this,e,!0),r=this._a.map(s=>I_(s,t)),i=new p_(r);return new $w(e.path,i)}isEqual(e){return this===e}}class d3 extends x_{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=GN(this,e,!0),r=this._a.map(s=>I_(s,t)),i=new m_(r);return new $w(e.path,i)}isEqual(e){return this===e}}class h3 extends x_{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new yb(e.yt,OP(e.yt,this.wa));return new $w(e.path,t)}isEqual(e){return this===e}}function hR(n,e,t,r){const i=n.da(1,e,t);pR("Data must be an object, but it was:",i,r);const s=[],u=oa.empty();c_(r,(y,w)=>{const D=JD(e,y,t);w=(0,Pn.m9)(w);const P=i.ca(D);if(w instanceof dx)s.push(D);else{const $=I_(w,P);null!=$&&(s.push(D),u.set(D,$))}});const p=new Sl(s);return new zN(u,p,i.fieldTransforms)}function fR(n,e,t,r,i,s){const u=n.da(1,e,t),p=[mR(e,r,t)],y=[i];if(s.length%2!=0)throw new ut(He.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $=0;$<s.length;$+=2)p.push(mR(e,s[$])),y.push(s[$+1]);const w=[],D=oa.empty();for(let $=p.length-1;$>=0;--$)if(!ZN(w,p[$])){const Y=p[$];let Q=y[$];Q=(0,Pn.m9)(Q);const me=u.ca(Y);if(Q instanceof dx)w.push(Y);else{const De=I_(Q,me);null!=De&&(w.push(Y),D.set(Y,De))}}const P=new Sl(w);return new zN(D,P,u.fieldTransforms)}function WN(n,e,t,r=!1){return I_(t,n.da(r?4:3,e))}function I_(n,e){if(KN(n=(0,Pn.m9)(n)))return pR("Unsupported field value:",e,n),qN(n,e);if(n instanceof x_)return function(t,r){if(!$N(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const u of t){let p=I_(u,r.aa(s));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Pn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return OP(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ho.fromDate(t);return{timestampValue:Eb(r.yt,i)}}if(t instanceof ho){const i=new ho(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Eb(r.yt,i)}}if(t instanceof YD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ih)return{bytesValue:eF(r.yt,t._byteString)};if(t instanceof Gi){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:TM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${GD(t)}`)}(n,e)}function qN(n,e){const t={};return nP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):c_(n,(r,i)=>{const s=I_(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function KN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ho||n instanceof YD||n instanceof Ih||n instanceof Gi||n instanceof x_)}function pR(n,e,t){if(!KN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=GD(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function mR(n,e,t){if((e=(0,Pn.m9)(e))instanceof Sf)return e._internalPath;if("string"==typeof e)return JD(n,e);throw eS("Field path arguments must be of type string or ",n,!1,void 0,t)}const f3=new RegExp("[~\\*/\\[\\]]");function JD(n,e,t){if(e.search(f3)>=0)throw eS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sf(...e.split("."))._internalPath}catch{throw eS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function eS(n,e,t,r,i){const s=r&&!r.isEmpty(),u=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(s||u)&&(y+=" (found",s&&(y+=` in field ${r}`),u&&(y+=` in document ${i}`),y+=")"),new ut(He.INVALID_ARGUMENT,p+n+y)}function ZN(n,e){return n.some(t=>t.isEqual(e))}class hx{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new p3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class p3 extends hx{data(){return super.data()}}function tS(n,e){return"string"==typeof e?JD(n,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}function YN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ut(He.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gR{}class fx extends gR{}function _m(n,e,...t){let r=[];e instanceof gR&&r.push(e),r=r.concat(t),function(i){const s=i.filter(p=>p instanceof Nb).length,u=i.filter(p=>p instanceof px).length;if(s>1||s>0&&u>0)throw new ut(He.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class px extends fx{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new px(e,t,r)}_apply(e){const t=this._parse(e);return eL(e._query,t),new sa(e.firestore,e.converter,CM(e._query,t))}_parse(e){const t=C_(e.firestore);return function(i,s,u,p,y,w,D){let P;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new ut(He.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){JN(D,w);const $=[];for(const Y of D)$.push(XN(p,i,Y));P={arrayValue:{values:$}}}else P=XN(p,i,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||JN(D,w),P=WN(u,"where",D,"in"===w||"not-in"===w);return cr.create(y,w,P)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Nb extends gR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Nb(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:ri.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const u=i.getFlattenedFilters();for(const p of u)eL(s,p),s=CM(s,p)}(e._query,t),new sa(e.firestore,e.converter,CM(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _R extends fx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _R(e,t)}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new ut(He.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ut(He.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new pb(i,s);return function(p,y){if(null===wM(p)){const w=ED(p);null!==w&&tL(0,w,y.field)}}(r,u),u}(e._query,this._field,this._direction);return new sa(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new xf(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class nS extends fx{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new nS(e,t,r)}_apply(e){return new sa(e.firestore,e.converter,wD(e._query,this._limit,this._limitType))}}class rS extends fx{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new rS(e,t,r)}_apply(e){const t=QN(e,this.type,this._docOrFields,this._inclusive);return new sa(e.firestore,e.converter,(i=t,new xf((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class iS extends fx{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new iS(e,t,r)}_apply(e){const t=QN(e,this.type,this._docOrFields,this._inclusive);return new sa(e.firestore,e.converter,(i=t,new xf((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function QN(n,e,t,r){if(t[0]=(0,Pn.m9)(t[0]),t[0]instanceof hx)return function(i,s,u,p,y){if(!p)throw new ut(He.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const D of f_(i))if(D.field.isKeyField())w.push(d_(s,p.key));else{const P=p.data.field(D.field);if(_M(P))throw new ut(He.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const $=D.field.canonicalString();throw new ut(He.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$}' (used as the orderBy) does not exist.`)}w.push(P)}return new um(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=C_(n.firestore);return function(s,u,p,y,w,D){const P=s.explicitOrderBy;if(w.length>P.length)throw new ut(He.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $=[];for(let Y=0;Y<w.length;Y++){const Q=w[Y];if(P[Y].field.isKeyField()){if("string"!=typeof Q)throw new ut(He.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof Q}`);if(!xM(s)&&-1!==Q.indexOf("/"))throw new ut(He.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${Q}' contains a slash.`);const me=s.path.child(vr.fromString(Q));if(!Dt.isDocumentKey(me))throw new ut(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${me}' is not because it contains an odd number of segments.`);const De=new Dt(me);$.push(d_(u,De))}else{const me=WN(p,y,Q);$.push(me)}}return new um($,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function XN(n,e,t){if("string"==typeof(t=(0,Pn.m9)(t))){if(""===t)throw new ut(He.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xM(e)&&-1!==t.indexOf("/"))throw new ut(He.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vr.fromString(t));if(!Dt.isDocumentKey(r))throw new ut(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return d_(n,new Dt(r))}if(t instanceof Gi)return d_(n,t._key);throw new ut(He.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${GD(t)}.`)}function JN(n,e){if(!Array.isArray(n)||0===n.length)throw new ut(He.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new ut(He.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function eL(n,e){if(e.isInequality()){const r=ED(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new ut(He.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=wM(n);null!==s&&tL(0,i,s)}const t=function(r,i){for(const s of r)for(const u of s.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ut(He.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function tL(n,e,t){if(!t.isEqual(e))throw new ut(He.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class yR{convertValue(e,t="none"){switch(u_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return To(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(l_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ht()}}convertObject(e,t){const r={};return c_(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new YD(To(e.latitude),To(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=iP(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bw(e));default:return null}}convertTimestamp(e){const t=am(e);return new ho(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vr.fromString(e);Xt(uF(r));const i=new sm(r.get(1),r.get(3)),s=new Dt(r.popFirst(5));return i.isEqual(t)||Go(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function oS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class x3 extends yR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ih(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gi(this.firestore,null,t)}}class D_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tf extends hx{constructor(e,t,r,i,s,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(tS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class mx extends Tf{data(e={}){return super.data(e)}}class ym{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new D_(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new mx(this._firestore,this._userDataWriter,r.key,r,new D_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ut(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new mx(r._firestore,r._userDataWriter,u.doc.key,u.doc,new D_(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const p=new mx(r._firestore,r._userDataWriter,u.doc.key,u.doc,new D_(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==u.type&&(y=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),w=s.indexOf(u.doc.key)),{type:C3(u.type),doc:p,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function C3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht()}}function rL(n,e){return n instanceof Tf&&e instanceof Tf?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ym&&e instanceof ym&&n._firestore===e._firestore&&tR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class vm extends yR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ih(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gi(this.firestore,null,t)}}function iL(n,e,t){n=lr(n,Gi);const r=lr(n.firestore,Wi),i=oS(n.converter,e,t);return Lb(r,[XD(C_(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,fo.none())])}function oL(n,e,t,...r){n=lr(n,Gi);const i=lr(n.firestore,Wi),s=C_(i);let u;return u="string"==typeof(e=(0,Pn.m9)(e))||e instanceof Sf?fR(s,"updateDoc",n._key,e,t,r):hR(s,"updateDoc",n._key,e),Lb(i,[u.toMutation(n._key,fo.exists(!0))])}function sL(n,...e){var t,r,i;n=(0,Pn.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||uR(e[u])||(s=e[u],u++);const p={includeMetadataChanges:s.includeMetadataChanges};if(uR(e[u])){const P=e[u];e[u]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[u+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[u+2]=null===(i=P.complete)||void 0===i?void 0:i.bind(P)}let y,w,D;if(n instanceof Gi)w=lr(n.firestore,Wi),D=gb(n._key.path),y={next:P=>{e[u]&&e[u](vR(w,n,P))},error:e[u+1],complete:e[u+2]};else{const P=lr(n,sa);w=lr(P.firestore,Wi),D=P._query;const $=new vm(w);y={next:Y=>{e[u]&&e[u](new ym(w,$,P,Y))},error:e[u+1],complete:e[u+2]},YN(n._query)}return function(P,$,Y,Q){const me=new qD(Q),De=new Sk($,me,Y);return P.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return wk(yield Fb(P),De)})),()=>{me.bc(),P.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return Ck(yield Fb(P),De)}))}}(qo(w),D,p,y)}function Lb(n,e){return function(t,r){const i=new ys;return t.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function vz(n,e,t){return Rk.apply(this,arguments)}(yield cR(t),r,i)})),i.promise}(qo(n),e)}function vR(n,e,t){const r=t.docs.get(e._key),i=new vm(n);return new Tf(n,i,e._key,r,new D_(t.hasPendingWrites,t.fromCache),e.converter)}const P3={maxAttempts:5};class aL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=C_(e)}set(e,t,r){this._verifyNotCommitted();const i=bm(e,this._firestore),s=oS(i.converter,t,r),u=XD(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,fo.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=bm(e,this._firestore);let u;return u="string"==typeof(t=(0,Pn.m9)(t))||t instanceof Sf?fR(this._dataReader,"WriteBatch.update",s._key,t,r,i):hR(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(u.toMutation(s._key,fo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=bm(e,this._firestore);return this._mutations=this._mutations.concat(new bb(t._key,fo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(He.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bm(n,e){if((n=(0,Pn.m9)(n)).firestore!==e)throw new ut(He.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class F3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=C_(e)}get(e){const t=bm(e,this._firestore),r=new x3(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Ht();const s=i[0];if(s.isFoundDocument())return new hx(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new hx(this._firestore,r,t._key,null,t.converter);throw Ht()})}set(e,t,r){const i=bm(e,this._firestore),s=oS(i.converter,t,r),u=XD(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const s=bm(e,this._firestore);let u;return u="string"==typeof(t=(0,Pn.m9)(t))||t instanceof Sf?fR(this._dataReader,"Transaction.update",s._key,t,r,i):hR(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,u),this}delete(e){const t=bm(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=bm(e,this._firestore),r=new vm(this._firestore);return super.get(e).then(i=>new Tf(this._firestore,r,t._key,i._document,new D_(!1,!1),t.converter))}}function bR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ut("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function lL(){if(typeof Uint8Array>"u")throw new ut("unimplemented","Uint8Arrays are not available in this environment.")}function uL(){if(!function lH(){return typeof atob<"u"}())throw new ut("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ub=tl.SDK_VERSION,(0,tl._registerComponent)(new hh.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),u=new Wi(new YV(t.getProvider("auth-internal")),new JV(t.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ut(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sm(p.options.projectId,y)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,tl.registerVersion)(GO,"3.8.0",n),(0,tl.registerVersion)(GO,"3.8.0","esm2017")}();class gx{constructor(e){this._delegate=e}static fromBase64String(e){return uL(),new gx(Ih.fromBase64String(e))}static fromUint8Array(e){return lL(),new gx(Ih.fromUint8Array(e))}toBase64(){return uL(),this._delegate.toBase64()}toUint8Array(){return lL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ER(n){return function $3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class G3{enableIndexedDbPersistence(e,t){return function Jz(n,e){jN(n=lr(n,Wi));const t=qo(n),r=n._freezeSettings(),i=new Jk;return HN(t,i,new xN(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function e3(n){jN(n=lr(n,Wi));const e=qo(n),t=n._freezeSettings(),r=new Jk;return HN(e,r,new Fz(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function t3(n){if(n._initialized&&!n._terminated)throw new ut(He.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ys;return n._queue.enqueueAndForgetEvenWhileRestricted((0,qe.Z)(function*(){try{yield(t=(0,qe.Z)(function*(r){if(!nd.C())return Promise.resolve();const i=r+"main";yield nd.delete(i)}),function(r){return t.apply(this,arguments)})(WM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class dL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof sm||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&o_("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function MN(n,e,t,r={}){var i;const s=(n=lr(n,ux))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&o_("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,p;if("string"==typeof r.mockUserToken)u=r.mockUserToken,p=Fs.MOCK_USER;else{u=(0,Pn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ut(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Fs(y)}n._authCredentials=new ZV(new WO(u,p))}}(this._delegate,e,t,r)}enableNetwork(){return function r3(n){return function zz(n){return n.asyncQueue.enqueue((0,qe.Z)(function*(){const e=yield NN(n),t=yield aR(n);return e.setNetworkEnabled(!0),function(r){const i=Mt(r);return i._u.delete(0),cx(i)}(t)}))}(qo(n=lr(n,Wi)))}(this._delegate)}disableNetwork(){return function i3(n){return function $z(n){return n.asyncQueue.enqueue((0,qe.Z)(function*(){const e=yield NN(n),t=yield aR(n);return e.setNetworkEnabled(!1),(r=(0,qe.Z)(function*(i){const s=Mt(i);s._u.add(0),yield Tb(s),s.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(qo(n=lr(n,Wi)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,CN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function n3(n){return function(e){const t=new ys;return e.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function xz(n,e){return Lk.apply(this,arguments)}(yield cR(e),t)})),t.promise}(qo(n=lr(n,Wi)))}(this._delegate)}onSnapshotsInSync(e){return function O3(n,e){return function qz(n,e){const t=new qD(e);return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return r=yield Fb(n),i=t,Mt(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return r=yield Fb(n),i=t,void Mt(r).Ru.delete(i);var r,i}))}}(qo(n=lr(n,Wi)),uR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ut("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Bb(this,kN(this._delegate,e))}catch(t){throw gc(t,"collection()","Firestore.collection()")}}doc(e){try{return new gu(this,WD(this._delegate,e))}catch(t){throw gc(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new _c(this,function Nz(n,e){if(n=lr(n,ux),eR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ut(He.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new sa(n,null,(t=e,new xf(vr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw gc(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function N3(n,e,t){n=lr(n,Wi);const r=Object.assign(Object.assign({},P3),t);return function(i){if(i.maxAttempts<1)throw new ut(He.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,u){const p=new ys;return i.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){const y=yield function LN(n){return KD(n).then(e=>e.datastore)}(i);new Hz(i.asyncQueue,y,u,s,p).run()})),p.promise}(qo(n),i=>e(new F3(n,i)),r)}(this._delegate,t=>e(new hL(this,t)))}batch(){return qo(this._delegate),new fL(new aL(this._delegate,e=>Lb(this._delegate,e)))}loadBundle(e){return function o3(n,e){const t=qo(n=lr(n,Wi)),r=new Qz;return function Kz(n,e,t,r){const i=function(s,u){let p;return p="string"==typeof s?(new TextEncoder).encode(s):s,y=function(y,w){if(y instanceof Uint8Array)return ON(y,w);if(y instanceof ArrayBuffer)return ON(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new Lz(y,u);var y}(t,ax(e));n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){!function Pz(n,e,t){const r=Mt(n);var i;(i=(0,qe.Z)(function*(s,u,p){try{const y=yield u.getMetadata();if(yield function($,Y){const Q=Mt($),me=Wo(Y.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",De=>Q.Ns.getBundleMetadata(De,Y.id)).then(De=>!!De&&De.createTime.compareTo(me)>=0)}(s.localStore,y))return yield u.close(),p._completeWith({taskState:"Success",documentsLoaded:($=y).totalDocuments,bytesLoaded:$.totalBytes,totalDocuments:$.totalDocuments,totalBytes:$.totalBytes}),Promise.resolve(new Set);p._updateProgress(fN(y));const w=new fz(y,s.localStore,u.yt);let D=yield u.mc();for(;D;){const $=yield w.Fu(D);$&&p._updateProgress($),D=yield u.mc()}const P=yield w.complete();return yield Df(s,P.Lu,void 0),yield function($,Y){const Q=Mt($);return Q.persistence.runTransaction("Save bundle","readwrite",me=>Q.Ns.saveBundleMetadata(me,Y))}(s.localStore,y),p._completeWith(P.progress),Promise.resolve(P.Bu)}catch(y){return o_("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var $}),function(s,u,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield cR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function s3(n,e){return function Zz(n,e){return n.asyncQueue.enqueue((0,qe.Z)(function*(){return function(t,r){const i=Mt(t);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ns.getNamedQuery(s,r))}(yield ZD(n),e)}))}(qo(n=lr(n,Wi)),e).then(t=>t?new sa(n,null,t.query):null)}(this._delegate,e).then(t=>t?new _c(this,t):null)}}class sS extends yR{constructor(e){super(),this.firestore=e}convertBytes(e){return new gx(new Ih(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return gu.forKey(t,this.firestore,null)}}class hL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new sS(e)}get(e){const t=T_(e);return this._delegate.get(t).then(r=>new _x(this._firestore,new Tf(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=T_(e);return r?(bR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=T_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=T_(e);return this._delegate.delete(t),this}}class fL{constructor(e){this._delegate=e}set(e,t,r){const i=T_(e);return r?(bR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=T_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=T_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class S_{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new mx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yx(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=S_.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new S_(e,new sS(e),t),i.set(t,s)),s}}S_.INSTANCES=new WeakMap;class gu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sS(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ut("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new gu(t,new Gi(t._delegate,r,new Dt(e)))}static forKey(e,t,r){return new gu(t,new Gi(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Bb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Bb(this.firestore,kN(this._delegate,e))}catch(t){throw gc(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Pn.m9)(e))instanceof Gi&&RN(this._delegate,e)}set(e,t){t=bR("DocumentReference.set",t);try{return t?iL(this._delegate,e,t):iL(this._delegate,e)}catch(r){throw gc(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?oL(this._delegate,e):oL(this._delegate,e,t,...r)}catch(i){throw gc(i,"updateDoc()","DocumentReference.update()")}}delete(){return function k3(n){return Lb(lr(n.firestore,Wi),[new bb(n._key,fo.none())])}(this._delegate)}onSnapshot(...e){const t=pL(e),r=mL(e,i=>new _x(this.firestore,new Tf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return sL(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function D3(n){n=lr(n,Gi);const e=lr(n.firestore,Wi),t=qo(e),r=new vm(e);return function Gz(n,e){const t=new ys;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return(r=(0,qe.Z)(function*(i,s,u){try{const p=yield function(y,w){const D=Mt(y);return D.persistence.runTransaction("read document","readonly",P=>D.localDocuments.getDocument(P,w))}(i,s);p.isFoundDocument()?u.resolve(p):p.isNoDocument()?u.resolve(null):u.reject(new ut(He.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=kb(p,`Failed to get document '${s} from cache`);u.reject(y)}}),function(i,s,u){return r.apply(this,arguments)})(yield ZD(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Tf(e,r,n._key,i,new D_(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function S3(n){n=lr(n,Gi);const e=lr(n.firestore,Wi);return BN(qo(e),n._key,{source:"server"}).then(t=>vR(e,n,t))}(this._delegate):function I3(n){n=lr(n,Gi);const e=lr(n.firestore,Wi);return BN(qo(e),n._key).then(t=>vR(e,n,t))}(this._delegate),t.then(r=>new _x(this.firestore,new Tf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new gu(this.firestore,this._delegate.withConverter(e?S_.getInstance(this.firestore,e):null))}}function gc(n,e,t){return n.message=n.message.replace(e,t),n}function pL(n){for(const e of n)if("object"==typeof e&&!ER(e))return e;return{}}function mL(n,e){var t,r;let i;return i=ER(n[0])?n[0]:ER(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class _x{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new gu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return rL(this._delegate,e._delegate)}}class yx extends _x{data(e){const t=this._delegate.data(e);return function qV(n,e){n||Ht()}(void 0!==t),t}}class _c{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sS(e)}where(e,t,r){try{return new _c(this.firestore,_m(this._delegate,function m3(n,e,t){const r=e,i=tS("where",n);return px._create(i,r,t)}(e,t,r)))}catch(i){throw gc(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new _c(this.firestore,_m(this._delegate,function g3(n,e="asc"){const t=e,r=tS("orderBy",n);return _R._create(r,t)}(e,t)))}catch(r){throw gc(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new _c(this.firestore,_m(this._delegate,function _3(n){return SN("limit",n),nS._create("limit",n,"F")}(e)))}catch(t){throw gc(t,"limit()","Query.limit()")}}limitToLast(e){try{return new _c(this.firestore,_m(this._delegate,function y3(n){return SN("limitToLast",n),nS._create("limitToLast",n,"L")}(e)))}catch(t){throw gc(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new _c(this.firestore,_m(this._delegate,function v3(...n){return rS._create("startAt",n,!0)}(...e)))}catch(t){throw gc(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new _c(this.firestore,_m(this._delegate,function b3(...n){return rS._create("startAfter",n,!1)}(...e)))}catch(t){throw gc(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new _c(this.firestore,_m(this._delegate,function E3(...n){return iS._create("endBefore",n,!1)}(...e)))}catch(t){throw gc(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new _c(this.firestore,_m(this._delegate,function w3(...n){return iS._create("endAt",n,!0)}(...e)))}catch(t){throw gc(t,"endAt()","Query.endAt()")}}isEqual(e){return tR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function A3(n){n=lr(n,sa);const e=lr(n.firestore,Wi),t=qo(e),r=new vm(e);return function Wz(n,e){const t=new ys;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return(r=(0,qe.Z)(function*(i,s,u){try{const p=yield UD(i,s,!0),y=new gN(s,p.Hi),w=y.Wu(p.documents),D=y.applyChanges(w,!1);u.resolve(D.snapshot)}catch(p){const y=kb(p,`Failed to execute query '${s} against cache`);u.reject(y)}}),function(i,s,u){return r.apply(this,arguments)})(yield ZD(n),e,t);var r})),t.promise}(t,n._query).then(i=>new ym(e,r,n,i))}(this._delegate):"server"===e?.source?function M3(n){n=lr(n,sa);const e=lr(n.firestore,Wi),t=qo(e),r=new vm(e);return UN(t,n._query,{source:"server"}).then(i=>new ym(e,r,n,i))}(this._delegate):function T3(n){n=lr(n,sa);const e=lr(n.firestore,Wi),t=qo(e),r=new vm(e);return YN(n._query),UN(t,n._query).then(i=>new ym(e,r,n,i))}(this._delegate),t.then(r=>new wR(this.firestore,new ym(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=pL(e),r=mL(e,i=>new wR(this.firestore,new ym(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return sL(this._delegate,t,r)}withConverter(e){return new _c(this.firestore,this._delegate.withConverter(e?S_.getInstance(this.firestore,e):null))}}class q3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new yx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new _c(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new yx(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new q3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new yx(this._firestore,r))})}isEqual(e){return rL(this._delegate,e._delegate)}}class Bb extends _c{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new gu(this.firestore,e):null}doc(e){try{return new gu(this.firestore,void 0===e?WD(this._delegate):WD(this._delegate,e))}catch(t){throw gc(t,"doc()","CollectionReference.doc()")}}add(e){return function R3(n,e){const t=lr(n.firestore,Wi),r=WD(n),i=oS(n.converter,e);return Lb(t,[XD(C_(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,fo.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new gu(this.firestore,t))}isEqual(e){return RN(this._delegate,e._delegate)}withConverter(e){return new Bb(this.firestore,this._delegate.withConverter(e?S_.getInstance(this.firestore,e):null))}}function T_(n){return lr(n,Gi)}class xR{constructor(...e){this._delegate=new Sf(...e)}static documentId(){return new xR(So.keyField().canonicalString())}isEqual(e){return(e=(0,Pn.m9)(e))instanceof Sf&&this._delegate._internalPath.isEqual(e._internalPath)}}class A_{constructor(e){this._delegate=e}static serverTimestamp(){const e=function B3(){return new dR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new A_(e)}static delete(){const e=function L3(){return new dx("deleteField")}();return e._methodName="FieldValue.delete",new A_(e)}static arrayUnion(...e){const t=function U3(...n){return new u3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new A_(t)}static arrayRemove(...e){const t=function V3(...n){return new d3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new A_(t)}static increment(e){const t=function H3(n){return new h3("increment",n)}(e);return t._methodName="FieldValue.increment",new A_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const K3={Firestore:dL,GeoPoint:YD,Timestamp:ho,Blob:gx,Transaction:hL,WriteBatch:fL,DocumentReference:gu,DocumentSnapshot:_x,Query:_c,QueryDocumentSnapshot:yx,QuerySnapshot:wR,CollectionReference:Bb,FieldPath:xR,FieldValue:A_,setLogLevel:function W3(n){!function WV(n){rm.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Y3(n){(function Z3(n,e){n.INTERNAL.registerComponent(new hh.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},K3)))})(n,(e,t)=>new dL(e,t,new G3)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(NI.Z);var aS=R(5363),Q3=R(4707);function gL(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,cf.B)({connector:()=>new Q3.t(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function _L(n,e){return(0,_i.m)(e)?(0,Ur.w)(()=>n,e):(0,Ur.w)(()=>n)}var CR=R(9468),M_=R(259);class vx{constructor(e){return e}}class yL{constructor(){return(0,M_.C6)()}}const IR=new c.OlP("angularfire2._apps"),J3={provide:vx,useFactory:function X3(n){return n&&1===n.length?n[0]:new vx((0,M_.Mq)())},deps:[[new c.FiY,IR]]},e$={provide:yL,deps:[[new c.FiY,IR]]};function t$(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new vx(r)}}let n$=(()=>{class n{constructor(t){(0,M_.KN)("angularfire",rr.q4.full,"core"),(0,M_.KN)("angularfire",rr.q4.full,"app"),(0,M_.KN)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[J3,e$]}),n})();function r$(n,...e){return{ngModule:n$,providers:[{provide:IR,useFactory:t$(n),multi:!0,deps:[c.R0b,c.zs3,rr.HU,...e]}]}}const i$=(0,rr.u3)(M_.ZF,!0),DR=new Map,vL={activated:!1,tokenObservers:[]},o$={initialized:!1,enabled:!1};function aa(n){return DR.get(n)||Object.assign({},vL)}function cS(){return o$}class d${constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,qe.Z)(function*(){t.stop();try{t.pending=new Pn.BH,yield function h$(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Pn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const yc=new Pn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function EL(n){if(!aa(n).activated)throw yc.create("use-before-activation",{appName:n.name})}function AR(n,e){return MR.apply(this,arguments)}function MR(){return MR=(0,qe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const P=yield i.getHeartbeatsHeader();P&&(r["X-Firebase-Client"]=P)}const s={method:"POST",body:JSON.stringify(e),headers:r};let u,p;try{u=yield fetch(n,s)}catch(P){throw yc.create("fetch-network-error",{originalErrorMessage:P?.message})}if(200!==u.status)throw yc.create("fetch-status-error",{httpStatus:u.status});try{p=yield u.json()}catch(P){throw yc.create("fetch-parse-error",{originalErrorMessage:P?.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw yc.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const w=1e3*Number(y[1]),D=Date.now();return{token:p.token,expireTimeMillis:D+w,issuedAtTimeMillis:D}}),MR.apply(this,arguments)}function g$(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const bx="firebase-app-check-store";let dS=null;function xL(){return dS||(dS=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(yc.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(bx,{keyPath:"compositeKey"})}}catch(t){e(yc.create("storage-open",{originalErrorMessage:t?.message}))}}),dS)}function kR(){return kR=(0,qe.Z)(function*(n,e){const r=(yield xL()).transaction(bx,"readwrite"),s=r.objectStore(bx).put({compositeKey:n,value:e});return new Promise((u,p)=>{s.onsuccess=y=>{u()},r.onerror=y=>{var w;p(yc.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),kR.apply(this,arguments)}const Ex=new ed.Yd("@firebase/app-check");function PR(n,e){return(0,Pn.hl)()?function b$(n,e){return function CL(n,e){return kR.apply(this,arguments)}(function DL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ex.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function SL(){return cS().enabled}function TL(){return NR.apply(this,arguments)}function NR(){return NR=(0,qe.Z)(function*(){const n=cS();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),NR.apply(this,arguments)}const D$={error:"UNKNOWN_ERROR"};function S$(n){return Pn.US.encodeString(JSON.stringify(n),!1)}function hS(n){return LR.apply(this,arguments)}function LR(){return LR=(0,qe.Z)(function*(n,e=!1){const t=n.app;EL(t);const r=aa(t);let s,i=r.token;if(i&&!Ub(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(Ub(y)?i=y:yield PR(t,void 0))}if(!e&&i&&Ub(i))return{token:i.token};let p,u=!1;if(SL()){r.exchangeTokenPromise||(r.exchangeTokenPromise=AR(g$(t,yield TL()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const y=yield r.exchangeTokenPromise;return yield PR(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield aa(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Ex.warn(y.message):Ex.error(y),s=y}return i?s?p=Ub(i)?{token:i.token,internalError:s}:kL(s):(p={token:i.token},r.token=i,yield PR(t,i)):p=kL(s),u&&ML(t,p),p}),LR.apply(this,arguments)}function UR(n,e){const t=aa(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function AL(n){const{app:e}=n,t=aa(e);let r=t.tokenRefresher;r||(r=function T$(n){const{app:e}=n;return new d$((0,qe.Z)(function*(){let r;if(r=aa(e).token?yield hS(n,!0):yield hS(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=aa(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ML(n,e){const t=aa(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Ub(n){return n.expireTimeMillis-Date.now()>0}function kL(n){return{token:S$(D$),error:n}}class A${constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=aa(this.app);for(const t of e)UR(this.app,t.next);return Promise.resolve()}}const UL="app-check-internal";!function z$(){(0,tl._registerComponent)(new hh.wA("app-check",n=>function M$(n,e){return new A$(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(UL).initialize()})),(0,tl._registerComponent)(new hh.wA(UL,n=>function k$(n){return{getToken:e=>hS(n,e),addTokenListener:e=>function BR(n,e,t,r){const{app:i}=n,s=aa(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Ub(s.token)){const p=s.token;Promise.resolve().then(()=>{t({token:p.token}),AL(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>AL(n))}(n,"INTERNAL",e),removeTokenListener:e=>UR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,tl.registerVersion)("@firebase/app-check","0.6.0")}();class wx{constructor(){return(0,rr.vb)("app-check")}}typeof window<"u"&&window;const HL=new c.OlP("angularfire2.auth.use-emulator"),jL=new c.OlP("angularfire2.auth.settings"),zL=new c.OlP("angularfire2.auth.tenant-id"),$L=new c.OlP("angularfire2.auth.langugage-code"),GL=new c.OlP("angularfire2.auth.use-device-language"),WL=new c.OlP("angularfire.auth.persistence"),qL=(n,e,t,r,i,s,u,p)=>(0,Rs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,s&&y.useDeviceLanguage(),u)for(const[w,D]of Object.entries(u))y.settings[w]=D;return p&&y.setPersistence(p),y},[t,r,i,s,u,p]);let pS=(()=>{class n{constructor(t,r,i,s,u,p,y,w,D,P,$,Y){const Q=new On.x,me=(0,gt.of)(void 0).pipe((0,aS.Q)(u.outsideAngular),(0,Ur.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,9568)))),(0,vt.U)(()=>(0,Rs.on)(t,s,r)),(0,vt.U)(De=>qL(De,s,p,w,D,P,y,$)),gL({bufferSize:1,refCount:!1}));if(Hs(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,gt.of)(null);else{me.pipe(uc()).subscribe();const dt=me.pipe((0,Ur.w)(xt=>xt.getRedirectResult().then(Jt=>Jt,()=>null)),rr.iC,gL({bufferSize:1,refCount:!1})),Et=me.pipe((0,Ur.w)(xt=>new Zr.y(Jt=>({unsubscribe:s.runOutsideAngular(()=>xt.onAuthStateChanged(nn=>Jt.next(nn),nn=>Jt.error(nn),()=>Jt.complete()))})))),It=me.pipe((0,Ur.w)(xt=>new Zr.y(Jt=>({unsubscribe:s.runOutsideAngular(()=>xt.onIdTokenChanged(nn=>Jt.next(nn),nn=>Jt.error(nn),()=>Jt.complete()))}))));this.authState=dt.pipe(_L(Et),(0,CR.R)(u.outsideAngular),(0,aS.Q)(u.insideAngular)),this.user=dt.pipe(_L(It),(0,CR.R)(u.outsideAngular),(0,aS.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,Ur.w)(xt=>xt?(0,Mr.D)(xt.getIdToken()):(0,gt.of)(null))),this.idTokenResult=this.user.pipe((0,Ur.w)(xt=>xt?(0,Mr.D)(xt.getIdTokenResult()):(0,gt.of)(null))),this.credential=(0,su.T)(dt,Q,this.authState.pipe((0,Yr.h)(xt=>!xt))).pipe((0,vt.U)(xt=>xt?.user?xt:null),(0,CR.R)(u.outsideAngular),(0,aS.Q)(u.insideAngular))}return(0,Rs.pX)(this,me,s,{spy:{apply:(De,dt,Et)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&Et.then(It=>Q.next(It))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Rs.Dh),c.LFG(Rs.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(rr.HU),c.LFG(HL,8),c.LFG(jL,8),c.LFG(zL,8),c.LFG($L,8),c.LFG(GL,8),c.LFG(WL,8),c.LFG(wx,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Z$=(()=>{class n{constructor(){qp.Z.registerVersion("angularfire",rr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[pS]}),n})();function KL(n,e){return function Y$(n,e=Av.z){return new Zr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function $R(n,e){return KL(n,e).pipe((0,vt.U)(t=>({payload:t,type:"query"})))}function mS(n,e){return $R(n,e).pipe(Ys(void 0),Hg(),(0,vt.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,p)=>{const y=i.find(D=>D.doc.ref.isEqual(u.ref)),w=t?.payload.docs.find(D=>D.ref.isEqual(u.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(u.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:u}})}),s}))}function ZL(n,e,t){return mS(n,t).pipe((0,sh.R)((r,i)=>function X$(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function J$(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return GR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return GR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return GR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),(0,tf.x)(),(0,vt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function GR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function YL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class QL{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=mS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,vt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Ys(void 0),Hg(),(0,Yr.h)(([r,i])=>i.length>0||!r),(0,vt.U)(([r,i])=>i),rr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,sh.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=YL(e);return ZL(this.query,t,this.afs.schedulers.outsideAngular).pipe(rr.iC)}valueChanges(e={}){return $R(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),rr.iC)}get(e){return(0,Mr.D)(this.query.get(e)).pipe(rr.iC)}add(e){return this.ref.add(e)}doc(e){return new XL(this.ref.doc(e),this.afs)}}class XL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=t2(r,t);return new QL(i,s,this.afs)}snapshotChanges(){return function Q$(n,e){return KL(n,e).pipe(Ys(void 0),Hg(),(0,vt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(rr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,vt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Mr.D)(this.ref.get(e)).pipe(rr.iC)}}class eG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?mS(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,Yr.h)(t=>t.length>0),rr.iC):mS(this.query,this.afs.schedulers.outsideAngular).pipe(rr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,sh.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=YL(e);return ZL(this.query,t,this.afs.schedulers.outsideAngular).pipe(rr.iC)}valueChanges(e={}){return $R(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),rr.iC)}get(e){return(0,Mr.D)(this.query.get(e)).pipe(rr.iC)}}const JL=new c.OlP("angularfire2.enableFirestorePersistence"),e2=new c.OlP("angularfire2.firestore.persistenceSettings"),tG=new c.OlP("angularfire2.firestore.settings"),nG=new c.OlP("angularfire2.firestore.use-emulator");function t2(n,e=(t=>t)){return{query:e(n),ref:n}}let n2=(()=>{class n{constructor(t,r,i,s,u,p,y,w,D,P,$,Y,Q,me,De,dt,Et){this.schedulers=y;const It=(0,Rs.on)(t,p,r),xt=D;P&&qL(It,p,$,Q,me,De,Y,dt),[this.firestore,this.persistenceEnabled$]=(0,Rs.cc)(`${It.name}.firestore`,"AngularFirestore",It.name,()=>{const Jt=p.runOutsideAngular(()=>It.firestore());if(s&&Jt.settings(s),xt&&Jt.useEmulator(...xt),i&&!Hs(u)){const nn=()=>{try{return(0,Mr.D)(Jt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Xn){return typeof console<"u"&&console.warn(Xn),(0,gt.of)(!1)}};return[Jt,p.runOutsideAngular(nn)]}return[Jt,(0,gt.of)(!1)]},[s,xt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:u}=t2(i,r),p=this.schedulers.ngZone.run(()=>s);return new QL(p,u,this)}collectionGroup(t,r){const i=r||(u=>u),s=this.firestore.collectionGroup(t);return new eG(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new XL(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Rs.Dh),c.LFG(Rs.xv,8),c.LFG(JL,8),c.LFG(tG,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(rr.HU),c.LFG(e2,8),c.LFG(nG,8),c.LFG(pS,8),c.LFG(HL,8),c.LFG(jL,8),c.LFG(zL,8),c.LFG($L,8),c.LFG(GL,8),c.LFG(WL,8),c.LFG(wx,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),rG=(()=>{class n{constructor(){qp.Z.registerVersion("angularfire",rr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:JL,useValue:!0},{provide:e2,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[n2]}),n})(),r2=(()=>{class n{constructor(t,r,i,s,u,p){this._store=t,this._accountService=r,this._userService=i,this._angularFirestore=s,this._angularFireAuth=u,this.router=p,this.employeeEmail=""}get user(){if(this.isLoggedIn)return JSON.parse(localStorage.getItem("user"));throw new Error("No found user")}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}get nameLogged(){return this.isLoggedIn?this.user.displayName:""}onLogin(){return this.authLogin(new qp.Z.auth.GoogleAuthProvider)}authLogin(t){return this._angularFireAuth.signInWithPopup(t).then(r=>(console.log(r.user),this.setUserData(r.user),r.user)).catch(r=>{window.alert(r)})}setUserData(t){return this._angularFirestore.doc(`user/${t.uid}`).set({id:t.uid,name:t.displayName,lastname:"",identification:"",email:t.email,phone:"",position:"",active:!1,account:{id:11,name:"SURA",identification:"suraIdentification",active:!1}},{merge:!0})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yr.yh),c.LFG(Ug),c.LFG(Vg),c.LFG(n2),c.LFG(pS),c.LFG(zo))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iG(n,e){1&n&&(c.TgZ(0,"span",6),c._uU(1,"Cuenta no encontrada en la base de datos comuniquese con el administrador"),c.qZA())}const oG=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"auth/login",component:(()=>{class n{constructor(t,r,i,s){this._store=t,this._router=r,this._authService=i,this._userService=s,this.error=!1}get googleIconSrc(){return"../../../../../assets/google.png"}loginFirebase(){this._authService.onLogin().then(t=>{this.onLoginSuccess(t)})}onLoginSuccess(t){const i=t.email;this._userService.getUserByEmail(i).subscribe({next:s=>{this._authService.employeeEmail=i,this._store.dispatch(qE({employeeEmail:i})),console.log(),this._router.navigateByUrl("/user/home")},error:s=>{this.error=!0}}),console.log("\u{1f680} ~ file: login.component.ts:44 ~ LoginComponent ~ employee ~ employee",null)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(yr.yh),c.Y36(zo),c.Y36(r2),c.Y36(Vg))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:8,vars:2,consts:[[1,"login","banner"],[1,"banner-title"],["class","error",4,"ngIf"],[1,"google-login-button",3,"click"],["width","30px","alt","google_icon",1,"google-icon",3,"src"],[1,"login-message"],[1,"error"]],template:function(t,r){1&t&&(c.TgZ(0,"main",0)(1,"h1",1),c._uU(2," Ingresa con tu cuenta de correo corporativa de Sofka. "),c.qZA(),c.YNc(3,iG,2,0,"span",2),c.TgZ(4,"button",3),c.NdJ("click",function(){return r.loginFirebase()}),c._UZ(5,"img",4),c.TgZ(6,"span",5),c._uU(7,"Continuar con Google"),c.qZA()()()),2&t&&(c.xp6(3),c.Q6J("ngIf",r.error),c.xp6(2),c.Q6J("src",r.googleIconSrc,c.LSH))},dependencies:[Dn],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0 10px;--google-blue-color: rgb(66, 133, 244);--google-white-color: white}.google-login-button[_ngcontent-%COMP%]{width:100%;max-width:250px;display:flex;justify-content:flex-start;align-items:center;gap:20px;border:none;padding:10px 15px;margin-top:20px;font-weight:700;color:var(--google-white-color);background-color:var(--google-blue-color);border-radius:5px;box-shadow:5px 5px 35px #0000004d;cursor:pointer;transition:.2s scale}.google-icon[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;padding:5px;background-color:var(--google-white-color)}.error[_ngcontent-%COMP%]{color:brown;text-align:center}@media (hover: hover){.google-login-button[_ngcontent-%COMP%]:hover{scale:1.05}}"]}),n})()}];let sG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ta.forRoot(oG),ta]}),n})(),aG=(()=>{class n{constructor(){this.title="assessment"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[Up]}),n})(),o2=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),k_=(()=>{class n extends o2{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const _u=new c.OlP("NgValueAccessor"),lG={provide:_u,useExisting:(0,c.Gpc)(()=>xx),multi:!0},dG=new c.OlP("CompositionEventMode");let xx=(()=>{class n extends o2{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uG(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(dG,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[c._Bn([lG]),c.qOj]}),n})();function Em(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function a2(n){return null!=n&&"number"==typeof n.length}const ca=new c.OlP("NgValidators"),wm=new c.OlP("NgAsyncValidators"),fG=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Cx{static min(e){return function c2(n){return e=>{if(Em(e.value)||Em(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function l2(n){return e=>{if(Em(e.value)||Em(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function u2(n){return Em(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function d2(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function h2(n){return Em(n.value)||fG.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function f2(n){return e=>Em(e.value)||!a2(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function p2(n){return e=>a2(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function m2(n){if(!n)return gS;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Em(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return E2(e)}static composeAsync(e){return w2(e)}}function gS(n){return null}function g2(n){return null!=n}function _2(n){return(0,c.QGY)(n)?(0,Mr.D)(n):n}function y2(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function v2(n,e){return e.map(t=>t(n))}function b2(n){return n.map(e=>function pG(n){return!n.validate}(e)?e:t=>e.validate(t))}function E2(n){if(!n)return null;const e=n.filter(g2);return 0==e.length?null:function(t){return y2(v2(t,e))}}function WR(n){return null!=n?E2(b2(n)):null}function w2(n){if(!n)return null;const e=n.filter(g2);return 0==e.length?null:function(t){return Gy(v2(t,e).map(_2)).pipe((0,vt.U)(y2))}}function qR(n){return null!=n?w2(b2(n)):null}function x2(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function C2(n){return n._rawValidators}function I2(n){return n._rawAsyncValidators}function KR(n){return n?Array.isArray(n)?n:[n]:[]}function _S(n,e){return Array.isArray(n)?n.includes(e):n===e}function D2(n,e){const t=KR(e);return KR(n).forEach(i=>{_S(t,i)||t.push(i)}),t}function S2(n,e){return KR(e).filter(t=>!_S(n,t))}class T2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class vc extends T2{get formDirective(){return null}get path(){return null}}class Dh extends T2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class A2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Vb=(()=>{class n extends A2{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Dh,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),M2=(()=>{class n extends A2{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(vc,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();const Ix="VALID",vS="INVALID",Hb="PENDING",Dx="DISABLED";function XR(n){return(bS(n)?n.validators:n)||null}function JR(n,e){return(bS(e)?e.asyncValidators:n)||null}function bS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class P2{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ix}get invalid(){return this.status===vS}get pending(){return this.status==Hb}get disabled(){return this.status===Dx}get enabled(){return this.status!==Dx}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(D2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(D2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(S2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(S2(e,this._rawAsyncValidators))}hasValidator(e){return _S(this._rawValidators,e)}hasAsyncValidator(e){return _S(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Hb,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Dx,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ix,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ix||this.status===Hb)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dx:Ix}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Hb,this._hasOwnPendingAsyncValidator=!0;const t=_2(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Dx:this.errors?vS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hb)?Hb:this._anyControlsHaveStatus(vS)?vS:Ix}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function EG(n){return Array.isArray(n)?WR(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function wG(n){return Array.isArray(n)?qR(n):n||null}(this._rawAsyncValidators)}}class ES extends P2{constructor(e,t,r){super(XR(t),JR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function O2(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new c.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function R2(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[t])throw new c.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const jb=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>wS}),wS="always";function Sx(n,e,t=wS){e1(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function IG(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&F2(n,e)})}(n,e),function SG(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function DG(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&F2(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function CG(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function CS(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),DS(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function IS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function e1(n,e){const t=C2(n);null!==e.validator?n.setValidators(x2(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=I2(n);null!==e.asyncValidator?n.setAsyncValidators(x2(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();IS(e._rawValidators,i),IS(e._rawAsyncValidators,i)}function DS(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=C2(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(u=>u!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=I2(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(u=>u!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return IS(e._rawValidators,r),IS(e._rawAsyncValidators,r),t}function F2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function N2(n,e){e1(n,e)}function L2(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const RG={provide:vc,useExisting:(0,c.Gpc)(()=>Ax)},Tx=(()=>Promise.resolve())();let Ax=(()=>{class n extends vc{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new ES({},WR(t),qR(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Tx.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Sx(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Tx.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Tx.then(()=>{const r=this._findContainer(t.path),i=new ES({});N2(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Tx.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Tx.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,L2(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ca,10),c.Y36(wm,10),c.Y36(jb,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([RG]),c.qOj]}),n})();function B2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function U2(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Af=class extends P2{constructor(e=null,t,r){super(XR(t),JR(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bS(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=U2(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){B2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){B2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){U2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let $2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),W2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const o1=new c.OlP("NgModelWithFormControlWarning"),VG={provide:Dh,useExisting:(0,c.Gpc)(()=>R_)};let R_=(()=>{class n extends Dh{constructor(t,r,i,s,u){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=u,this.update=new c.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=function r1(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===xx?t=s:function MG(n){return Object.getPrototypeOf(n.constructor)===k_}(s)?r=s:i=s}),i||r||t||null}(0,i)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&CS(r,this,!1),Sx(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function n1(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)})(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&CS(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(ca,10),c.Y36(wm,10),c.Y36(_u,10),c.Y36(o1,8),c.Y36(jb,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([VG]),c.qOj,c.TTD]}),n})();const HG={provide:vc,useExisting:(0,c.Gpc)(()=>zb)};let zb=(()=>{class n extends vc{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(DS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Sx(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){CS(t.control||null,t,!1),function kG(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,L2(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(CS(r||null,t),(n=>n instanceof Af)(i)&&(Sx(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);N2(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function TG(n,e){return DS(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){e1(this.form,this),this._oldForm&&DS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ca,10),c.Y36(wm,10),c.Y36(jb,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([HG]),c.qOj,c.TTD]}),n})(),aB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[W2]}),n})(),o6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:jb,useValue:t.callSetDisabledState??wS}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[aB]}),n})(),cB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:o1,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:jb,useValue:t.callSetDisabledState??wS}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[aB]}),n})();class lB{}class a6{}const Mf="*";function h1(n,e){return{type:7,name:n,definitions:e,options:{}}}function f1(n,e=null){return{type:4,styles:e,timings:n}}function uB(n,e=null){return{type:2,steps:n,options:e}}function P_(n){return{type:6,styles:n,offset:null}}function dB(n,e,t){return{type:0,name:n,styles:e,options:t}}function SS(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function c6(n=null){return{type:9,options:n}}function l6(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function hB(n){Promise.resolve().then(n)}class Mx{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){hB(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class fB{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?hB(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==s&&this._onFinish()}),u.onDestroy(()=>{++r==s&&this._onDestroy()}),u.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,p)=>Math.max(u,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function pB(n){return new c.vHH(3e3,!1)}function $6(){return typeof window<"u"&&typeof window.document<"u"}function m1(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function xm(n){switch(n.length){case 0:return new Mx;case 1:return n[0];default:return new fB(n)}}function mB(n,e,t,r,i=new Map,s=new Map){const u=[],p=[];let y=-1,w=null;if(r.forEach(D=>{const P=D.get("offset"),$=P==y,Y=$&&w||new Map;D.forEach((Q,me)=>{let De=me,dt=Q;if("offset"!==me)switch(De=e.normalizePropertyName(De,u),dt){case"!":dt=i.get(me);break;case Mf:dt=s.get(me);break;default:dt=e.normalizeStyleValue(me,De,dt,u)}Y.set(De,dt)}),$||p.push(Y),w=Y,y=P}),u.length)throw function R6(n){return new c.vHH(3502,!1)}();return p}function g1(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&_1(t,"start",n)));break;case"done":n.onDone(()=>r(t&&_1(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&_1(t,"destroy",n)))}}function _1(n,e,t){const s=y1(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(s._data=u),s}function y1(n,e,t,r,i="",s=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!u}}function Tl(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function gB(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let v1=(n,e)=>!1,_B=(n,e,t)=>[],yB=null;function b1(n){const e=n.parentNode||n.host;return e===yB?null:e}(m1()||typeof Element<"u")&&($6()?(yB=(()=>document.documentElement)(),v1=(n,e)=>{for(;e;){if(e===n)return!0;e=b1(e)}return!1}):v1=(n,e)=>n.contains(e),_B=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let F_=null,vB=!1;const bB=v1,EB=_B;let wB=(()=>{class n{validateStyleProperty(t){return function W6(n){F_||(F_=function q6(){return typeof document<"u"?document.body:null}()||{},vB=!!F_.style&&"WebkitAppearance"in F_.style);let e=!0;return F_.style&&!function G6(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in F_.style,!e&&vB&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in F_.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return bB(t,r)}getParentElement(t){return b1(t)}query(t,r,i){return EB(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,u,p=[],y){return new Mx(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),E1=(()=>{class n{}return n.NOOP=new wB,n})();const w1="ng-enter",TS="ng-leave",AS="ng-trigger",MS=".ng-trigger",CB="ng-animating",x1=".ng-animating";function kf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:C1(parseFloat(e[1]),e[2])}function C1(n,e){return"s"===e?1e3*n:n}function kS(n,e,t){return n.hasOwnProperty("duration")?n:function Y6(n,e,t){let i,s=0,u="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(pB()),{duration:0,delay:0,easing:""};i=C1(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(s=C1(parseFloat(y),p[4]));const w=p[5];w&&(u=w)}else i=n;if(!t){let p=!1,y=e.length;i<0&&(e.push(function u6(){return new c.vHH(3100,!1)}()),p=!0),s<0&&(e.push(function d6(){return new c.vHH(3101,!1)}()),p=!0),p&&e.splice(y,0,pB())}return{duration:i,delay:s,easing:u}}(n,e,t)}function kx(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function IB(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Cm(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function SB(n,e,t){return t?e+":"+t+";":""}function TB(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=SB(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=SB(0,e4(t),n.style[t]));n.setAttribute("style",e)}function Sh(n,e,t){n.style&&(e.forEach((r,i)=>{const s=D1(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),m1()&&TB(n))}function N_(n,e){n.style&&(e.forEach((t,r)=>{const i=D1(r);n.style[i]=""}),m1()&&TB(n))}function Rx(n){return Array.isArray(n)?1==n.length?n[0]:uB(n):n}const I1=new RegExp("{{\\s*(.+?)\\s*}}","g");function AB(n){let e=[];if("string"==typeof n){let t;for(;t=I1.exec(n);)e.push(t[1]);I1.lastIndex=0}return e}function Ox(n,e,t){const r=n.toString(),i=r.replace(I1,(s,u)=>{let p=e[u];return null==p&&(t.push(function f6(n){return new c.vHH(3003,!1)}()),p=""),p.toString()});return i==r?n:i}function RS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const J6=/-+([a-z0-9])/g;function D1(n){return n.replace(J6,(...e)=>e[1].toUpperCase())}function e4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Al(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function p6(n){return new c.vHH(3004,!1)}()}}function MB(n,e){return window.getComputedStyle(n)[e]}function s4(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function a4(n,e,t){if(":"==n[0]){const y=function c4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function T6(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function S6(n){return new c.vHH(3015,!1)}()),e;const i=r[1],s=r[2],u=r[3];e.push(kB(i,u));"<"==s[0]&&!("*"==i&&"*"==u)&&e.push(kB(u,i))}(r,t,e)):t.push(n),t}const NS=new Set(["true","1"]),LS=new Set(["false","0"]);function kB(n,e){const t=NS.has(n)||LS.has(n),r=NS.has(e)||LS.has(e);return(i,s)=>{let u="*"==n||n==i,p="*"==e||e==s;return!u&&t&&"boolean"==typeof i&&(u=i?NS.has(n):LS.has(n)),!p&&r&&"boolean"==typeof s&&(p=s?NS.has(e):LS.has(e)),u&&p}}const l4=new RegExp("s*:selfs*,?","g");function S1(n,e,t,r){return new u4(n).build(e,t,r)}class u4{constructor(e){this._driver=e}build(e,t,r){const i=new f4(t);return this._resetContextStyleTimingState(i),Al(this,Rx(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function g6(){return new c.vHH(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,w=y.name;w.toString().split(/\s*,\s*/).forEach(D=>{y.name=D,s.push(this.visitState(y,t))}),y.name=w}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,i+=y.depCount,u.push(y)}else t.errors.push(function _6(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,u=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(y=>{AB(y).forEach(w=>{u.hasOwnProperty(w)||s.add(w)})})}),s.size&&(RS(s.values()),t.errors.push(function y6(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Al(this,Rx(e.animation),t);return{type:1,matchers:s4(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:L_(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Al(this,r,t)),options:L_(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(u=>{t.currentTime=r;const p=Al(this,u,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:s,options:L_(e.options)}}visitAnimate(e,t){const r=function m4(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return T1(kS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=T1(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=kS(t,e);return T1(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:P_({});if(5==s.type)i=this.visitKeyframes(s,t);else{let u=e.styles,p=!1;if(!u){p=!0;const w={};r.easing&&(w.easing=r.easing),u=P_(w)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(u,t);y.isEmptyStep=p,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of i)"string"==typeof p?p===Mf?r.push(p):t.errors.push(new c.vHH(3002,!1)):r.push(IB(p));let s=!1,u=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(u=p.get("easing"),p.delete("easing")),!s))for(let y of p.values())if(y.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((p,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),D=w.get(y);let P=!0;D&&(s!=i&&s>=D.startTime&&i<=D.endTime&&(t.errors.push(function b6(n,e,t,r,i){return new c.vHH(3010,!1)}()),P=!1),s=D.startTime),P&&w.set(y,{startTime:s,endTime:i}),t.options&&function X6(n,e,t){const r=e.params||{},i=AB(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function h6(n){return new c.vHH(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function E6(){return new c.vHH(3011,!1)}()),r;let s=0;const u=[];let p=!1,y=!1,w=0;const D=e.steps.map(dt=>{const Et=this._makeStyleAst(dt,t);let It=null!=Et.offset?Et.offset:function p4(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Et.styles),xt=0;return null!=It&&(s++,xt=Et.offset=It),y=y||xt<0||xt>1,p=p||xt<w,w=xt,u.push(xt),Et});y&&t.errors.push(function w6(){return new c.vHH(3012,!1)}()),p&&t.errors.push(function x6(){return new c.vHH(3200,!1)}());const P=e.steps.length;let $=0;s>0&&s<P?t.errors.push(function C6(){return new c.vHH(3202,!1)}()):0==s&&($=1/(P-1));const Y=P-1,Q=t.currentTime,me=t.currentAnimateTimings,De=me.duration;return D.forEach((dt,Et)=>{const It=$>0?Et==Y?1:$*Et:u[Et],xt=It*De;t.currentTime=Q+me.delay+xt,me.duration=xt,this._validateStyleAst(dt,t),dt.offset=It,r.styles.push(dt)}),r}visitReference(e,t){return{type:8,animation:Al(this,Rx(e.animation),t),options:L_(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:L_(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:L_(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,u]=function d4(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(l4,"")),n=n.replace(/@\*/g,MS).replace(/@\w+/g,t=>MS+"-"+t.slice(1)).replace(/:animating/g,x1),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Tl(t.collectedStyles,t.currentQuerySelector,new Map);const p=Al(this,Rx(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:p,originalSelector:e.selector,options:L_(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function I6(){return new c.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:kS(e.timings,t.errors,!0);return{type:12,animation:Al(this,Rx(e.animation),t),timings:r,options:null}}}class f4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function L_(n){return n?(n=kx(n)).params&&(n.params=function h4(n){return n?kx(n):null}(n.params)):n={},n}function T1(n,e,t){return{duration:n,delay:e,easing:t}}function A1(n,e,t,r,i,s,u=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:u,subTimeline:p}}class BS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const y4=new RegExp(":enter","g"),b4=new RegExp(":leave","g");function M1(n,e,t,r,i,s=new Map,u=new Map,p,y,w=[]){return(new E4).buildKeyframes(n,e,t,r,i,s,u,p,y,w)}class E4{buildKeyframes(e,t,r,i,s,u,p,y,w,D=[]){w=w||new BS;const P=new k1(e,t,w,i,s,D,[]);P.options=y;const $=y.delay?kf(y.delay):0;P.currentTimeline.delayNextStep($),P.currentTimeline.setStyles([u],null,P.errors,y),Al(this,r,P);const Y=P.timelines.filter(Q=>Q.containsAnimation());if(Y.length&&p.size){let Q;for(let me=Y.length-1;me>=0;me--){const De=Y[me];if(De.element===t){Q=De;break}}Q&&!Q.allowOnlyTimelineStyles()&&Q.setStyles([p],null,P.errors,y)}return Y.length?Y.map(Q=>Q.buildKeyframes()):[A1(t,[],[],[],0,$,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);s!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const u="number"==typeof s?s:kf(Ox(s,i?.params??{},t.errors));r.delayNextStep(u)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const u=null!=r.duration?kf(r.duration):null,p=null!=r.delay?kf(r.delay):null;return 0!==u&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,u,p);s=Math.max(s,w.duration+w.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Al(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=US);const u=kf(s.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Al(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?kf(e.options.delay):0;e.steps.forEach(u=>{const p=t.createSubContext(e.options);s&&p.delayNextStep(s),Al(this,u,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return kS(t.params?Ox(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*s),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?kf(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=US);let u=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((w,D)=>{t.currentQueryIndex=D;const P=t.createSubContext(e.options,w);s&&P.delayNextStep(s),w===t.element&&(y=P.currentTimeline),Al(this,e.animation,P),P.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,P.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,u=Math.abs(s.duration),p=u*(t.currentQueryTotal-1);let y=u*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const D=t.currentTimeline;y&&D.delayNextStep(y);const P=D.currentTime;Al(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-P+(i.startTime-r.currentTimeline.startTime)}}const US={};class k1{constructor(e,t,r,i,s,u,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=u,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=US,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new VS(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=kf(r.duration)),null!=r.delay&&(i.delay=kf(r.delay));const s=r.params;if(s){let u=i.params;u||(u=this.options.params={}),Object.keys(s).forEach(p=>{(!t||!u.hasOwnProperty(p))&&(u[p]=Ox(s[p],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new k1(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=US,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new w4(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,u){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(y4,"."+this._enterClassName)).replace(b4,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),p.push(...w)}return!s&&0==p.length&&u.push(function D6(n){return new c.vHH(3014,!1)}()),p}}class VS{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new VS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Mf),this._currentKeyframe.set(t,Mf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},u=function x4(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Mf)}else Cm(i,t)}),t}(e,this._globalTimelineStyles);for(let[p,y]of u){const w=Ox(y,s,r);this._pendingStyles.set(p,w),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??Mf),this._updateStyle(p,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,y)=>{const w=Cm(p,new Map,this._backFill);w.forEach((D,P)=>{"!"===D?e.add(P):D===Mf&&t.add(P)}),r||w.set("offset",y/this.duration),i.push(w)});const s=e.size?RS(e.values()):[],u=t.size?RS(t.values()):[];if(r){const p=i[0],y=new Map(p);p.set("offset",0),y.set("offset",1),i=[p,y]}return A1(this.element,i,s,u,this.duration,this.startTime,this.easing,!1)}}class w4 extends VS{constructor(e,t,r,i,s,u,p=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=p,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],u=r+t,p=t/u,y=Cm(e[0]);y.set("offset",0),s.push(y);const w=Cm(e[0]);w.set("offset",PB(p)),s.push(w);const D=e.length-1;for(let P=1;P<=D;P++){let $=Cm(e[P]);const Y=$.get("offset");$.set("offset",PB((t+Y*r)/u)),s.push($)}r=u,t=0,i="",e=s}return A1(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function PB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class R1{}const C4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class I4 extends R1{normalizePropertyName(e,t){return D1(e)}normalizeStyleValue(e,t,r,i){let s="";const u=r.toString().trim();if(C4.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function m6(n,e){return new c.vHH(3005,!1)}())}return u+s}}function FB(n,e,t,r,i,s,u,p,y,w,D,P,$){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:u,timelines:p,queriedElements:y,preStyleProps:w,postStyleProps:D,totalTime:P,errors:$}}const O1={};class NB{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function D4(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,u,p,y,w,D){const P=[],$=this.ast.options&&this.ast.options.params||O1,Q=this.buildStyles(r,p&&p.params||O1,P),me=y&&y.params||O1,De=this.buildStyles(i,me,P),dt=new Set,Et=new Map,It=new Map,xt="void"===i,Jt={params:S4(me,$),delay:this.ast.options?.delay},nn=D?[]:M1(e,t,this.ast.animation,s,u,Q,De,Jt,w,P);let Xn=0;if(nn.forEach(kl=>{Xn=Math.max(kl.duration+kl.delay,Xn)}),P.length)return FB(t,this._triggerName,r,i,xt,Q,De,[],[],Et,It,Xn,P);nn.forEach(kl=>{const Pf=kl.element,BV=Tl(Et,Pf,new Set);kl.preStyleProps.forEach(V_=>BV.add(V_));const jx=Tl(It,Pf,new Set);kl.postStyleProps.forEach(V_=>jx.add(V_)),Pf!==t&&dt.add(Pf)});const Ko=RS(dt.values());return FB(t,this._triggerName,r,i,xt,Q,De,nn,Ko,Et,It,Xn)}}function S4(n,e){const t=kx(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class T4{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=kx(this.defaultParams);return Object.keys(e).forEach(s=>{const u=e[s];null!==u&&(i[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,p)=>{u&&(u=Ox(u,i,t));const y=this.normalizer.normalizePropertyName(p,t);u=this.normalizer.normalizeStyleValue(p,y,u,t),r.set(p,u)})}),r}}class M4{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new T4(i.style,i.options&&i.options.params||{},r))}),LB(this.states,"true","1"),LB(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new NB(e,i,this.states))}),this.fallbackTransition=function k4(n,e,t){return new NB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function LB(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const R4=new BS;class O4{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=S1(this._driver,t,r,[]);if(r.length)throw function O6(n){return new c.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=mB(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let u;const p=new Map;if(s?(u=M1(this._driver,t,s,w1,TS,new Map,new Map,r,R4,i),u.forEach(D=>{const P=Tl(p,D.element,new Map);D.postStyleProps.forEach($=>P.set($,null))})):(i.push(function P6(){return new c.vHH(3300,!1)}()),u=[]),i.length)throw function F6(n){return new c.vHH(3504,!1)}();p.forEach((D,P)=>{D.forEach(($,Y)=>{D.set(Y,this._driver.computeStyle(P,Y,Mf))})});const w=xm(u.map(D=>{const P=p.get(D.element);return this._buildPlayer(D,new Map,P)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function N6(n){return new c.vHH(3301,!1)}();return t}listen(e,t,r,i){const s=y1(t,"","","");return g1(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const BB="ng-animate-queued",P1="ng-animate-disabled",B4=[],UB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},U4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yu="__ng_removed";class F1{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function z4(n){return n??null}(r?e.value:e),r){const s=kx(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Px="void",N1=new F1(Px);class V4{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,vu(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function L6(n,e){return new c.vHH(3302,!1)}();if(null==r||0==r.length)throw function B6(n){return new c.vHH(3303,!1)}();if(!function $4(n){return"start"==n||"done"==n}(r))throw function U6(n,e){return new c.vHH(3400,!1)}();const s=Tl(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};s.push(u);const p=Tl(this._engine.statesByElement,e,new Map);return p.has(t)||(vu(e,AS),vu(e,AS+"-"+t),p.set(t,N1)),()=>{this._engine.afterFlush(()=>{const y=s.indexOf(u);y>=0&&s.splice(y,1),this._triggers.has(t)||p.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function V6(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),u=new L1(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(vu(e,AS),vu(e,AS+"-"+t),this._engine.statesByElement.set(e,p=new Map));let y=p.get(t);const w=new F1(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),p.set(t,w),y||(y=N1),w.value!==Px&&y.value===w.value){if(!function q4(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(y.params,w.params)){const me=[],De=s.matchStyles(y.value,y.params,me),dt=s.matchStyles(w.value,w.params,me);me.length?this._engine.reportError(me):this._engine.afterFlush(()=>{N_(e,De),Sh(e,dt)})}return}const $=Tl(this._engine.playersByElement,e,[]);$.forEach(me=>{me.namespaceId==this.id&&me.triggerName==t&&me.queued&&me.destroy()});let Y=s.matchTransition(y.value,w.value,e,w.params),Q=!1;if(!Y){if(!i)return;Y=s.fallbackTransition,Q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Y,fromState:y,toState:w,player:u,isFallbackTransition:Q}),Q||(vu(e,BB),u.onStart(()=>{$b(e,BB)})),u.onDone(()=>{let me=this.players.indexOf(u);me>=0&&this.players.splice(me,1);const De=this._engine.playersByElement.get(e);if(De){let dt=De.indexOf(u);dt>=0&&De.splice(dt,1)}}),this.players.push(u),$.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,MS,!0);r.forEach(i=>{if(i[yu])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),u=new Map;if(s){const p=[];if(s.forEach((y,w)=>{if(u.set(w,y.value),this._triggers.has(w)){const D=this.trigger(e,w,Px,i);D&&p.push(D)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&xm(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const u=s.name;if(i.has(u))return;i.add(u);const y=this._triggers.get(u).fallbackTransition,w=r.get(u)||N1,D=new F1(Px),P=new L1(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:y,fromState:w,toState:D,player:P,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[yu];(!s||s===UB)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){vu(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,u=this._elementListeners.get(s);u&&u.forEach(p=>{if(p.name==r.triggerName){const y=y1(s,r.triggerName,r.fromState.value,r.toState.value);y._data=e,g1(r.player,p.phase,y,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class H4{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new V4(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,p=this.driver.getParentElement(t);for(;p;){const y=i.get(p);if(y){const w=r.indexOf(y);r.splice(w+1,0,e),u=!0;break}p=this.driver.getParentElement(p)}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(HS(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!HS(t))return;const s=t[yu];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),vu(e,P1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),$b(e,P1))}removeNode(e,t,r,i){if(HS(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[yu]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return HS(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,MS,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,x1,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return xm(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[yu];if(t&&t.setForRemoval){if(e[yu]=UB,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(P1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)vu(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?xm(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function H6(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new BS,i=[],s=new Map,u=[],p=new Map,y=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(Yt=>{D.add(Yt);const pn=this.driver.query(Yt,".ng-animate-queued",!0);for(let En=0;En<pn.length;En++)D.add(pn[En])});const P=this.bodyNode,$=Array.from(this.statesByElement.keys()),Y=jB($,this.collectedEnterElements),Q=new Map;let me=0;Y.forEach((Yt,pn)=>{const En=w1+me++;Q.set(pn,En),Yt.forEach(Tr=>vu(Tr,En))});const De=[],dt=new Set,Et=new Set;for(let Yt=0;Yt<this.collectedLeaveElements.length;Yt++){const pn=this.collectedLeaveElements[Yt],En=pn[yu];En&&En.setForRemoval&&(De.push(pn),dt.add(pn),En.hasAnimation?this.driver.query(pn,".ng-star-inserted",!0).forEach(Tr=>dt.add(Tr)):Et.add(pn))}const It=new Map,xt=jB($,Array.from(dt));xt.forEach((Yt,pn)=>{const En=TS+me++;It.set(pn,En),Yt.forEach(Tr=>vu(Tr,En))}),e.push(()=>{Y.forEach((Yt,pn)=>{const En=Q.get(pn);Yt.forEach(Tr=>$b(Tr,En))}),xt.forEach((Yt,pn)=>{const En=It.get(pn);Yt.forEach(Tr=>$b(Tr,En))}),De.forEach(Yt=>{this.processLeaveNode(Yt)})});const Jt=[],nn=[];for(let Yt=this._namespaceList.length-1;Yt>=0;Yt--)this._namespaceList[Yt].drainQueuedTransitions(t).forEach(En=>{const Tr=En.player,Bs=En.element;if(Jt.push(Tr),this.collectedEnterElements.length){const Ua=Bs[yu];if(Ua&&Ua.setForMove){if(Ua.previousTriggersValues&&Ua.previousTriggersValues.has(En.triggerName)){const H_=Ua.previousTriggersValues.get(En.triggerName),bu=this.statesByElement.get(En.element);if(bu&&bu.has(En.triggerName)){const iT=bu.get(En.triggerName);iT.value=H_,bu.set(En.triggerName,iT)}}return void Tr.destroy()}}const kh=!P||!this.driver.containsElement(P,Bs),Rl=It.get(Bs),Dm=Q.get(Bs),wo=this._buildInstruction(En,r,Dm,Rl,kh);if(wo.errors&&wo.errors.length)return void nn.push(wo);if(kh)return Tr.onStart(()=>N_(Bs,wo.fromStyles)),Tr.onDestroy(()=>Sh(Bs,wo.toStyles)),void i.push(Tr);if(En.isFallbackTransition)return Tr.onStart(()=>N_(Bs,wo.fromStyles)),Tr.onDestroy(()=>Sh(Bs,wo.toStyles)),void i.push(Tr);const HV=[];wo.timelines.forEach(Ua=>{Ua.stretchStartingKeyframe=!0,this.disabledNodes.has(Ua.element)||HV.push(Ua)}),wo.timelines=HV,r.append(Bs,wo.timelines),u.push({instruction:wo,player:Tr,element:Bs}),wo.queriedElements.forEach(Ua=>Tl(p,Ua,[]).push(Tr)),wo.preStyleProps.forEach((Ua,H_)=>{if(Ua.size){let bu=y.get(H_);bu||y.set(H_,bu=new Set),Ua.forEach((iT,fO)=>bu.add(fO))}}),wo.postStyleProps.forEach((Ua,H_)=>{let bu=w.get(H_);bu||w.set(H_,bu=new Set),Ua.forEach((iT,fO)=>bu.add(fO))})});if(nn.length){const Yt=[];nn.forEach(pn=>{Yt.push(function j6(n,e){return new c.vHH(3505,!1)}())}),Jt.forEach(pn=>pn.destroy()),this.reportError(Yt)}const Xn=new Map,Ko=new Map;u.forEach(Yt=>{const pn=Yt.element;r.has(pn)&&(Ko.set(pn,pn),this._beforeAnimationBuild(Yt.player.namespaceId,Yt.instruction,Xn))}),i.forEach(Yt=>{const pn=Yt.element;this._getPreviousPlayers(pn,!1,Yt.namespaceId,Yt.triggerName,null).forEach(Tr=>{Tl(Xn,pn,[]).push(Tr),Tr.destroy()})});const kl=De.filter(Yt=>$B(Yt,y,w)),Pf=new Map;HB(Pf,this.driver,Et,w,Mf).forEach(Yt=>{$B(Yt,y,w)&&kl.push(Yt)});const jx=new Map;Y.forEach((Yt,pn)=>{HB(jx,this.driver,new Set(Yt),y,"!")}),kl.forEach(Yt=>{const pn=Pf.get(Yt),En=jx.get(Yt);Pf.set(Yt,new Map([...Array.from(pn?.entries()??[]),...Array.from(En?.entries()??[])]))});const V_=[],UV=[],VV={};u.forEach(Yt=>{const{element:pn,player:En,instruction:Tr}=Yt;if(r.has(pn)){if(D.has(pn))return En.onDestroy(()=>Sh(pn,Tr.toStyles)),En.disabled=!0,En.overrideTotalTime(Tr.totalTime),void i.push(En);let Bs=VV;if(Ko.size>1){let Rl=pn;const Dm=[];for(;Rl=Rl.parentNode;){const wo=Ko.get(Rl);if(wo){Bs=wo;break}Dm.push(Rl)}Dm.forEach(wo=>Ko.set(wo,Bs))}const kh=this._buildAnimation(En.namespaceId,Tr,Xn,s,jx,Pf);if(En.setRealPlayer(kh),Bs===VV)V_.push(En);else{const Rl=this.playersByElement.get(Bs);Rl&&Rl.length&&(En.parentPlayer=xm(Rl)),i.push(En)}}else N_(pn,Tr.fromStyles),En.onDestroy(()=>Sh(pn,Tr.toStyles)),UV.push(En),D.has(pn)&&i.push(En)}),UV.forEach(Yt=>{const pn=s.get(Yt.element);if(pn&&pn.length){const En=xm(pn);Yt.setRealPlayer(En)}}),i.forEach(Yt=>{Yt.parentPlayer?Yt.syncPlayerEvents(Yt.parentPlayer):Yt.destroy()});for(let Yt=0;Yt<De.length;Yt++){const pn=De[Yt],En=pn[yu];if($b(pn,TS),En&&En.hasAnimation)continue;let Tr=[];if(p.size){let kh=p.get(pn);kh&&kh.length&&Tr.push(...kh);let Rl=this.driver.query(pn,x1,!0);for(let Dm=0;Dm<Rl.length;Dm++){let wo=p.get(Rl[Dm]);wo&&wo.length&&Tr.push(...wo)}}const Bs=Tr.filter(kh=>!kh.destroyed);Bs.length?G4(this,pn,Bs):this.processLeaveNode(pn)}return De.length=0,V_.forEach(Yt=>{this.players.push(Yt),Yt.onDone(()=>{Yt.destroy();const pn=this.players.indexOf(Yt);this.players.splice(pn,1)}),Yt.play()}),V_}elementContainsData(e,t){let r=!1;const i=t[yu];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let u=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(u=p)}else{const p=this.playersByElement.get(e);if(p){const y=!s||s==Px;p.forEach(w=>{w.queued||!y&&w.triggerName!=i||u.push(w)})}}return(r||i)&&(u=u.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),u}_beforeAnimationBuild(e,t,r){const s=t.element,u=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,D=w!==s,P=Tl(r,w,[]);this._getPreviousPlayers(w,D,u,p,t.toState).forEach(Y=>{const Q=Y.getRealPlayer();Q.beforeDestroy&&Q.beforeDestroy(),Y.destroy(),P.push(Y)})}N_(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,u){const p=t.triggerName,y=t.element,w=[],D=new Set,P=new Set,$=t.timelines.map(Q=>{const me=Q.element;D.add(me);const De=me[yu];if(De&&De.removedBeforeQueried)return new Mx(Q.duration,Q.delay);const dt=me!==y,Et=function W4(n){const e=[];return zB(n,e),e}((r.get(me)||B4).map(Xn=>Xn.getRealPlayer())).filter(Xn=>!!Xn.element&&Xn.element===me),It=s.get(me),xt=u.get(me),Jt=mB(0,this._normalizer,0,Q.keyframes,It,xt),nn=this._buildPlayer(Q,Jt,Et);if(Q.subTimeline&&i&&P.add(me),dt){const Xn=new L1(e,p,me);Xn.setRealPlayer(nn),w.push(Xn)}return nn});w.forEach(Q=>{Tl(this.playersByQueriedElement,Q.element,[]).push(Q),Q.onDone(()=>function j4(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Q.element,Q))}),D.forEach(Q=>vu(Q,CB));const Y=xm($);return Y.onDestroy(()=>{D.forEach(Q=>$b(Q,CB)),Sh(y,t.toStyles)}),P.forEach(Q=>{Tl(i,Q,[]).push(Y)}),Y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Mx(e.duration,e.delay)}}class L1{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Mx,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>g1(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Tl(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function HS(n){return n&&1===n.nodeType}function VB(n,e){const t=n.style.display;return n.style.display=e??"none",t}function HB(n,e,t,r,i){const s=[];t.forEach(y=>s.push(VB(y)));const u=[];r.forEach((y,w)=>{const D=new Map;y.forEach(P=>{const $=e.computeStyle(w,P,i);D.set(P,$),(!$||0==$.length)&&(w[yu]=U4,u.push(w))}),n.set(w,D)});let p=0;return t.forEach(y=>VB(y,s[p++])),u}function jB(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),s=new Map;function u(p){if(!p)return 1;let y=s.get(p);if(y)return y;const w=p.parentNode;return y=t.has(w)?w:i.has(w)?1:u(w),s.set(p,y),y}return e.forEach(p=>{const y=u(p);1!==y&&t.get(y).push(p)}),t}function vu(n,e){n.classList?.add(e)}function $b(n,e){n.classList?.remove(e)}function G4(n,e,t){xm(t).onDone(()=>n.processLeaveNode(e))}function zB(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof fB?zB(r.players,e):e.push(r)}}function $B(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class jS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new H4(e,t,r),this._timelineEngine=new O4(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const u=e+"-"+i;let p=this._triggerCache[u];if(!p){const y=[],D=S1(this._driver,s,y,[]);if(y.length)throw function k6(n,e){return new c.vHH(3404,!1)}();p=function A4(n,e,t){return new M4(n,e,t)}(i,D,this._normalizer),this._triggerCache[u]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,u]=gB(r);this._timelineEngine.command(s,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[u,p]=gB(r);return this._timelineEngine.listen(u,t,p,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Z4=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Sh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sh(this._element,this._initialStyles),this._endStyles&&(Sh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(N_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(N_(this._element,this._endStyles),this._endStyles=null),Sh(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function B1(n){let e=null;return n.forEach((t,r)=>{(function Y4(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class GB{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:MB(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Q4{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return bB(e,t)}getParentElement(e){return b1(e)}query(e,t,r){return EB(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,u=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(y.easing=s);const w=new Map,D=u.filter(Y=>Y instanceof GB);(function t4(n,e){return 0===n||0===e})(r,i)&&D.forEach(Y=>{Y.currentSnapshot.forEach((Q,me)=>w.set(me,Q))});let P=function Q6(n){return n.length?n[0]instanceof Map?n:n.map(e=>IB(e)):[]}(t).map(Y=>Cm(Y));P=function n4(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,u)=>{r.has(u)||i.push(u),r.set(u,s)}),i.length)for(let s=1;s<e.length;s++){let u=e[s];i.forEach(p=>u.set(p,MB(n,p)))}}return e}(e,P,w);const $=function K4(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=B1(e[0]),e.length>1&&(r=B1(e[e.length-1]))):e instanceof Map&&(t=B1(e)),t||r?new Z4(n,t,r):null}(e,P);return new GB(e,P,y,$)}}let X4=(()=>{class n extends lB{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?uB(t):t;return WB(this._renderer,null,r,"register",[i]),new J4(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class J4 extends a6{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new eW(this._id,e,t||{},this._renderer)}}class eW{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return WB(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function WB(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const qB="@.disabled";let tW=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,u)=>{const p=u?.parentNode(s);p&&u.removeChild(p,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(s);return D||(D=new KB("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,D)),D}const u=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=D=>{Array.isArray(D)?D.forEach(y):this.engine.registerTrigger(u,p,t,D.name,D)};return r.data.animation.forEach(y),new nW(this,p,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,p]=s;u(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(jS),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class KB{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==qB?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class nW extends KB{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==qB?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function rW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function iW(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,u,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let oW=(()=>{class n extends jS{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(E1),c.LFG(R1),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ZB=[{provide:lB,useClass:X4},{provide:R1,useFactory:function sW(){return new I4}},{provide:jS,useClass:oW},{provide:c.FYo,useFactory:function aW(n,e,t){return new tW(n,e,t)},deps:[Da,jS,c.R0b]}],U1=[{provide:E1,useFactory:()=>new Q4},{provide:c.QbO,useValue:"BrowserAnimations"},...ZB],YB=[{provide:E1,useClass:wB},{provide:c.QbO,useValue:"NoopAnimations"},...ZB];let cW=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?YB:U1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:U1,imports:[Xo]}),n})();var lW=R(7489);const QB=(0,yr.Tz)({name:"user",reducer:(0,yr.Lq)({loading:!1,error:null,user:null,account:null},(0,yr.on)(qE,n=>({...n,user:null,loading:!0})),(0,yr.on)(FI,(n,{cause:e})=>({...n,error:e,loading:!1})),(0,yr.on)(KE,(n,{user:e})=>({...n,user:e,loading:!1})),(0,yr.on)(ZE,(n,{account:e})=>({...n,account:e})))}),{reducer:dW,name:hW}=QB,fW=(0,yr.ZF)(hW),{selectUser:V1}=QB,XB=(0,yr.P1)(fW,n=>n?.account);let JB=(()=>{class n{constructor(){this._assessmentSections=[],this._baseEndpointURL="/seccions",this.registerSection=t=>{this._assessmentSections.push(t)}}_findSection(t){const r=this._assessmentSections.find(i=>i.name===t);if(r)return r;throw new Error("The given section name is not registered.")}sectionIsCompleted(t){return this._findSection(t).groupControl.statusChanges.pipe((0,vt.U)(i=>"VALID"===i))}getSectionAnswers(t){return this._findSection(t).questions.map(({question:i,control:s})=>{const u=i.answersRangeItems.length>0;return{questionId:i.id,answerRangeItemId:u?s.value:null,value:u?i.answersRangeItems.find(p=>p.id===s.value)?.value:s.value}})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H1=(()=>{class n{constructor(t){this._httpClient=t,this._baseEndpointURL="/seccions",this.answerToBackend={}}getAssessmentSections(){return this._httpClient.get(this._baseEndpointURL)}getAssessmentSectionQuestions(t){return this._httpClient.get(`${this._baseEndpointURL}/${t}/questions`)}sendAnswers(){const r={...this.answerToBackend},i=(new Lo).set("Content-Type","application/json; charset=utf-8");return this._httpClient.post("/sections/questions/answers",r,{headers:i})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ni))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pW=["stepTemplate"];function mW(n,e){1&n&&c.Hsn(0)}const gW=["*"];let eU=(()=>{class n{constructor(){this.stepControl=null,this._completed=!1}ngOnInit(){this.stepControl?.statusChanges.pipe((0,vt.U)(t=>"VALID"===t)).subscribe(t=>{this.completed=t})}get completed(){return this._completed}set completed(t){this._completed=t}markAsTouched(){this.stepControl?.markAllAsTouched()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-form-step"]],viewQuery:function(t,r){if(1&t&&c.Gf(pW,7),2&t){let i;c.iGM(i=c.CRH())&&(r.content=i.first)}},inputs:{stepControl:"stepControl"},ngContentSelectors:gW,decls:2,vars:0,consts:[["stepTemplate",""]],template:function(t,r){1&t&&(c.F$t(),c.YNc(0,mW,1,0,"ng-template",null,0,c.W1O))}}),n})();const _W=["mat-button",""],yW=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],vW=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],bW=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],EW=_p(gp(sf(class{constructor(n){this._elementRef=n}})));let wW=(()=>{class n extends EW{constructor(t,r,i,s){super(t),this._platform=r,this._ngZone=i,this._animationMode=s,this._focusMonitor=(0,c.f3M)(mp),this._isFab=!1;const u=t.nativeElement.classList;for(const p of bW)this._hasHostAttributes(p.selector)&&p.mdcClasses.forEach(y=>{u.add(y)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,r){if(1&t&&c.Gf($d,5),2&t){let i;c.iGM(i=c.CRH())&&(r.ripple=i.first)}},features:[c.qOj]}),n})(),tU=(()=>{class n extends wW{constructor(t,r,i,s){super(t,r,i,s)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Do),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,r){2&t&&(c.uIk("disabled",r.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:_W,ngContentSelectors:vW,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(c.F$t(yW),c._UZ(0,"span",0),c.Hsn(1),c.TgZ(2,"span",1),c.Hsn(3,1),c.qZA(),c.Hsn(4,2),c._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(c.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),c.xp6(6),c.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[$d],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),nU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ui,af,ui]}),n})();function IW(n,e){if(1&n&&c.GkF(0,9),2&n){const t=c.oxw().$implicit;c.Q6J("ngTemplateOutlet",t.content)}}function DW(n,e){if(1&n&&(c.ynx(0),c.YNc(1,IW,1,1,"ng-container",8),c.BQk()),2&n){const t=e.index,r=c.oxw(2);c.xp6(1),c.Q6J("ngIf",r.currentStepIndex===t)}}function SW(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",10),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(2);return c.KtG(i.next())}),c._uU(1," Siguiente "),c.qZA()}}function TW(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(2);return c.KtG(i.submit())}),c._uU(1," Enviar "),c.qZA()}}function AW(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"section",1)(1,"section",2),c.YNc(2,DW,2,1,"ng-container",3),c.qZA(),c.TgZ(3,"section",4)(4,"button",5),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.previous())}),c._uU(5," Anterior "),c.qZA(),c.YNc(6,SW,2,0,"button",6),c.YNc(7,TW,2,0,"button",7),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(2),c.Q6J("ngForOf",t.steps),c.xp6(2),c.Q6J("disabled",!t.canGoBack),c.xp6(2),c.Q6J("ngIf",t.currentStepIndex!==t.steps.length-1),c.xp6(1),c.Q6J("ngIf",t.currentStepIndex===t.steps.length-1)}}let MW=(()=>{class n{constructor(){this.steps=new c.n_E,this._currentStepIndex=0,this._submitEventEmitter=new c.vpe}ngAfterContentInit(){this.steps.changes.pipe(Ys(this.steps)).subscribe(t=>{this.steps=t,this.steps.notifyOnChanges()})}get selectedStep(){return this.steps.toArray()[this.currentStepIndex]}get currentStepIndex(){return this._currentStepIndex}set currentStepIndex(t){this._currentStepIndex=t>=0?t:0}get selectedStepIsCompleted(){return this.selectedStep?.completed||null}get canGoBack(){return this._currentStepIndex>0}previous(){this.canGoBack&&(this._currentStepIndex-=1,window.scroll({top:0}))}next(){this.selectedStepIsCompleted?(this._currentStepIndex+=1,window.scroll({top:0})):this.selectedStep?.markAsTouched()}submit(){this.steps.toArray().every(r=>r.completed)?this._submitEventEmitter.emit():this.steps.toArray().forEach(r=>{r.markAsTouched()})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-form-stepper"]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,eU,5),2&t){let s;c.iGM(s=c.CRH())&&(r.steps=s)}},outputs:{_submitEventEmitter:"onSubmit"},decls:1,vars:1,consts:[["class","form-stepper",4,"ngIf"],[1,"form-stepper"],[1,"steps"],[4,"ngFor","ngForOf"],[1,"stepper-actions"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,r){1&t&&c.YNc(0,AW,8,4,"section",0),2&t&&c.Q6J("ngIf",r.steps.length>0)},dependencies:[ki,Dn,Ce,tU],styles:[".form-stepper[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;margin:10px;padding:15px;border-radius:5px}.stepper-actions[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;margin-top:20px}"]}),n})();const rU=I({passive:!0});let kW=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Xc.E;const r=sc(t),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new On.x,u="cdk-text-field-autofilled",p=y=>{"cdk-text-field-autofill-start"!==y.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===y.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>s.next({target:y.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>s.next({target:y.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",p,rU),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",p,rU)}}),s}stopMonitoring(t){const r=sc(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Do),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),iU=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OW=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=sc(t);return new Zr.y(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new On.x,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(iU))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PW=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Dr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Wc(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe((0,Hu.b)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(OW),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),FW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[iU]}),n})();const NW=["matFormFieldNotchedOutline",""],LW=["*"],BW=["textField"],UW=["iconPrefixContainer"],VW=["textPrefixContainer"];function HW(n,e){1&n&&c._UZ(0,"span",19)}function jW(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",17),c.NdJ("cdkObserveContent",function(){c.CHM(t);const i=c.oxw(2);return c.KtG(i._refreshOutlineNotchWidth())}),c.Hsn(1,1),c.YNc(2,HW,1,0,"span",18),c.qZA()}if(2&n){const t=c.oxw(2);c.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function zW(n,e){if(1&n&&c.YNc(0,jW,3,6,"label",16),2&n){const t=c.oxw();c.Q6J("ngIf",t._hasFloatingLabel())}}function $W(n,e){1&n&&c._UZ(0,"div",20)}function GW(n,e){}function WW(n,e){if(1&n&&c.YNc(0,GW,0,0,"ng-template",22),2&n){c.oxw(2);const t=c.MAs(1);c.Q6J("ngTemplateOutlet",t)}}function qW(n,e){if(1&n&&(c.TgZ(0,"div",21),c.YNc(1,WW,1,1,"ng-template",9),c.qZA()),2&n){const t=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),c.xp6(1),c.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function KW(n,e){1&n&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function ZW(n,e){1&n&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function YW(n,e){}function QW(n,e){if(1&n&&c.YNc(0,YW,0,0,"ng-template",22),2&n){c.oxw();const t=c.MAs(1);c.Q6J("ngTemplateOutlet",t)}}function XW(n,e){1&n&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function JW(n,e){1&n&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function e8(n,e){1&n&&c._UZ(0,"div",29)}function t8(n,e){if(1&n&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function n8(n,e){if(1&n&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function r8(n,e){if(1&n&&(c.TgZ(0,"div",31),c.YNc(1,n8,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const i8=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],o8=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let j1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),s8=0;const oU=new c.OlP("MatError");let Fx=(()=>{class n{constructor(t,r){this.id="mat-mdc-error-"+s8++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(c.$8M("aria-live"),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(t,r){2&t&&c.Ikx("id",r.id)},inputs:{id:"id"},features:[c._Bn([{provide:oU,useExisting:n}])]}),n})(),a8=0,sU=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+a8++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,r){2&t&&(c.Ikx("id",r.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),n})();const c8=new c.OlP("MatPrefix"),l8=new c.OlP("MatSuffix");let aU=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function u8(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const r=t.scrollWidth;return t.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating"}}),n})();const cU="mdc-line-ripple--active",$S="mdc-line-ripple--deactivating";let lU=(()=>{class n{constructor(t,r){this._elementRef=t,this._handleTransitionEnd=i=>{const s=this._elementRef.nativeElement.classList,u=s.contains($S);"opacity"===i.propertyName&&u&&s.remove(cU,$S)},r.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove($S),t.add(cU)}deactivate(){this._elementRef.nativeElement.classList.add($S)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),uU=(()=>{class n{constructor(t,r){this._elementRef=t,this._ngZone=r,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("mdc-notched-outline--notched",r.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:NW,ngContentSelectors:LW,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,r){1&t&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1),c.Hsn(2),c.qZA(),c._UZ(3,"div",2)),2&t&&(c.xp6(1),c.Udp("width",r._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const d8={transitionMessages:h1("transitionMessages",[dB("enter",P_({opacity:1,transform:"translateY(0%)"})),SS("void => enter",[P_({opacity:0,transform:"translateY(-5px)"}),f1("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let z1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const $1=new c.OlP("MatFormField"),h8=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let dU=0,G1=(()=>{class n{constructor(t,r,i,s,u,p,y,w){this._elementRef=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=s,this._platform=u,this._defaults=p,this._animationMode=y,this._document=w,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+dU++,this._hintLabelId="mat-mdc-hint-"+dU++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new On.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,p&&(p.appearance&&(this.appearance=p.appearance),this._hideRequiredMarker=Boolean(p?.hideRequiredMarker),p.color&&(this.color=p.color))}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Dr(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,As.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,su.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,As.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,As.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,u=i?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Qs),c.Y36(Do),c.Y36(h8,8),c.Y36(c.QbO,8),c.Y36(ee))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,j1,5),c.Suo(i,j1,7),c.Suo(i,z1,5),c.Suo(i,c8,5),c.Suo(i,l8,5),c.Suo(i,oU,5),c.Suo(i,sU,5)),2&t){let s;c.iGM(s=c.CRH())&&(r._labelChildNonStatic=s.first),c.iGM(s=c.CRH())&&(r._labelChildStatic=s.first),c.iGM(s=c.CRH())&&(r._formFieldControl=s.first),c.iGM(s=c.CRH())&&(r._prefixChildren=s),c.iGM(s=c.CRH())&&(r._suffixChildren=s),c.iGM(s=c.CRH())&&(r._errorChildren=s),c.iGM(s=c.CRH())&&(r._hintChildren=s)}},viewQuery:function(t,r){if(1&t&&(c.Gf(BW,5),c.Gf(UW,5),c.Gf(VW,5),c.Gf(aU,5),c.Gf(uU,5),c.Gf(lU,5)),2&t){let i;c.iGM(i=c.CRH())&&(r._textField=i.first),c.iGM(i=c.CRH())&&(r._iconPrefixContainer=i.first),c.iGM(i=c.CRH())&&(r._textPrefixContainer=i.first),c.iGM(i=c.CRH())&&(r._floatingLabel=i.first),c.iGM(i=c.CRH())&&(r._notchedOutline=i.first),c.iGM(i=c.CRH())&&(r._lineRipple=i.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,r){2&t&&c.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:$1,useExisting:n}])],ngContentSelectors:o8,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,r){1&t&&(c.F$t(i8),c.YNc(0,zW,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),c.YNc(4,$W,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,qW,2,3,"div",5),c.YNc(7,KW,3,0,"div",6),c.YNc(8,ZW,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,QW,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,XW,2,0,"div",10),c.YNc(13,JW,2,0,"div",11),c.qZA(),c.YNc(14,e8,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,t8,2,1,"div",14),c.YNc(17,r8,5,2,"div",15),c.qZA()),2&t&&(c.xp6(2),c.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),c.xp6(2),c.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),c.xp6(2),c.Q6J("ngIf",r._hasOutline()),c.xp6(1),c.Q6J("ngIf",r._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",r._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",r._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",r._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!r._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),c.Q6J("ngSwitch",r._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[Dn,Ce,ko,cs,PW,sU,aU,uU,lU],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[d8.transitionMessages]},changeDetection:0}),n})(),W1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ui,bi,FW,ui]}),n})();const m8=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),g8=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let _8=0;const y8=Oy(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new On.x}});let pU=(()=>{class n extends y8{constructor(t,r,i,s,u,p,y,w,D,P){super(p,s,u,i),this._elementRef=t,this._platform=r,this._autofillMonitor=w,this._formField=P,this._uid="mat-input-"+_8++,this.focused=!1,this.stateChanges=new On.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Q=>x().has(Q)),this._iOSKeyupListener=Q=>{const me=Q.target;!me.value&&0===me.selectionStart&&0===me.selectionEnd&&(me.setSelectionRange(1,1),me.setSelectionRange(0,0))};const $=this._elementRef.nativeElement,Y=$.nodeName.toLowerCase();this._inputValueAccessor=y||$,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&D.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Y,this._isTextarea="textarea"===Y,this._isInFormField=!!P,this._isNativeSelect&&(this.controlType=$.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this._disabled}set disabled(t){this._disabled=Dr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Cx.required)??!1}set required(t){this._required=Dr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&x().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Dr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){g8.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Do),c.Y36(Dh,10),c.Y36(Ax,8),c.Y36(zb,8),c.Y36(Ly),c.Y36(m8,10),c.Y36(kW),c.Y36(c.R0b),c.Y36($1,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,r){1&t&&c.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(c.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),c.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),c.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:z1,useExisting:n}]),c.qOj,c.TTD]}),n})(),v8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ui,W1,W1,RW,ui]}),n})(),Nx=(()=>{class n{transform(t){return t.hasValidator(Cx.required)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"isRequired",type:n,pure:!0}),n})();function b8(n,e){1&n&&(c.ynx(0),c.TgZ(1,"span",5),c._uU(2,"*"),c.qZA(),c.BQk())}function E8(n,e){1&n&&(c.TgZ(0,"mat-error"),c._uU(1," Por favor ingrese una respuesta. "),c.qZA())}let w8=(()=>{class n{constructor(){this.label="Text area",this.control=new Af("",[]),this.placeholder="Escribe tu respuesta"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-text-area"]],inputs:{label:"label",control:"control",placeholder:"placeholder"},decls:8,vars:10,consts:[[1,"input"],[1,"label",3,"for"],[4,"ngIf"],["appearance","fill",1,"field"],["matInput","","rows","5","cols","20",1,"text-area",3,"id","name","formControl","placeholder"],[1,"required-sign"]],template:function(t,r){1&t&&(c.TgZ(0,"article",0)(1,"label",1),c._uU(2),c.YNc(3,b8,3,0,"ng-container",2),c.ALo(4,"isRequired"),c.qZA(),c.TgZ(5,"mat-form-field",3),c._UZ(6,"textarea",4),c.YNc(7,E8,2,0,"mat-error",2),c.qZA()()),2&t&&(c.xp6(1),c.MGl("for","",r.label,"-textarea"),c.xp6(1),c.hij("",r.label," "),c.xp6(1),c.Q6J("ngIf",c.lcZ(4,8,r.control)),c.xp6(3),c.MGl("id","",r.label,"-textarea")("name","",r.label,"-textarea"),c.Q6J("formControl",r.control)("placeholder",r.placeholder),c.xp6(1),c.Q6J("ngIf",r.control.hasError("required")&&r.control.touched))},dependencies:[Dn,xx,Vb,R_,pU,G1,Fx,Nx],styles:[".text-area[_ngcontent-%COMP%]{width:100%;height:60px;margin:0;resize:none}","[_nghost-%COMP%]{--input-width: 100%;--input-max-width: 600px;--input-padding: 5px;--input-margin: 25px 0;--label-font-size: 1.8rem;--required-color: rgb(253, 28, 28);--error-font-size: 1.2rem}.input[_ngcontent-%COMP%]{width:var(--input-width);padding:var(--input-padding);margin:var(--input-margin)}.label[_ngcontent-%COMP%]{display:block;font-size:var(--label-font-size);margin:0 0 10px}.required-sign[_ngcontent-%COMP%]{font-weight:700;color:var(--required-color)}.field[_ngcontent-%COMP%]{width:var(--input-width);max-width:var(--input-max-width)}.options[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));grid-template-rows:auto;gap:0 10px;align-items:center}.error-message[_ngcontent-%COMP%]{padding:5px;margin:0 10.5px;font-size:var(--error-font-size)}"]}),n})();function x8(n,e){1&n&&(c.ynx(0),c.TgZ(1,"span",5),c._uU(2,"*"),c.qZA(),c.BQk())}function C8(n,e){1&n&&(c.TgZ(0,"mat-error"),c._uU(1," Por favor ingrese una respuesta. "),c.qZA())}let I8=(()=>{class n{constructor(){this.control=new Af("",[]),this.label="Input de respuesta corta",this.placeholder="Escribe tu respuesta"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-single-line-text-input"]],inputs:{control:"control",label:"label",placeholder:"placeholder"},decls:8,vars:10,consts:[[1,"input"],[1,"label",3,"for"],[4,"ngIf"],["appearance","fill",1,"field"],["type","text","matInput","",1,"text-input",3,"id","name","formControl","placeholder"],[1,"required-sign"]],template:function(t,r){1&t&&(c.TgZ(0,"article",0)(1,"label",1),c._uU(2),c.YNc(3,x8,3,0,"ng-container",2),c.ALo(4,"isRequired"),c.qZA(),c.TgZ(5,"mat-form-field",3),c._UZ(6,"input",4),c.YNc(7,C8,2,0,"mat-error",2),c.qZA()()),2&t&&(c.xp6(1),c.MGl("for","",r.label,"-text-input"),c.xp6(1),c.hij(" ",r.label," "),c.xp6(1),c.Q6J("ngIf",c.lcZ(4,8,r.control)),c.xp6(3),c.MGl("id","",r.label,"-text-input")("name","",r.label,"-text-input"),c.Q6J("formControl",r.control)("placeholder",r.placeholder),c.xp6(1),c.Q6J("ngIf",r.control.hasError("required")&&r.control.touched))},dependencies:[Dn,xx,Vb,R_,pU,G1,Fx,Nx],styles:["[_nghost-%COMP%]{--input-width: 100%;--input-max-width: 600px;--input-padding: 5px;--input-margin: 25px 0;--label-font-size: 1.8rem;--required-color: rgb(253, 28, 28);--error-font-size: 1.2rem}.input[_ngcontent-%COMP%]{width:var(--input-width);padding:var(--input-padding);margin:var(--input-margin)}.label[_ngcontent-%COMP%]{display:block;font-size:var(--label-font-size);margin:0 0 10px}.required-sign[_ngcontent-%COMP%]{font-weight:700;color:var(--required-color)}.field[_ngcontent-%COMP%]{width:var(--input-width);max-width:var(--input-max-width)}.options[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));grid-template-rows:auto;gap:0 10px;align-items:center}.error-message[_ngcontent-%COMP%]{padding:5px;margin:0 10.5px;font-size:var(--error-font-size)}"]}),n})();class D8{constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new On.x,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,r=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!r.has(s)).forEach(s=>this._unmarkSelected(s));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){if(this.compareWith){for(const t of this._selection)if(this.compareWith(t,e))return!0;return!1}return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let S8=(()=>{class n{constructor(){this._listeners=[]}notify(t,r){for(let i of this._listeners)i(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const T8=["input"],A8=["*"];let mU=0;class gU{constructor(e,t){this.source=e,this.value=t}}const M8={provide:_u,useExisting:(0,c.Gpc)(()=>yU),multi:!0},_U=new c.OlP("MatRadioGroup"),k8=new c.OlP("mat-radio-default-options",{providedIn:"root",factory:function R8(){return{color:"accent"}}});let O8=(()=>{class n{constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+mU++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new c.vpe}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=Dr(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=Dr(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(r=>{r.checked=this.value===r.value,r.checked&&(this._selected=r)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new gU(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})();class P8{constructor(e){this._elementRef=e}}const F8=sf(og(P8));let N8=(()=>{class n extends F8{constructor(t,r,i,s,u,p,y,w){super(r),this._changeDetector=i,this._focusMonitor=s,this._radioDispatcher=u,this._providerOverride=y,this._uniqueId="mat-radio-"+ ++mU,this.id=this._uniqueId,this.change=new c.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===p,w&&(this.tabIndex=Wc(w,0))}get checked(){return this._checked}set checked(t){const r=Dr(t);this._checked!==r&&(this._checked=r,r&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!r&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),r&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(Dr(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=Dr(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}focus(t,r){r?this._focusMonitor.focusVia(this._inputElement,r,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,r)=>{t!==this.id&&r===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new gU(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const r=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),r&&this.radioGroup._emitChangeEvent())}}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let r;if(r=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,r!==this._previousTabIndex){const i=this._inputElement?.nativeElement;i&&(i.setAttribute("tabindex",r+""),this._previousTabIndex=r)}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,r){if(1&t&&c.Gf(T8,5),2&t){let i;c.iGM(i=c.CRH())&&(r._inputElement=i.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[c.qOj]}),n})(),yU=(()=>{class n extends O8{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,vU,5),2&t){let s;c.iGM(s=c.CRH())&&(r._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[c._Bn([M8,{provide:_U,useExisting:n}]),c.qOj]}),n})(),vU=(()=>{class n extends N8{constructor(t,r,i,s,u,p,y,w){super(t,r,i,s,u,p,y,w)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_U,8),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(mp),c.Y36(S8),c.Y36(c.QbO,8),c.Y36(k8,8),c.$8M("tabindex"))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(t,r){1&t&&c.NdJ("focus",function(){return r._inputElement.nativeElement.focus()}),2&t&&(c.uIk("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),c.ekj("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[c.qOj],ngContentSelectors:A8,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[3,"for"]],template:function(t,r){if(1&t&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),c.NdJ("click",function(s){return r._onInputInteraction(s)}),c.qZA(),c.TgZ(4,"input",4,5),c.NdJ("change",function(s){return r._onInputInteraction(s)}),c.qZA(),c.TgZ(6,"div",6),c._UZ(7,"div",7)(8,"div",8),c.qZA(),c.TgZ(9,"div",9),c._UZ(10,"div",10),c.qZA()(),c.TgZ(11,"label",11),c.Hsn(12),c.qZA()()),2&t){const i=c.MAs(1);c.ekj("mdc-form-field--align-end","before"==r.labelPosition),c.xp6(2),c.ekj("mdc-radio--disabled",r.disabled),c.xp6(2),c.Q6J("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),c.uIk("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),c.xp6(5),c.Q6J("matRippleTrigger",i)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),c.xp6(2),c.Q6J("for",r.inputId)}},dependencies:[$d],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);right:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);left:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-mdc-radio-ripple-color, transparent)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),n})(),L8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ui,bi,af,ui]}),n})();function B8(n,e){1&n&&(c.ynx(0),c.TgZ(1,"span",6),c._uU(2,"*"),c.qZA(),c.BQk())}function U8(n,e){if(1&n&&(c.TgZ(0,"mat-radio-button",7),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t.value),c.xp6(1),c.hij(" ",t.optionLabel," ")}}function V8(n,e){1&n&&(c.TgZ(0,"mat-error",8),c._uU(1," Por favor seleccione una de las opciones. "),c.qZA())}let H8=(()=>{class n{constructor(){this.control=new Af,this.label="Radio input",this.options=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-radio-input"]],inputs:{control:"control",label:"label",options:"options"},decls:8,vars:8,consts:[[1,"input"],[1,"label",3,"id"],[4,"ngIf"],[1,"options",3,"formControl"],["class","option",3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],[1,"required-sign"],[1,"option",3,"value"],[1,"error-message"]],template:function(t,r){1&t&&(c.TgZ(0,"article",0)(1,"label",1),c._uU(2),c.YNc(3,B8,3,0,"ng-container",2),c.ALo(4,"isRequired"),c.qZA(),c.TgZ(5,"mat-radio-group",3),c.YNc(6,U8,2,2,"mat-radio-button",4),c.qZA(),c.YNc(7,V8,2,0,"mat-error",5),c.qZA()),2&t&&(c.xp6(1),c.MGl("id","",r.label,"-radio-group"),c.xp6(1),c.hij("",r.label," "),c.xp6(1),c.Q6J("ngIf",c.lcZ(4,6,r.control)),c.xp6(2),c.Q6J("formControl",r.control),c.xp6(1),c.Q6J("ngForOf",r.options),c.xp6(1),c.Q6J("ngIf",r.control.hasError("required")&&r.control.touched))},dependencies:[ki,Dn,Vb,R_,Fx,yU,vU,Nx],styles:["[_nghost-%COMP%]{--input-width: 100%;--input-max-width: 600px;--input-padding: 5px;--input-margin: 25px 0;--label-font-size: 1.8rem;--required-color: rgb(253, 28, 28);--error-font-size: 1.2rem}.input[_ngcontent-%COMP%]{width:var(--input-width);padding:var(--input-padding);margin:var(--input-margin)}.label[_ngcontent-%COMP%]{display:block;font-size:var(--label-font-size);margin:0 0 10px}.required-sign[_ngcontent-%COMP%]{font-weight:700;color:var(--required-color)}.field[_ngcontent-%COMP%]{width:var(--input-width);max-width:var(--input-max-width)}.options[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));grid-template-rows:auto;gap:0 10px;align-items:center}.error-message[_ngcontent-%COMP%]{padding:5px;margin:0 10.5px;font-size:var(--error-font-size)}"]}),n})();const j8=["input"],z8=["label"],$8=["*"],G8=new c.OlP("mat-checkbox-default-options",{providedIn:"root",factory:bU});function bU(){return{color:"accent",clickAction:"check-indeterminate"}}const W8={provide:_u,useExisting:(0,c.Gpc)(()=>wU),multi:!0};class q8{}let K8=0;const EU=bU(),Z8=og(_p(sf(gp(class{constructor(n){this._elementRef=n}}))));let Y8=(()=>{class n extends Z8{constructor(t,r,i,s,u,p,y){super(r),this._changeDetectorRef=i,this._ngZone=s,this._animationMode=p,this._options=y,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new c.vpe,this.indeterminateChange=new c.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||EU,this.color=this.defaultColor=this._options.color||EU.color,this.tabIndex=parseInt(u)||0,this.id=this._uniqueId=`${t}${++K8}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=Dr(t)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const r=Dr(t);r!=this.checked&&(this._checked=r,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const r=Dr(t);r!==this.disabled&&(this._disabled=r,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const r=t!=this._indeterminate;this._indeterminate=Dr(t),r&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let r=this._currentCheckState,i=this._getAnimationTargetElement();if(r!==t&&i&&(this._currentAnimationClass&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,r){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===r)return this._animationClasses.uncheckedToChecked;if(3==r)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===r?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===r?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===r?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const r=this._inputElement;r&&(r.nativeElement.indeterminate=t)}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,r){if(1&t&&(c.Gf(j8,5),c.Gf(z8,5),c.Gf($d,5)),2&t){let i;c.iGM(i=c.CRH())&&(r._inputElement=i.first),c.iGM(i=c.CRH())&&(r._labelElement=i.first),c.iGM(i=c.CRH())&&(r.ripple=i.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[c.qOj]}),n})(),wU=(()=>{class n extends Y8{constructor(t,r,i,s,u,p){super("mat-mdc-checkbox-",t,r,i,s,u,p),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const r=new q8;return r.source=this,r.checked=t,r}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.$8M("tabindex"),c.Y36(c.QbO,8),c.Y36(G8,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(t,r){2&t&&(c.Ikx("id",r.id),c.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[c._Bn([W8]),c.qOj],ngContentSelectors:$8,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[3,"for"],["label",""]],template:function(t,r){if(1&t&&(c.F$t(),c.TgZ(0,"div",0),c.NdJ("click",function(s){return r._preventBubblingFromLabel(s)}),c.TgZ(1,"div",1,2)(3,"div",3),c.NdJ("click",function(){return r._onInputClick()}),c.qZA(),c.TgZ(4,"input",4,5),c.NdJ("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(s){return r._onInteractionEvent(s)}),c.qZA(),c._UZ(6,"div",6),c.TgZ(7,"div",7),c.O4$(),c.TgZ(8,"svg",8),c._UZ(9,"path",9),c.qZA(),c.kcU(),c._UZ(10,"div",10),c.qZA(),c._UZ(11,"div",11),c.qZA(),c.TgZ(12,"label",12,13),c.Hsn(14),c.qZA()()),2&t){const i=c.MAs(2);c.ekj("mdc-form-field--align-end","before"==r.labelPosition),c.xp6(4),c.ekj("mdc-checkbox--selected",r.checked),c.Q6J("checked",r.checked)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex),c.uIk("aria-checked",r._getAriaChecked())("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("name",r.name)("value",r.value),c.xp6(7),c.Q6J("matRippleTrigger",i)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),c.xp6(1),c.Q6J("for",r.inputId)}},dependencies:[$d],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:not([disabled])~.mdc-checkbox__ripple{opacity:.04;transform:scale(1);transition:opacity 80ms 0 cubic-bezier(0, 0, 0.2, 1),transform 80ms 0 cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:not([disabled]):focus~.mdc-checkbox__ripple{opacity:.16}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__native-control:focus:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, black)}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),xU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),J8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ui,af,xU,ui,xU]}),n})();function e5(n,e){1&n&&(c.ynx(0),c.TgZ(1,"span",6),c._uU(2,"*"),c.qZA(),c.BQk())}function t5(n,e){if(1&n&&(c.TgZ(0,"mat-checkbox",7),c._uU(1),c.qZA()),2&n){const t=e.$implicit,r=c.oxw();c.Q6J("formControl",r.control)("value",t.value.toString()),c.xp6(1),c.hij(" ",t.optionLabel," ")}}function n5(n,e){1&n&&(c.TgZ(0,"mat-error",8),c._uU(1," Por favor seleccione algunas de las opciones. "),c.qZA())}let r5=(()=>{class n{constructor(){this.control=new Af,this.label="Checkbox input",this.options=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-checkbox-input"]],inputs:{control:"control",label:"label",options:"options"},decls:8,vars:7,consts:[[1,"input"],[1,"label",3,"id"],[4,"ngIf"],[1,"options"],["class","option",3,"formControl","value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],[1,"required-sign"],[1,"option",3,"formControl","value"],[1,"error-message"]],template:function(t,r){1&t&&(c.TgZ(0,"article",0)(1,"label",1),c._uU(2),c.YNc(3,e5,3,0,"ng-container",2),c.ALo(4,"isRequired"),c.qZA(),c.TgZ(5,"section",3),c.YNc(6,t5,2,3,"mat-checkbox",4),c.qZA(),c.YNc(7,n5,2,0,"mat-error",5),c.qZA()),2&t&&(c.xp6(1),c.MGl("id","",r.label,"-checkbox-group"),c.xp6(1),c.hij("",r.label," "),c.xp6(1),c.Q6J("ngIf",c.lcZ(4,5,r.control)),c.xp6(3),c.Q6J("ngForOf",r.options),c.xp6(1),c.Q6J("ngIf",r.control.hasError("required")&&r.control.touched))},dependencies:[ki,Dn,Vb,R_,Fx,wU,Nx],styles:["[_nghost-%COMP%]{--input-width: 100%;--input-max-width: 600px;--input-padding: 5px;--input-margin: 25px 0;--label-font-size: 1.8rem;--required-color: rgb(253, 28, 28);--error-font-size: 1.2rem}.input[_ngcontent-%COMP%]{width:var(--input-width);padding:var(--input-padding);margin:var(--input-margin)}.label[_ngcontent-%COMP%]{display:block;font-size:var(--label-font-size);margin:0 0 10px}.required-sign[_ngcontent-%COMP%]{font-weight:700;color:var(--required-color)}.field[_ngcontent-%COMP%]{width:var(--input-width);max-width:var(--input-max-width)}.options[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));grid-template-rows:auto;gap:0 10px;align-items:center}.error-message[_ngcontent-%COMP%]{padding:5px;margin:0 10.5px;font-size:var(--error-font-size)}"]}),n})(),CU=(()=>{class n{transform(t,r,i){return t.map(s=>({value:s[r],optionLabel:s[i]}))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"mapObjectsToInputOptions",type:n,pure:!0}),n})();function i5(n,e){if(1&n&&c._UZ(0,"app-single-line-text-input",9),2&n){const t=c.oxw().$implicit;c.Q6J("control",t.control)("label",t.question.text||t.question.name)}}function o5(n,e){if(1&n&&c._UZ(0,"app-text-area",9),2&n){const t=c.oxw().$implicit;c.Q6J("control",t.control)("label",t.question.text||t.question.name)}}function s5(n,e){if(1&n&&(c._UZ(0,"app-radio-input",10),c.ALo(1,"mapObjectsToInputOptions")),2&n){const t=c.oxw().$implicit;c.Q6J("control",t.control)("options",c.Dn7(1,3,t.question.answersRangeItems,"id","value"))("label",t.question.text||t.question.name)}}function a5(n,e){if(1&n&&(c._UZ(0,"app-checkbox-input",10),c.ALo(1,"mapObjectsToInputOptions")),2&n){const t=c.oxw().$implicit;c.Q6J("control",t.control)("options",c.Dn7(1,3,t.question.answersRangeItems,"id","value"))("label",t.question.text||t.question.name)}}function c5(n,e){if(1&n&&(c.TgZ(0,"article",5),c.ynx(1,6),c.YNc(2,i5,1,2,"app-single-line-text-input",7),c.YNc(3,o5,1,2,"app-text-area",7),c.YNc(4,s5,2,7,"app-radio-input",8),c.YNc(5,a5,2,7,"app-checkbox-input",8),c.BQk(),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Q6J("ngSwitch",t.question.questionTypeId),c.xp6(1),c.Q6J("ngSwitchCase",1),c.xp6(1),c.Q6J("ngSwitchCase",2),c.xp6(1),c.Q6J("ngSwitchCase",3),c.xp6(1),c.Q6J("ngSwitchCase",4)}}function l5(n,e){if(1&n&&(c.TgZ(0,"section",1)(1,"h3",2),c._uU(2),c.qZA(),c.TgZ(3,"form",3),c.YNc(4,c5,6,5,"article",4),c.qZA()()),2&n){const t=c.oxw();c.xp6(2),c.Oqu(t.title),c.xp6(1),c.Q6J("formGroup",t.assessmentSection.groupControl),c.xp6(1),c.Q6J("ngForOf",t.sortedQuestions)}}let u5=(()=>{class n{constructor(){this.title="Secci\xf3n"}ngOnInit(){}get sortedQuestions(){return this.assessmentSection.questions.sort((t,r)=>t.question.assessmentSectionIndex-r.question.assessmentSectionIndex)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-questions-group"]],inputs:{title:"title",assessmentSection:"assessmentSection"},decls:1,vars:1,consts:[["class","group",4,"ngIf"],[1,"group"],[1,"group-title"],[1,"questions",3,"formGroup"],["class","question",4,"ngFor","ngForOf"],[1,"question"],[3,"ngSwitch"],[3,"control","label",4,"ngSwitchCase"],[3,"control","options","label",4,"ngSwitchCase"],[3,"control","label"],[3,"control","options","label"]],template:function(t,r){1&t&&c.YNc(0,l5,5,3,"section",0),2&t&&c.Q6J("ngIf",r.assessmentSection.questions.length>0)},dependencies:[$2,M2,zb,ki,Dn,ko,cs,w8,I8,H8,r5,CU],styles:[".group[_ngcontent-%COMP%]{max-width:600px;margin:20px 0 0}.group-title[_ngcontent-%COMP%]{font-size:2.5rem}.group[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{background-color:var(--front-bg-color);padding:15px 10px;border-radius:5px;box-shadow:5px 5px 20px #0003}"]}),n})();function d5(n,e){if(1&n&&c._UZ(0,"app-questions-group",6),2&n){const t=c.oxw().$implicit;c.Q6J("title",t.name)("assessmentSection",t)}}function h5(n,e){if(1&n&&(c.TgZ(0,"app-form-step",4),c.YNc(1,d5,1,2,"app-questions-group",5),c.qZA()),2&n){const t=e.$implicit;c.Q6J("stepControl",t.groupControl),c.xp6(1),c.Q6J("ngIf",t.questions.length>0)}}function f5(n,e){if(1&n){const t=c.EpF();c.ynx(0),c.TgZ(1,"app-form-stepper",2),c.NdJ("onSubmit",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.onSubmit())}),c.YNc(2,h5,2,2,"app-form-step",3),c.qZA(),c.BQk()}if(2&n){const t=c.oxw();c.xp6(2),c.Q6J("ngForOf",t.assessmentSections)}}let IU=(()=>{class n{constructor(t,r,i,s,u){this._answerService=t,this._sectionService=r,this._router=i,this._store=s,this._sectionsService=u,this.assessmentSections=[],this.employee=null,this.account=null,this.mapToAssessmentQuestion=p=>({question:p,control:new Af("",p.answerRequired?[Cx.required]:[])})}ngOnInit(){this.fetchAssessmentSections()}fetchAssessmentSections(){this._sectionService.getAssessmentSections().subscribe(t=>{t.forEach(r=>{r.id>1&&this._sectionService.getAssessmentSectionQuestions(r.id).subscribe(i=>{const s=i.map(this.mapToAssessmentQuestion);let u={name:r.title,id:r.id,description:r.description,questions:s,groupControl:new ES(s.map(p=>p.control))};this.assessmentSections.push(u)})})}),this.registerAssessmentSections()}onSubmit(){this._store.select(V1).subscribe(s=>{this.employee=s}),this._store.select(XB).subscribe(s=>{this.account=s}),this._sectionsService.answerToBackend.employeeId=this.employee?.id,this._sectionsService.answerToBackend.accountId=this.account?.id,this._sectionsService.answerToBackend.assessmentId=1,this._sectionsService.answerToBackend.projectName="",this._sectionsService.answerToBackend.projectInfo="",this._sectionsService.answerToBackend.employeeEmail=this.employee?.email;const r=this.assessmentSections.map(({name:s})=>this._answerService.getSectionAnswers(s)),i=lW.flattenDeep(r);this._sectionService.answerToBackend.assessmentAnswers=i,this._sectionService.sendAnswers().subscribe({next:()=>{this._router.navigate(["assessment","finish"])}})}registerAssessmentSections(){setTimeout(()=>{this.assessmentSections.forEach(this._answerService.registerSection),console.log("ejectutado")},1e4)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(JB),c.Y36(H1),c.Y36(zo),c.Y36(yr.yh),c.Y36(H1))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-form"]],decls:2,vars:1,consts:[[1,"form"],[4,"ngIf"],[3,"onSubmit"],[3,"stepControl",4,"ngFor","ngForOf"],[3,"stepControl"],[3,"title","assessmentSection",4,"ngIf"],[3,"title","assessmentSection"]],template:function(t,r){1&t&&(c.TgZ(0,"main",0),c.YNc(1,f5,3,1,"ng-container",1),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngIf",r.assessmentSections.length>0))},dependencies:[MW,eU,ki,Dn,u5],styles:['[_nghost-%COMP%]{width:100%;display:grid;grid-template-columns:1fr minmax(300px,600px) 1fr;grid-template-rows:auto;grid-template-areas:"left-margin content right-margin";justify-content:center}.form[_ngcontent-%COMP%]{min-width:100%;grid-area:content}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px 0 0}']}),n})();const p5=[{path:"assessment/form",component:IU},{path:"assessment/finish",component:(()=>{class n{constructor(t,r){this._store=t,this._sectionsService=r,this.employee=null,this.account=null}ngOnInit(){this._store.select(V1).subscribe(r=>{this.employee=r}),this._store.select(XB).subscribe(r=>{this.account=r})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(yr.yh),c.Y36(H1))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-finish-banner"]],decls:9,vars:3,consts:[[1,"finish-banner","banner"],[1,"banner-title"],[1,"extra-message"],[1,"material-icons","color_green"]],template:function(t,r){1&t&&(c.TgZ(0,"main",0)(1,"span"),c._uU(2),c.qZA(),c.TgZ(3,"h1",1),c._uU(4,"Tu respuesta ha sido enviada y almacenada."),c.qZA(),c.TgZ(5,"h2",2),c._uU(6," Gracias por tu tiempo y sinceridad desde la vertical de desarrollo y arquitectura. "),c.qZA(),c.TgZ(7,"mat-icon",3),c._uU(8,"check_circle_outline"),c.qZA()()),2&t&&(c.xp6(2),c.lnq("Empleado:",null==r.employee?null:r.employee.name," ",null==r.employee?null:r.employee.lastname," ",null==r.employee?null:r.employee.email," "))},dependencies:[J0],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0 10px}.extra-message[_ngcontent-%COMP%]{text-align:center;font-size:2}.material-icons.color_green[_ngcontent-%COMP%]{--icon-size: 100px;width:var(--icon-size);height:var(--icon-size);font-size:var(--icon-size);color:#26b926}"]}),n})()}];let m5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ta.forRoot(p5),ta]}),n})();var g5=R(1144);const _5=["addListener","removeListener"],y5=["addEventListener","removeEventListener"],v5=["on","off"];function GS(n,e,t,r){if((0,_i.m)(t)&&(r=t,t=void 0),r)return GS(n,e,t).pipe(eg(r));const[i,s]=function w5(n){return(0,_i.m)(n.addEventListener)&&(0,_i.m)(n.removeEventListener)}(n)?y5.map(u=>p=>n[u](e,p,t)):function b5(n){return(0,_i.m)(n.addListener)&&(0,_i.m)(n.removeListener)}(n)?_5.map(DU(n,e)):function E5(n){return(0,_i.m)(n.on)&&(0,_i.m)(n.off)}(n)?v5.map(DU(n,e)):[];if(!i&&(0,g5.z)(n))return(0,ns.z)(u=>GS(u,e,t))((0,qu.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Zr.y(u=>{const p=(...y)=>u.next(1<y.length?y:y[0]);return i(p),()=>s(p)})}function DU(n,e){return t=>r=>n[t](e,r)}var SU=R(4408);const Lx={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Lx;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Bi.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Lx;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Lx;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var TU=R(7565);const I5=new class C5 extends TU.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class x5 extends SU.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Lx.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Lx.cancelAnimationFrame(t),e._scheduled=void 0)}});let q1,D5=1;const WS={};function AU(n){return n in WS&&(delete WS[n],!0)}const S5={setImmediate(n){const e=D5++;return WS[e]=!0,q1||(q1=Promise.resolve()),q1.then(()=>AU(e)&&n()),e},clearImmediate(n){AU(n)}},{setImmediate:T5,clearImmediate:A5}=S5,qS={setImmediate(...n){const{delegate:e}=qS;return(e?.setImmediate||T5)(...n)},clearImmediate(n){const{delegate:e}=qS;return(e?.clearImmediate||A5)(n)},delegate:void 0},R5=new class k5 extends TU.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class M5 extends SU.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=qS.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(qS.clearImmediate(t),e._scheduled=void 0)}});var P5=R(3532),F5=R(1165);function K1(n,e=Av.z){return function O5(n){return(0,ao.e)((e,t)=>{let r=!1,i=null,s=null,u=!1;const p=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const w=i;i=null,t.next(w)}u&&t.complete()},y=()=>{s=null,u&&t.complete()};e.subscribe((0,so.x)(t,w=>{r=!0,i=w,s||(0,qu.Xf)(n(w)).subscribe(s=(0,so.x)(t,p,y))},()=>{u=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function N5(n=0,e,t=Av.P){let r=-1;return null!=e&&((0,P5.K)(e)?t=e:r=e),new Zr.y(i=>{let s=(0,F5.q)(n)?+n-t.now():n;s<0&&(s=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}const L5=["contentWrapper"],B5=["*"],U5=new c.OlP("VIRTUAL_SCROLL_STRATEGY");let KS=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new On.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Zr.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(K1(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,gt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe((0,Yr.h)(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=sc(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>GS(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Do),c.LFG(ee,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MU=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=s,this._destroyed=new On.x,this._elementScrolled=new Zr.y(u=>this.ngZone.runOutsideAngular(()=>GS(this.elementRef.nativeElement,"scroll").pipe((0,As.R)(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=Je()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==Je()?t.left=t.right:1==Je()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;xe()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?i:r:"end"==t&&(t=u?r:i),u&&2==Je()?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:u&&1==Je()?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(KS),c.Y36(c.R0b),c.Y36(Qs,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),ZS=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new On.x,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(K1(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Do),c.LFG(c.R0b),c.LFG(ee,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kU=new c.OlP("VIRTUAL_SCROLLABLE");let j5=(()=>{class n extends MU{constructor(t,r,i,s){super(t,r,i,s)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(KS),c.Y36(c.R0b),c.Y36(Qs,8))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const $5=typeof requestAnimationFrame<"u"?I5:R5;let G5=(()=>{class n extends j5{constructor(t,r,i,s,u,p,y,w){super(t,p,i,u),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=s,this.scrollable=w,this._platform=(0,c.f3M)(Do),this._detachedSubject=new On.x,this._renderedRangeSubject=new On.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Zr.y(D=>this._scrollStrategy.scrolledIndexChange.subscribe(P=>Promise.resolve().then(()=>this.ngZone.run(()=>D.next(P))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Bi.w0.EMPTY,this._viewportChanges=y.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=Dr(t)}ngOnInit(){!this._platform.isBrowser||(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Ys(null),K1(0,$5)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe((0,As.R)(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function z5(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const s="horizontal"==this.orientation,u=s?"X":"Y";let y=`translate${u}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(y+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=y&&(this._renderedContentTransform=y,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",s="right",u="rtl"==this.dir?.value;r="start"==t?u?s:i:"end"==t?u?i:s:t||("horizontal"===this.orientation?"left":"top");const p=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-p}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(U5,8),c.Y36(Qs,8),c.Y36(KS),c.Y36(ZS),c.Y36(kU,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&c.Gf(L5,7),2&t){let i;c.iGM(i=c.CRH())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&c.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[c._Bn([{provide:MU,useFactory:(e,t)=>e||t,deps:[[new c.FiY,new c.tBr(kU)],n]}]),c.qOj,c.jDz],ngContentSelectors:B5,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA(),c._UZ(3,"div",2)),2&t&&(c.xp6(3),c.Udp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Z1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),RU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[iu,Z1,G5,iu,Z1]}),n})();class Y1{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class W5 extends Y1{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class OU extends Y1{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class q5 extends Y1{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class K5{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof W5?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof OU?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof q5?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Z5 extends K5{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=u=>{const p=u.element,y=this._document.createComment("dom-portal");p.parentNode.insertBefore(y,p),this.outletElement.appendChild(p),this._attachedPortal=u,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(p,y)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Y5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const PU=xe();class Q5{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=oo(-this._previousScrollPosition.left),e.style.top=oo(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",u=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),PU&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),PU&&(r.scrollBehavior=s,i.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class X5{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class FU{enable(){}disable(){}attach(){}}function Q1(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function NU(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class J5{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Q1(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let eq=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new FU,this.close=u=>new X5(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new Q5(this._viewportRuler,this._document),this.reposition=u=>new J5(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(KS),c.LFG(ZS),c.LFG(c.R0b),c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class LU{constructor(e){if(this.scrollStrategy=new FU,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class tq{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let BU=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nq=(()=>{class n extends BU{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const p=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(i)):p.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rq=(()=>{class n extends BU{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Ni(s)},this._clickListener=s=>{const u=Ni(s),p="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const y=this._attachedOverlays.slice();for(let w=y.length-1;w>-1;w--){const D=y[w];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(u)||D.overlayElement.contains(p))break;const P=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>P.next(s)):P.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(Do),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UU=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Li()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),Li()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(Do))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class iq{constructor(e,t,r,i,s,u,p,y,w,D=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=u,this._document=p,this._location=y,this._outsideClickDispatcher=w,this._animationsDisabled=D,this._backdropElement=null,this._backdropClick=new On.x,this._attachments=new On.x,this._detachments=new On.x,this._locationChanges=Bi.w0.EMPTY,this._backdropClickHandler=P=>this._backdropClick.next(P),this._backdropTransitionendHandler=P=>{this._disposeBackdrop(P.target)},this._keydownEvents=new On.x,this._outsidePointerEvents=new On.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ac.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=oo(this._config.width),e.height=oo(this._config.height),e.minWidth=oo(this._config.minWidth),e.minHeight=oo(this._config.minHeight),e.maxWidth=oo(this._config.maxWidth),e.maxHeight=oo(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=qc(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,As.R)((0,su.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const VU="cdk-overlay-connected-position-bounding-box",oq=/([A-Za-z%]+)$/;class sq{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new On.x,this._resizeSubscription=Bi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(VU),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let u;for(let p of this._preferredPositions){let y=this._getOriginPoint(e,i,p),w=this._getOverlayPoint(y,t,p),D=this._getOverlayFit(w,t,r,p);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(p,y);this._canFitWithFlexibleDimensions(D,w,r)?s.push({position:p,origin:y,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(y,p)}):(!u||u.overlayFit.visibleArea<D.visibleArea)&&(u={overlayFit:D,overlayPoint:w,originPoint:y,position:p,overlayRect:t})}if(s.length){let p=null,y=-1;for(const w of s){const D=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);D>y&&(y=D,p=w)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&B_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(VU),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,p=this._isRtl()?e.left:e.right;i="start"==r.originX?u:p}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=jU(t);let{x:u,y:p}=e,y=this._getOffset(i,"x"),w=this._getOffset(i,"y");y&&(u+=y),w&&(p+=w);let $=0-p,Y=p+s.height-r.height,Q=this._subtractOverflows(s.width,0-u,u+s.width-r.width),me=this._subtractOverflows(s.height,$,Y),De=Q*me;return{visibleArea:De,isCompletelyWithinViewport:s.width*s.height===De,fitsInViewportVertically:me===s.height,fitsInViewportHorizontally:Q==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,u=HU(this._overlayRef.getConfig().minHeight),p=HU(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=p&&p<=s;return(e.fitsInViewportVertically||null!=u&&u<=i)&&w}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=jU(t),s=this._viewportRect,u=Math.max(e.x+i.width-s.width,0),p=Math.max(e.y+i.height-s.height,0),y=Math.max(s.top-r.top-e.y,0),w=Math.max(s.left-r.left-e.x,0);let D=0,P=0;return D=i.width<=s.width?w||-u:e.x<this._viewportMargin?s.left-r.left-e.x:0,P=i.height<=s.height?y||-p:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:D,y:P},{x:e.x+D,y:e.y+P}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new tq(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,u,p,D,P,$;if("top"===t.overlayY)u=e.y,s=r.height-u+this._viewportMargin;else if("bottom"===t.overlayY)p=r.height-e.y+2*this._viewportMargin,s=r.height-p+this._viewportMargin;else{const Y=Math.min(r.bottom-e.y+r.top,e.y),Q=this._lastBoundingBoxSize.height;s=2*Y,u=e.y-Y,s>Q&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-Q/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)$=r.width-e.x+this._viewportMargin,D=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)P=e.x,D=r.right-e.x;else{const Y=Math.min(r.right-e.x+r.left,e.x),Q=this._lastBoundingBoxSize.width;D=2*Y,P=e.x-Y,D>Q&&!this._isInitialRender&&!this._growAfterOpen&&(P=e.x-Q/2)}return{top:u,left:P,bottom:p,right:$,width:D,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;i.height=oo(r.height),i.top=oo(r.top),i.bottom=oo(r.bottom),i.width=oo(r.width),i.left=oo(r.left),i.right=oo(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=oo(s)),u&&(i.maxWidth=oo(u))}this._lastBoundingBoxSize=r,B_(this._boundingBox.style,i)}_resetBoundingBoxStyles(){B_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){B_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(i){const D=this._viewportRuler.getViewportScrollPosition();B_(r,this._getExactOverlayY(t,e,D)),B_(r,this._getExactOverlayX(t,e,D))}else r.position="static";let p="",y=this._getOffset(t,"x"),w=this._getOffset(t,"y");y&&(p+=`translateX(${y}px) `),w&&(p+=`translateY(${w}px)`),r.transform=p.trim(),u.maxHeight&&(i?r.maxHeight=oo(u.maxHeight):s&&(r.maxHeight="")),u.maxWidth&&(i?r.maxWidth=oo(u.maxWidth):s&&(r.maxWidth="")),B_(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=oo(s.y),i}_getExactOverlayX(e,t,r){let u,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=oo(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:NU(e,r),isOriginOutsideView:Q1(e,r),isOverlayClipped:NU(t,r),isOverlayOutsideView:Q1(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&qc(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function B_(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function HU(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(oq);return t&&"px"!==t?null:parseFloat(e)}return n||null}function jU(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const zU="cdk-global-overlay-wrapper";class aq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(zU),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:u,maxHeight:p}=r,y=!("100%"!==i&&"100vw"!==i||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==s&&"100vh"!==s||p&&"100%"!==p&&"100vh"!==p),D=this._xPosition,P=this._xOffset,$="rtl"===this._overlayRef.getConfig().direction;let Y="",Q="",me="";y?me="flex-start":"center"===D?(me="center",$?Q=P:Y=P):$?"left"===D||"end"===D?(me="flex-end",Y=P):("right"===D||"start"===D)&&(me="flex-start",Q=P):"left"===D||"start"===D?(me="flex-start",Y=P):("right"===D||"end"===D)&&(me="flex-end",Q=P),e.position=this._cssPosition,e.marginLeft=y?"0":Y,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=y?"0":Q,t.justifyContent=me,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(zU),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let cq=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new aq}flexibleConnectedTo(t){return new sq(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ZS),c.LFG(ee),c.LFG(Do),c.LFG(UU))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lq=0,YS=(()=>{class n{constructor(t,r,i,s,u,p,y,w,D,P,$,Y){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=p,this._ngZone=y,this._document=w,this._directionality=D,this._location=P,this._outsideClickDispatcher=$,this._animationsModuleType=Y}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),u=new LU(t);return u.direction=u.direction||this._directionality.value,new iq(s,r,i,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+lq++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new Z5(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(eq),c.LFG(UU),c.LFG(c._Vd),c.LFG(cq),c.LFG(nq),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(ee),c.LFG(Qs),c.LFG(Be),c.LFG(rq),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uq=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],$U=new c.OlP("cdk-connected-overlay-scroll-strategy");let X1=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),GU=(()=>{class n{constructor(t,r,i,s,u){this._overlay=t,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Bi.w0.EMPTY,this._attachSubscription=Bi.w0.EMPTY,this._detachSubscription=Bi.w0.EMPTY,this._positionSubscription=Bi.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new c.vpe,this.positionChange=new c.vpe,this.attach=new c.vpe,this.detach=new c.vpe,this.overlayKeydown=new c.vpe,this.overlayOutsideClick=new c.vpe,this._templatePortal=new OU(r,i),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Dr(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Dr(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Dr(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Dr(t)}get push(){return this._push}set push(t){this._push=Dr(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=uq);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!Fd(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new LU({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof X1?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(b(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(YS),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36($U),c.Y36(Qs,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[c.TTD]}),n})();const hq={provide:$U,deps:[YS],useFactory:function dq(n){return()=>n.scrollStrategies.reposition()}};let fq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[YS,hq],imports:[iu,Y5,RU,RU]}),n})();const pq=["trigger"],mq=["panel"];function gq(n,e){if(1&n&&(c.TgZ(0,"span",10),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.placeholder)}}function _q(n,e){if(1&n&&(c.TgZ(0,"span",14),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.triggerValue)}}function yq(n,e){1&n&&c.Hsn(0,0,["*ngSwitchCase","true"])}function vq(n,e){if(1&n&&(c.TgZ(0,"span",11),c.YNc(1,_q,2,1,"span",12),c.YNc(2,yq,1,0,"ng-content",13),c.qZA()),2&n){const t=c.oxw();c.Q6J("ngSwitch",!!t.customTrigger),c.xp6(2),c.Q6J("ngSwitchCase",!0)}}function bq(n,e){if(1&n){const t=c.EpF();c.O4$(),c.kcU(),c.TgZ(0,"div",15,16),c.NdJ("@transformPanel.done",function(i){c.CHM(t);const s=c.oxw();return c.KtG(s._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){c.CHM(t);const s=c.oxw();return c.KtG(s._handleKeydown(i))}),c.Hsn(2,1),c.qZA()}if(2&n){const t=c.oxw();c.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),c.Q6J("ngClass",t.panelClass)("@transformPanel","showing"),c.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const Eq=[[["mat-select-trigger"]],"*"],wq=["mat-select-trigger","*"],xq={transformPanelWrap:h1("transformPanelWrap",[SS("* => void",l6("@transformPanel",[c6()],{optional:!0}))]),transformPanel:h1("transformPanel",[dB("void",P_({opacity:0,transform:"scale(1, 0.8)"})),SS("void => showing",f1("120ms cubic-bezier(0, 0, 0.2, 1)",P_({opacity:1,transform:"scale(1, 1)"}))),SS("* => void",f1("100ms linear",P_({opacity:0})))])};let WU=0;const qU=new c.OlP("mat-select-scroll-strategy"),Iq=new c.OlP("MAT_SELECT_CONFIG"),Dq={provide:qU,deps:[YS],useFactory:function Cq(n){return()=>n.scrollStrategies.reposition()}},Sq=new c.OlP("MatSelectTrigger");class Tq{constructor(e,t){this.source=e,this.value=t}}const Aq=sf(og(gp(Oy(class{constructor(n,e,t,r,i){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=r,this.ngControl=i,this.stateChanges=new On.x}}))));let Mq=(()=>{class n extends Aq{constructor(t,r,i,s,u,p,y,w,D,P,$,Y,Q,me){super(u,s,y,w,P),this._viewportRuler=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=p,this._parentFormField=D,this._liveAnnouncer=Q,this._defaultOptions=me,this._panelOpen=!1,this._compareWith=(De,dt)=>De===dt,this._uid="mat-select-"+WU++,this._triggerAriaLabelledBy=null,this._destroy=new On.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+WU++,this._panelDoneAnimatingStream=new On.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=oh(()=>{const De=this.options;return De?De.changes.pipe(Ys(De),(0,Ur.w)(()=>(0,su.T)(...De.map(dt=>dt.onSelectionChange)))):this._ngZone.onStable.pipe((0,ac.q)(1),(0,Ur.w)(()=>this.optionSelectionChanges))}),this.openedChange=new c.vpe,this._openedStream=this.openedChange.pipe((0,Yr.h)(De=>De),(0,vt.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Yr.h)(De=>!De),(0,vt.U)(()=>{})),this.selectionChange=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=me?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=me.typeaheadDebounceInterval),this._scrollStrategyFactory=Y,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt($)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Cx.required)??!1}set required(t){this._required=Dr(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Dr(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Dr(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Wc(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new D8(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,tf.x)(),(0,As.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,As.R)(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(Ys(null),(0,As.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),r=this.ngControl;if(t!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,i=40===r||38===r||37===r||39===r,s=13===r||32===r,u=this._keyManager;if(!u.isTyping()&&s&&!Fd(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const p=this.selected;u.onKeydown(t);const y=this.selected;y&&p!==y&&this._liveAnnouncer.announce(y.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,i=t.keyCode,s=40===i||38===i,u=r.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(u||13!==i&&32!==i||!r.activeItem||Fd(t))if(!u&&this._multiple&&65===i&&t.ctrlKey){t.preventDefault();const p=this.options.some(y=>!y.disabled&&!y.selected);this.options.forEach(y=>{y.disabled||(p?y.select():y.deselect())})}else{const p=r.activeItemIndex;r.onKeydown(t),this._multiple&&s&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==p&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ac.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,t)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new my(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,su.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,As.R)(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,su.T)(...this.options.map(r=>r._stateChanges)).pipe((0,As.R)(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,r){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r=null;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let r=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ZS),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Ly),c.Y36(c.SBq),c.Y36(Qs,8),c.Y36(Ax,8),c.Y36(zb,8),c.Y36($1,8),c.Y36(Dh,10),c.$8M("tabindex"),c.Y36(qU),c.Y36(Dy),c.Y36(Iq,8))},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,r){if(1&t&&(c.Gf(pq,5),c.Gf(mq,5),c.Gf(GU,5)),2&t){let i;c.iGM(i=c.CRH())&&(r.trigger=i.first),c.iGM(i=c.CRH())&&(r.panel=i.first),c.iGM(i=c.CRH())&&(r._overlayDir=i.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[c.qOj,c.TTD]}),n})(),kq=(()=>{class n extends Mq{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}]}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,As.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(t){const r=this.options.toArray()[t];if(r){const i=this.panel.nativeElement,s=function $y(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),s=0;for(let u=0;u<n+1;u++)r[u].group&&r[u].group===i[s]&&s++;return s}return 0}(t,this.options,this.optionGroups),u=r._getHostElement();i.scrollTop=0===t&&1===s?0:function q0(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}(u.offsetTop,u.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new Tq(this,t)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof X1?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,Sq,5),c.Suo(i,zy,5),c.Suo(i,jy,5)),2&t){let s;c.iGM(s=c.CRH())&&(r.customTrigger=s.first),c.iGM(s=c.CRH())&&(r.options=s),c.iGM(s=c.CRH())&&(r.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,r){1&t&&c.NdJ("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&t&&(c.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),c.ekj("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[c._Bn([{provide:z1,useExisting:n},{provide:bp,useExisting:n}]),c.qOj],ngContentSelectors:wq,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,r){if(1&t&&(c.F$t(Eq),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return r.toggle()}),c.TgZ(3,"div",2),c.YNc(4,gq,2,1,"span",3),c.YNc(5,vq,3,2,"span",4),c.qZA(),c.TgZ(6,"div",5)(7,"div",6),c.O4$(),c.TgZ(8,"svg",7),c._UZ(9,"path",8),c.qZA()()()(),c.YNc(10,bq,3,9,"ng-template",9),c.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&t){const i=c.MAs(1);c.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),c.xp6(3),c.Q6J("ngSwitch",r.empty),c.uIk("id",r._valueId),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1),c.xp6(5),c.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||i)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[mo,ko,cs,fa,GU,X1],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[xq.transformPanel]},changeDetection:0}),n})(),Rq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Dq],imports:[bi,fq,bo,ui,Z1,W1,bo,ui]}),n})(),KU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[bi,cB,o6,v8,L8,J8,Rq,fg]}),n})(),Oq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[bi,nU]}),n})(),Pq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[IU]}),n.\u0275inj=c.cJS({imports:[Oq,m5,cB,Xo,cW,KU]}),n})(),Fq=(()=>{class n{constructor(){}groupBy(t,r){return t.reduce((i,s)=>{const u=r(s).toString();return i[u]||(i[u]=[]),i[u].push(s),i},{})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZU=(()=>{class n{constructor(t){this._router=t}canActivate(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zo))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Nq=R(552);class J1{constructor(e){return e}}const eO=new c.OlP("angularfire2.auth-instances");function Uq(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new J1(r)}}const Vq={provide:class Lq{constructor(){return(0,rr.vb)("auth")}},deps:[[new c.FiY,eO]]},Hq={provide:J1,useFactory:function Bq(n,e){const t=(0,rr.JM)("auth",n,e);return t&&new J1(t)},deps:[[new c.FiY,eO],vx]};let jq=(()=>{class n{constructor(){(0,M_.KN)("angularfire",rr.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Hq,Vq]}),n})();function zq(n,...e){return{ngModule:jq,providers:[{provide:eO,useFactory:Uq(n),multi:!0,deps:[c.R0b,c.zs3,rr.HU,yL,[new c.FiY,wx],...e]}]}}const $q=(0,rr.u3)(Nq.n,!0),QU="firebasestorage.googleapis.com",XU="storageBucket";class Eo extends Pn.ZR{constructor(e,t,r=0){super(tO(e),`Firebase Storage: ${t} (${tO(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Eo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function tO(n){return"storage/"+n}function nO(){return new Eo("unknown","An unknown error occurred, please check the error payload for server response.")}function JU(){return new Eo("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function eV(){return new Eo("canceled","User canceled the upload/download.")}function tV(){return new Eo("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Gb(n){return new Eo("invalid-argument",n)}function nV(){return new Eo("app-deleted","The Firebase app was deleted.")}function rV(n){return new Eo("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bx(n,e){return new Eo("invalid-format","String does not match format '"+n+"': "+e)}function Ux(n){throw new Eo("internal-error","Internal error: "+n)}class Ba{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ba.makeFromUrl(e,t)}catch{return new Ba(e,"")}if(""===r.path)return r;throw function eK(n){return new Eo("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",p=new RegExp("^gs://"+i+"(/(.*))?$","i");function w(xt){xt.path_=decodeURIComponent(xt.path)}const P=t.replace(/[.]/g,"\\."),It=[{regex:p,indices:{bucket:1,path:3},postModify:function s(xt){"/"===xt.path.charAt(xt.path.length-1)&&(xt.path_=xt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${P}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:w},{regex:new RegExp(`^https?://${t===QU?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:w}];for(let xt=0;xt<It.length;xt++){const Jt=It[xt],nn=Jt.regex.exec(e);if(nn){let Ko=nn[Jt.indices.path];Ko||(Ko=""),r=new Ba(nn[Jt.indices.bucket],Ko),Jt.postModify(r);break}}if(null==r)throw function Jq(n){return new Eo("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class oK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function QS(n){return"string"==typeof n||n instanceof String}function iV(n){return rO()&&n instanceof Blob}function rO(){return typeof Blob<"u"&&!(0,Pn.UG)()}function iO(n,e,t,r){if(r<e)throw Gb(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Gb(`Invalid value for '${n}'. Expected ${t} or less.`)}function Rf(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function oV(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Im=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Im||(Im={})),Im))();function sV(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class dK{constructor(e,t,r,i,s,u,p,y,w,D,P,$=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=u,this.callback_=p,this.errorCallback_=y,this.timeout_=w,this.progressCallback_=D,this.connectionFactory_=P,this.retry=$,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Y,Q)=>{this.resolve_=Y,this.reject_=Q,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,u=this.reject_,p=i.connection;if(i.wasSuccessCode)try{const y=this.callback_(p,p.getResponse());!function cK(n){return void 0!==n}(y)?s():s(y)}catch(y){u(y)}else if(null!==p){const y=nO();y.serverResponse=p.getErrorText(),u(this.errorCallback_?this.errorCallback_(p,y):y)}else u(i.canceled?this.appDelete_?nV():eV():JU())};this.canceled_?t(0,new XS(!1,null,!0)):this.backoffId_=function sK(n,e,t){let r=1,i=null,s=null,u=!1,p=0;function y(){return 2===p}let w=!1;function D(...De){w||(w=!0,e.apply(null,De))}function P(De){i=setTimeout(()=>{i=null,n(Y,y())},De)}function $(){s&&clearTimeout(s)}function Y(De,...dt){if(w)return void $();if(De)return $(),void D.call(null,De,...dt);if(y()||u)return $(),void D.call(null,De,...dt);let It;r<64&&(r*=2),1===p?(p=2,It=0):It=1e3*(r+Math.random()),P(It)}let Q=!1;function me(De){Q||(Q=!0,$(),!w&&(null!==i?(De||(p=2),clearTimeout(i),P(0)):De||(p=1)))}return P(0),s=setTimeout(()=>{u=!0,me(!0)},t),me}((r,i)=>{if(i)return void r(!1,new XS(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const u=p=>{null!==this.progressCallback_&&this.progressCallback_(p.loaded,p.lengthComputable?p.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(u),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(u),this.pendingConnection_=null;const p=s.getErrorCode()===Im.NO_ERROR,y=s.getStatus();if((!p||sV(y,this.additionalRetryCodes_))&&this.retry){const D=s.getErrorCode()===Im.ABORT;return void r(!1,new XS(!1,null,D))}const w=-1!==this.successCodes_.indexOf(y);r(!0,new XS(w,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function aK(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class XS{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function yK(...n){const e=function _K(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(rO())return new Blob(n);throw new Eo("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ml={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class oO{constructor(e,t){this.data=e,this.contentType=t||null}}function sO(n,e){switch(n){case Ml.RAW:return new oO(aV(e));case Ml.BASE64:case Ml.BASE64URL:return new oO(cV(n,e));case Ml.DATA_URL:return new oO(function wK(n){const e=new lV(n);return e.base64?cV(Ml.BASE64,e.rest):function EK(n){let e;try{e=decodeURIComponent(n)}catch{throw Bx(Ml.DATA_URL,"Malformed data URL.")}return aV(e)}(e.rest)}(e),function xK(n){return new lV(n).contentType}(e))}throw nO()}function aV(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function cV(n,e){switch(n){case Ml.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Bx(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ml.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Bx(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function bK(n){if(typeof atob>"u")throw function iK(n){return new Eo("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Bx(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class lV{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Bx(Ml.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function CK(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Th{constructor(e,t){let r=0,i="";iV(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(iV(this.data_)){const i=function vK(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Th(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Th(r,!0)}}static getBlob(...e){if(rO()){const t=e.map(r=>r instanceof Th?r.data_:r);return new Th(yK.apply(null,t))}{const t=e.map(u=>QS(u)?sO(Ml.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(u=>{for(let p=0;p<u.length;p++)i[s++]=u[p]}),new Th(i,!0)}}uploadData(){return this.data_}}function aO(n){let e;try{e=JSON.parse(n)}catch{return null}return function uK(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function uV(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function SK(n,e){return e}class bc{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||SK}}let JS=null;function Vx(){if(JS)return JS;const n=[];n.push(new bc("bucket")),n.push(new bc("generation")),n.push(new bc("metageneration")),n.push(new bc("name","fullPath",!0));const t=new bc("name");t.xform=function e(s,u){return function TK(n){return!QS(n)||n.length<2?n:uV(n)}(u)},n.push(t);const i=new bc("size");return i.xform=function r(s,u){return void 0!==u?Number(u):u},n.push(i),n.push(new bc("timeCreated")),n.push(new bc("updated")),n.push(new bc("md5Hash",null,!0)),n.push(new bc("cacheControl",null,!0)),n.push(new bc("contentDisposition",null,!0)),n.push(new bc("contentEncoding",null,!0)),n.push(new bc("contentLanguage",null,!0)),n.push(new bc("contentType",null,!0)),n.push(new bc("metadata","customMetadata",!0)),JS=n,JS}function dV(n,e,t){const r=aO(e);return null===r?null:function MK(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const u=t[s];r[u.local]=u.xform(r,e[u.server])}return function AK(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Ba(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function cO(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const hV="prefixes";class Ah{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Mh(n){if(!n)throw nO()}function eT(n,e){return function t(r,i){const s=dV(n,i,e);return Mh(null!==s),s}}function Wb(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Qq(){return new Eo("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Yq(){return new Eo("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Zq(n){return new Eo("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Xq(n){return new Eo("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function Hx(n){const e=Wb(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function Kq(n){return new Eo("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function pV(n,e,t){const i=Rf(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,p=new Ah(i,"GET",eT(n,t),u);return p.errorHandler=Hx(e),p}function NK(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const p=Rf(e.bucketOnlyServerUrl(),n.host,n._protocol),w=n.maxOperationRetryTime,D=new Ah(p,"GET",function PK(n,e){return function t(r,i){const s=function OK(n,e,t){const r=aO(t);return null===r?null:function RK(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[hV])for(const i of t[hV]){const s=i.replace(/\/$/,""),u=n._makeStorageReference(new Ba(e,s));r.prefixes.push(u)}if(t.items)for(const i of t.items){const s=n._makeStorageReference(new Ba(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return Mh(null!==s),s}}(n,e.bucket),w);return D.urlParams=s,D.errorHandler=Wb(e),D}function gV(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function VK(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class tT{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function lO(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Mh(!1)}return Mh(!!t&&-1!==(e||["active"]).indexOf(t)),t}const $K={STATE_CHANGED:"state_changed"},Ec={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function uO(n){switch(n){case"running":case"pausing":case"canceling":return Ec.RUNNING;case"paused":return Ec.PAUSED;case"success":return Ec.SUCCESS;case"canceled":return Ec.CANCELED;default:return Ec.ERROR}}class GK{constructor(e,t,r){if(function lK(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function qb(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class WK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Im.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Im.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Im.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Ux("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ux("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ux("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ux("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ux("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class qK extends WK{initXhr(){this.xhr_.responseType="text"}}function rd(){return new qK}class bV{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Vx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(sV(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=JU()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function HK(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),u=gV(e,r,i),p={name:u.fullPath},y=Rf(s,n.host,n._protocol),D={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},P=cO(u,t),Q=new Ah(y,"POST",function Y(me){let De;lO(me);try{De=me.getResponseHeader("X-Goog-Upload-URL")}catch{Mh(!1)}return Mh(QS(De)),De},n.maxUploadRetryTime);return Q.urlParams=p,Q.headers=D,Q.body=P,Q.errorHandler=Wb(e),Q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,rd,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function jK(n,e,t,r){const y=new Ah(t,"POST",function s(w){const D=lO(w,["active","final"]);let P=null;try{P=w.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Mh(!1)}P||Mh(!1);const $=Number(P);return Mh(!isNaN($)),new tT($,r.size(),"final"===D)},n.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=Wb(e),y}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,rd,t,r);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new tT(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let u;try{u=function zK(n,e,t,r,i,s,u,p){const y=new tT(0,0);if(u?(y.current=u.current,y.total=u.total):(y.current=0,y.total=r.size()),r.size()!==y.total)throw function nK(){return new Eo("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const w=y.total-y.current;let D=w;i>0&&(D=Math.min(D,i));const P=y.current;let Y="";Y=0===D?"finalize":w===D?"upload, finalize":"upload";const Q={"X-Goog-Upload-Command":Y,"X-Goog-Upload-Offset":`${y.current}`},me=r.slice(P,P+D);if(null===me)throw tV();const It=new Ah(t,"POST",function De(xt,Jt){const nn=lO(xt,["active","final"]),Xn=y.current+D,Ko=r.size();let kl;return kl="final"===nn?eT(e,s)(xt,Jt):null,new tT(Xn,Ko,"final"===nn,kl)},e.maxUploadRetryTime);return It.headers=Q,It.body=me.uploadData(),It.progressCallback=p||null,It.errorHandler=Wb(n),It}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const p=this._ref.storage._makeRequest(u,rd,i,s,!1);this._request=p,p.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=pV(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,rd,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function _V(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},y=function p(){let It="";for(let xt=0;xt<2;xt++)It+=Math.random().toString().slice(2);return It}();u["Content-Type"]="multipart/related; boundary="+y;const w=gV(e,r,i),D=cO(w,t),Y=Th.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+D+"\r\n--"+y+"\r\nContent-Type: "+w.contentType+"\r\n\r\n",r,"\r\n--"+y+"--");if(null===Y)throw tV();const Q={name:w.fullPath},me=Rf(s,n.host,n._protocol),dt=n.maxUploadRetryTime,Et=new Ah(me,"POST",eT(n,t),dt);return Et.urlParams=Q,Et.headers=u,Et.body=Y.uploadData(),Et.errorHandler=Wb(e),Et}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,rd,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=eV(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=uO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new GK(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(uO(this._state)){case Ec.SUCCESS:qb(this._resolve.bind(null,this.snapshot))();break;case Ec.CANCELED:case Ec.ERROR:qb(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(uO(this._state)){case Ec.RUNNING:case Ec.PAUSED:e.next&&qb(e.next.bind(e,this.snapshot))();break;case Ec.SUCCESS:e.complete&&qb(e.complete.bind(e))();break;default:e.error&&qb(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class U_{constructor(e,t){this._service=e,this._location=t instanceof Ba?t:Ba.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new U_(e,t)}get root(){const e=new Ba(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uV(this._location.path)}get storage(){return this._service}get parent(){const e=function IK(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ba(this._location.bucket,e);return new U_(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw rV(e)}}function wV(n,e,t){return dO.apply(this,arguments)}function dO(){return dO=(0,qe.Z)(function*(n,e,t){const i=yield xV(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield wV(n,e,i.nextPageToken))}),dO.apply(this,arguments)}function xV(n,e){null!=e&&"number"==typeof e.maxResults&&iO("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=NK(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,rd)}function o7(n){n._throwIfRoot("getDownloadURL");const e=function LK(n,e,t){const i=Rf(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,p=new Ah(i,"GET",function FK(n,e){return function t(r,i){const s=dV(n,i,e);return Mh(null!==s),function kK(n,e,t,r){const i=aO(e);if(null===i||!QS(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const u=encodeURIComponent;return s.split(",").map(w=>{const P=n.fullPath;return Rf("/b/"+u(n.bucket)+"/o/"+u(P),t,r)+oV({alt:"media",token:w})})[0]}(s,i,n.host,n._protocol)}}(n,t),u);return p.errorHandler=Hx(e),p}(n.storage,n._location,Vx());return n.storage.makeRequestWithTokens(e,rd).then(t=>{if(null===t)throw function rK(){return new Eo("no-download-url","The given file does not have any download URLs.")}();return t})}function CV(n,e){const t=function DK(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Ba(n._location.bucket,t);return new U_(n.storage,r)}function IV(n,e){if(n instanceof hO){const t=n;if(null==t._bucket)throw function tK(){return new Eo("no-default-bucket","No default bucket found. Did you set the '"+XU+"' property when initializing the app?")}();const r=new U_(t,t._bucket);return null!=e?IV(r,e):r}return void 0!==e?CV(n,e):n}function l7(n,e){if(e&&function a7(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof hO)return function c7(n,e){return new U_(n,e)}(n,e);throw Gb("To use ref(service, url), the first argument must be a Storage instance.")}return IV(n,e)}function DV(n,e){const t=e?.[XU];return null==t?null:Ba.makeFromBucketSpec(t,n)}class hO{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=QU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ba.makeFromBucketSpec(i,this._host):DV(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ba.makeFromBucketSpec(this._url,e):DV(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){iO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){iO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,qe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,qe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new U_(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new oK(nV());{const u=function gK(n,e,t,r,i,s,u=!0){const p=oV(n.urlParams),y=n.url+p,w=Object.assign({},n.headers);return function pK(n,e){e&&(n["X-Firebase-GMPID"]=e)}(w,e),function hK(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(w,t),function fK(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(w,s),function mK(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(w,r),new dK(y,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,qe.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const SV="@firebase/storage";function MV(n,e){return l7(n=(0,Pn.m9)(n),e)}function v7(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new hO(t,r,i,e,tl.SDK_VERSION)}!function b7(){(0,tl._registerComponent)(new hh.wA("storage",v7,"PUBLIC").setMultipleInstances(!0)),(0,tl.registerVersion)(SV,"0.10.0",""),(0,tl.registerVersion)(SV,"0.10.0","esm2017")}();class nT{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class RV{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new nT(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new nT(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?u=>t(new nT(u,this,this._ref)):{next:t.next?u=>t.next(new nT(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class OV{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Of(e,this._service))}get items(){return this._delegate.items.map(e=>new Of(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Of{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function y7(n,e){return CV(n,e)}(this._delegate,e);return new Of(t,this.storage)}get root(){return new Of(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Of(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new RV(function d7(n,e,t){return function e7(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new bV(n,new Th(e),t)}(n=(0,Pn.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ml.RAW,r){this._throwIfRoot("putString");const i=sO(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new RV(new bV(this._delegate,new Th(i.data,!0),s),this)}listAll(){return function m7(n){return function n7(n){const e={prefixes:[],items:[]};return wV(n,e).then(()=>e)}(n=(0,Pn.m9)(n))}(this._delegate).then(e=>new OV(e,this.storage))}list(e){return function p7(n,e){return xV(n=(0,Pn.m9)(n),e)}(this._delegate,e||void 0).then(t=>new OV(t,this.storage))}getMetadata(){return function h7(n){return function r7(n){n._throwIfRoot("getMetadata");const e=pV(n.storage,n._location,Vx());return n.storage.makeRequestWithTokens(e,rd)}(n=(0,Pn.m9)(n))}(this._delegate)}updateMetadata(e){return function f7(n,e){return function i7(n,e){n._throwIfRoot("updateMetadata");const t=function BK(n,e,t,r){const s=Rf(e.fullServerUrl(),n.host,n._protocol),p=cO(t,r),w=n.maxOperationRetryTime,D=new Ah(s,"PATCH",eT(n,r),w);return D.headers={"Content-Type":"application/json; charset=utf-8"},D.body=p,D.errorHandler=Hx(e),D}(n.storage,n._location,e,Vx());return n.storage.makeRequestWithTokens(t,rd)}(n=(0,Pn.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function g7(n){return o7(n=(0,Pn.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function _7(n){return function s7(n){n._throwIfRoot("deleteObject");const e=function UK(n,e){const r=Rf(e.fullServerUrl(),n.host,n._protocol),p=new Ah(r,"DELETE",function u(y,w){},n.maxOperationRetryTime);return p.successCodes=[200,204],p.errorHandler=Hx(e),p}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,rd)}(n=(0,Pn.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw rV(e)}}class PV{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(FV(e))throw Gb("ref() expected a child path but got a URL, use refFromURL instead.");return new Of(MV(this._delegate,e),this)}refFromURL(e){if(!FV(e))throw Gb("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ba.makeFromUrl(e,this._delegate.host)}catch{throw Gb("refFromUrl() expected a valid full URL but got an invalid one.")}return new Of(MV(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function kV(n,e,t,r={}){!function u7(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Pn.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function FV(n){return/^[A-Za-z]+:\/\//.test(n)}function C7(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new PV(t,r)}function NV(n){const e=function D7(n){return new Zr.y(e=>{const t=u=>e.next(u);t(n.snapshot);const s=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){s()}}).pipe((0,Hu.b)(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,vt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function rT(n){return{getDownloadURL:()=>(0,gt.of)(void 0).pipe(rr.fc,(0,Ur.w)(()=>n.getDownloadURL()),rr.iC),getMetadata:()=>(0,gt.of)(void 0).pipe(rr.fc,(0,Ur.w)(()=>n.getMetadata()),rr.iC),delete:()=>(0,Mr.D)(n.delete()),child:e=>rT(n.child(e)),updateMetadata:e=>(0,Mr.D)(n.updateMetadata(e)),put:(e,t)=>NV(n.put(e,t)),putString:(e,t,r)=>NV(n.putString(e,t,r)),list:e=>(0,Mr.D)(n.list(e)),listAll:()=>(0,Mr.D)(n.listAll())}}!function I7(n){const e={TaskState:Ec,TaskEvent:$K,StringFormat:Ml,Storage:PV,Reference:Of};n.INTERNAL.registerComponent(new hh.wA("storage-compat",C7,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.2.0")}(NI.Z);const S7=new c.OlP("angularfire2.storageBucket"),T7=new c.OlP("angularfire2.storage.maxUploadRetryTime"),A7=new c.OlP("angularfire2.storage.maxOperationRetryTime"),M7=new c.OlP("angularfire2.storage.use-emulator");let k7=(()=>{class n{constructor(t,r,i,s,u,p,y,w,D,P){const $=(0,Rs.on)(t,u,r);this.storage=(0,Rs.cc)(`${$.name}.storage.${i}`,"AngularFireStorage",$.name,()=>{const Y=u.runOutsideAngular(()=>$.storage(i||void 0)),Q=D;return Q&&Y.useEmulator(...Q),y&&Y.setMaxUploadRetryTime(y),w&&Y.setMaxOperationRetryTime(w),Y},[y,w])}ref(t){return rT(this.storage.ref(t))}refFromURL(t){return rT(this.storage.refFromURL(t))}upload(t,r,i){return rT(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Rs.Dh),c.LFG(Rs.xv,8),c.LFG(S7,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(rr.HU),c.LFG(T7,8),c.LFG(A7,8),c.LFG(M7,8),c.LFG(wx,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),R7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),O7=(()=>{class n{constructor(){qp.Z.registerVersion("angularfire",rr.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[k7],imports:[R7]}),n})(),P7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[JB,Fq,r2,ZU],imports:[bi,fg,Rs.hO,rG,O7,Z$,r$(()=>i$(Ju_firebase)),zq(()=>$q()),Rs.hO.initializeApp(Ju_firebase)]}),n})(),F7=(()=>{class n{constructor(t,r){this._actions$=t,this._userService=r,this.getUser$=function Xy(n,e){const t=n(),r={...rE,...e};return Object.defineProperty(t,lf,{value:r}),t}(()=>this._actions$.pipe(function aE(...n){return(0,Yr.h)(e=>n.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}(qE),(0,Ur.w)(({employeeEmail:i})=>this._userService.getUserByEmail(i).pipe((0,vt.U)(s=>KE({user:s})),(0,ps.K)(s=>(0,gt.of)(FI({cause:s})))))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(sE),c.LFG(Vg))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var N7=R(825);function L7(n,e){1&n&&(c.ynx(0),c.TgZ(1,"span",7),c._uU(2,"*"),c.qZA(),c.BQk())}function B7(n,e){if(1&n&&(c.TgZ(0,"mat-option",8),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t.value),c.xp6(1),c.hij(" ",t.optionLabel," ")}}function U7(n,e){1&n&&(c.TgZ(0,"mat-error"),c._uU(1," Por favor seleccione algunas de las opciones. "),c.qZA())}let V7=(()=>{class n{constructor(){this.control=new Af,this.label="Dropdown input",this.options=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dropdown-input"]],inputs:{control:"control",label:"label",options:"options"},decls:12,vars:8,consts:[[1,"input"],[1,"label",3,"id"],[4,"ngIf"],[1,"options"],["appearance","fill"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"required-sign"],[3,"value"]],template:function(t,r){1&t&&(c.TgZ(0,"article",0)(1,"label",1),c._uU(2),c.YNc(3,L7,3,0,"ng-container",2),c.ALo(4,"isRequired"),c.qZA(),c.TgZ(5,"section",3)(6,"mat-form-field",4)(7,"mat-label"),c._uU(8,"Escoge una de las opciones."),c.qZA(),c.TgZ(9,"mat-select",5),c.YNc(10,B7,2,2,"mat-option",6),c.qZA(),c.YNc(11,U7,2,0,"mat-error",2),c.qZA()()()),2&t&&(c.xp6(1),c.MGl("id","",r.label,"-checkbox-group"),c.xp6(1),c.hij("",r.label," "),c.xp6(1),c.Q6J("ngIf",c.lcZ(4,6,r.control)),c.xp6(6),c.Q6J("formControl",r.control),c.xp6(1),c.Q6J("ngForOf",r.options),c.xp6(1),c.Q6J("ngIf",r.control.hasError("required")&&r.control.touched))},dependencies:[ki,Dn,Vb,R_,G1,j1,Fx,kq,zy,Nx],styles:["[_nghost-%COMP%]{--input-width: 100%;--input-max-width: 600px;--input-padding: 5px;--input-margin: 25px 0;--label-font-size: 1.8rem;--required-color: rgb(253, 28, 28);--error-font-size: 1.2rem}.input[_ngcontent-%COMP%]{width:var(--input-width);padding:var(--input-padding);margin:var(--input-margin)}.label[_ngcontent-%COMP%]{display:block;font-size:var(--label-font-size);margin:0 0 10px}.required-sign[_ngcontent-%COMP%]{font-weight:700;color:var(--required-color)}.field[_ngcontent-%COMP%]{width:var(--input-width);max-width:var(--input-max-width)}.options[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));grid-template-rows:auto;gap:0 10px;align-items:center}.error-message[_ngcontent-%COMP%]{padding:5px;margin:0 10.5px;font-size:var(--error-font-size)}"]}),n})();const H7=["determinateSpinner"];function j7(n,e){if(1&n&&(c.O4$(),c.TgZ(0,"svg",11),c._UZ(1,"circle",12),c.qZA()),2&n){const t=c.oxw();c.uIk("viewBox",t._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),c.uIk("r",t._circleRadius())}}const z7=_p(class{constructor(n){this._elementRef=n}},"primary"),$7=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function G7(){return{diameter:LV}}}),LV=100;let q7=(()=>{class n extends z7{constructor(t,r,i){super(t),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=LV,this._noopAnimations="NoopAnimations"===r&&!!i&&!i._forceAnimations,i&&(i.color&&(this.color=this.defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Wc(t)))}get diameter(){return this._diameter}set diameter(t){this._diameter=Wc(t)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=Wc(t)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.QbO,8),c.Y36($7))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,r){if(1&t&&c.Gf(H7,5),2&t){let i;c.iGM(i=c.CRH())&&(r._determinateCircle=i.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(t,r){2&t&&(c.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),c.Udp("width",r.diameter,"px")("height",r.diameter,"px"),c.ekj("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,r){if(1&t&&(c.YNc(0,j7,2,8,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.O4$(),c.TgZ(4,"svg",3),c._UZ(5,"circle",4),c.qZA()(),c.kcU(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c.GkF(9,8),c.qZA(),c.TgZ(10,"div",9),c.GkF(11,8),c.qZA(),c.TgZ(12,"div",10),c.GkF(13,8),c.qZA()()()),2&t){const i=c.MAs(1);c.xp6(4),c.uIk("viewBox",r._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),c.uIk("r",r._circleRadius()),c.xp6(4),c.Q6J("ngTemplateOutlet",i),c.xp6(2),c.Q6J("ngTemplateOutlet",i),c.xp6(2),c.Q6J("ngTemplateOutlet",i)}},dependencies:[Ce],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),K7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[bi,ui]}),n})(),Z7=(()=>{class n{constructor(){this.diameter=100}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-spinner-loader"]],inputs:{diameter:"diameter"},decls:2,vars:1,consts:[[1,"spinner"],["color","primary","mode","indeterminate",3,"diameter"]],template:function(t,r){1&t&&(c.TgZ(0,"article",0),c._UZ(1,"mat-progress-spinner",1),c.qZA()),2&t&&(c.xp6(1),c.Q6J("diameter",r.diameter))},dependencies:[q7]}),n})();function Y7(n,e){if(1&n){const t=c.EpF();c.ynx(0),c.TgZ(1,"h1",3),c._uU(2),c.qZA(),c.TgZ(3,"section",4),c._UZ(4,"app-dropdown-input",5),c.ALo(5,"mapObjectsToInputOptions"),c.qZA(),c.TgZ(6,"section",6)(7,"button",7),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.onGoToAssessment())}),c._uU(8," Responder tu evaluaci\xf3n. "),c.qZA()(),c.BQk()}if(2&n){const t=c.oxw();c.xp6(2),c.hij(" ",t.employee.name,", bienvenid@ a tu auto evaluaci\xf3n de habilidades t\xe9cnicas. "),c.xp6(2),c.Q6J("options",c.Dn7(5,4,t.accounts,"id","name"))("control",t.formControl),c.xp6(3),c.Q6J("disabled",!t.formControl.valid)}}function Q7(n,e){1&n&&(c.TgZ(0,"section",8),c._UZ(1,"app-spinner-loader",9),c.qZA()),2&n&&(c.xp6(1),c.Q6J("diameter",100))}const X7=[{path:"user/home",component:(()=>{class n{constructor(t,r,i){this._store=t,this._router=r,this._accountsService=i,this.employee=null,this.accounts=[],this.formControl=new Af("",[Cx.required])}ngOnInit(){this._store.select(V1).subscribe(t=>{this.employee=t,this.formControl.setValue(t?.account?.id||"")}),this._accountsService.getAccountsList().subscribe(t=>{this.accounts=t})}onGoToAssessment(){const t=this.accounts.find(r=>r.id===this.formControl.value);this._store.dispatch(ZE({account:t})),this._router.navigateByUrl("/assessment/form")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(yr.yh),c.Y36(zo),c.Y36(Ug))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:4,vars:2,consts:[[1,"home"],[4,"ngIf","ngIfElse"],["loader",""],[1,"title"],[1,"account-information"],["label","Antes de responder la evaluaci\xf3n, por favor cu\xe9ntanos a qu\xe9 cliente\n\t\t\t\t\test\xe1s asignado actualmente:",3,"options","control"],[1,"actions"],["mat-raised-button","","color","accent",3,"disabled","click"],[1,"loader"],[3,"diameter"]],template:function(t,r){if(1&t&&(c.TgZ(0,"main",0),c.YNc(1,Y7,9,8,"ng-container",1),c.YNc(2,Q7,2,1,"ng-template",null,2,c.W1O),c.qZA()),2&t){const i=c.MAs(3);c.xp6(1),c.Q6J("ngIf",!!r.employee)("ngIfElse",i)}},dependencies:[Dn,tU,V7,Z7,CU],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.home[_ngcontent-%COMP%]{width:100%;max-width:700px;height:-moz-fit-content;height:fit-content;padding:20px;margin:10px 20px;background-color:var(--front-bg-color);border-radius:5px;box-shadow:0 0 25px #0003}.basic-information[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;display:flex;align-items:flex-start;justify-content:space-between}.actions[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;display:flex;justify-content:center;margin-top:30px}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}"]}),n})(),canActivate:[ZU]}];let J7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ta.forRoot(X7),ta]}),n})(),eZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[bi,K7]}),n})(),tZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[bi,J7,nU,KU,eZ]}),n})(),nZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[aG]}),n.\u0275inj=c.cJS({imports:[Xo,sG,P7,tZ,Pq,Wh,fg,yr.Aw.forRoot({user:dW},{}),tv.forRoot([F7]),N7.FT.instrument({maxAge:25,logOnly:!(0,c.X6Q)()})]}),n})();(0,c.G48)(),to().bootstrapModule(nZ).catch(n=>console.error(n))},7489:function(de,te,R){var c;de=R.nmd(de),function(){var M,ee="Expected a function",le="__lodash_hash_undefined__",G="__lodash_placeholder__",it=1/0,kt=9007199254740991,Lt=4294967295,jn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ur="[object Arguments]",mn="[object Array]",yi="[object Boolean]",kr="[object Date]",Jn="[object Error]",qi="[object Function]",Mo="[object GeneratorFunction]",Rr="[object Map]",gr="[object Number]",Qr="[object Object]",Gn="[object Promise]",Ct="[object RegExp]",Zn="[object Set]",Hr="[object String]",ir="[object Symbol]",jr="[object WeakMap]",Ft="[object ArrayBuffer]",Wt="[object DataView]",Wn="[object Float32Array]",zr="[object Float64Array]",_r="[object Int8Array]",hi="[object Int16Array]",Or="[object Int32Array]",Zi="[object Uint8Array]",cn="[object Uint8ClampedArray]",po="[object Uint16Array]",vn="[object Uint32Array]",Ti=/\b__p \+= '';/g,Pr=/\b(__p \+=) '' \+/g,ht=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ke=/&(?:amp|lt|gt|quot|#39);/g,bt=/[&<>"']/g,qt=RegExp(Ke.source),en=RegExp(bt.source),In=/<%-([\s\S]+?)%>/g,ce=/<%([\s\S]+?)%>/g,ie=/<%=([\s\S]+?)%>/g,fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q=/[\\^$.*+?()[\]{}|]/g,Me=RegExp(q.source),tt=/^\s+/,Rt=/\s/,_t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ln=/\{\n\/\* \[wrapped with (.+)\] \*/,Bt=/,? & /,dr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fi=/[()=,{}\[\]\/\s]/,on=/\\(\\)?/g,Ai=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wc=/\w*$/,la=/^[-+]0x[0-9a-f]+$/i,Va=/^0b[01]+$/i,al=/^\[object .+?Constructor\]$/,pi=/^0o[0-7]+$/i,ua=/^(?:0|[1-9]\d*)$/,xc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,da=/($^)/,ha=/['\n\r\u2028\u2029\\]/g,Zo="\\ud800-\\udfff",Fr="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ii="\\u2700-\\u27bf",mo="a-z\\xdf-\\xf6\\xf8-\\xff",ki="A-Z\\xc0-\\xd6\\xd8-\\xde",Nr="\\ufe0e\\ufe0f",as="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",cl="["+Zo+"]",Yo="["+as+"]",un="["+Fr+"]",ko="\\d+",cs="["+ii+"]",fa="["+mo+"]",ls="[^"+Zo+as+ko+ii+mo+ki+"]",$r="\\ud83c[\\udffb-\\udfff]",K="[^"+Zo+"]",Ce="(?:\\ud83c[\\udde6-\\uddff]){2}",ve="[\\ud800-\\udbff][\\udc00-\\udfff]",Oe="["+ki+"]",mt="(?:"+fa+"|"+ls+")",Fn="(?:"+Oe+"|"+ls+")",hr="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",fr="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Lr="(?:"+un+"|"+$r+")?",Sn="["+Nr+"]?",Ri=Sn+Lr+"(?:\\u200d(?:"+[K,Ce,ve].join("|")+")"+Sn+Lr+")*",Us="(?:"+[cs,Ce,ve].join("|")+")"+Ri,ll="(?:"+[K+un+"?",un,Ce,ve,cl].join("|")+")",Eu=RegExp("['\u2019]","g"),Oi=RegExp(un,"g"),od=RegExp($r+"(?="+$r+")|"+ll+Ri,"g"),Ol=RegExp([Oe+"?"+fa+"+"+hr+"(?="+[Yo,Oe,"$"].join("|")+")",Fn+"+"+fr+"(?="+[Yo,Oe+mt,"$"].join("|")+")",Oe+"?"+mt+"+"+hr,Oe+"+"+fr,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ko,Us].join("|"),"g"),Vs=RegExp("[\\u200d"+Zo+Fr+Nr+"]"),Cc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ic=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ff=-1,xr={};xr[Wn]=xr[zr]=xr[_r]=xr[hi]=xr[Or]=xr[Zi]=xr[cn]=xr[po]=xr[vn]=!0,xr[ur]=xr[mn]=xr[Ft]=xr[yi]=xr[Wt]=xr[kr]=xr[Jn]=xr[qi]=xr[Rr]=xr[gr]=xr[Qr]=xr[Ct]=xr[Zn]=xr[Hr]=xr[jr]=!1;var Cr={};Cr[ur]=Cr[mn]=Cr[Ft]=Cr[Wt]=Cr[yi]=Cr[kr]=Cr[Wn]=Cr[zr]=Cr[_r]=Cr[hi]=Cr[Or]=Cr[Rr]=Cr[gr]=Cr[Qr]=Cr[Ct]=Cr[Zn]=Cr[Hr]=Cr[ir]=Cr[Zi]=Cr[cn]=Cr[po]=Cr[vn]=!0,Cr[Jn]=Cr[qi]=Cr[jr]=!1;var za={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bi=parseFloat,ad=parseInt,ul="object"==typeof global&&global&&global.Object===Object&&global,us="object"==typeof self&&self&&self.Object===Object&&self,oi=ul||us||Function("return this")(),wu=te&&!te.nodeType&&te,Hs=wu&&de&&!de.nodeType&&de,xu=Hs&&Hs.exports===wu,cd=xu&&ul.process,Ei=function(){try{return Hs&&Hs.require&&Hs.require("util").types||cd&&cd.binding&&cd.binding("util")}catch{}}(),pa=Ei&&Ei.isArrayBuffer,ma=Ei&&Ei.isDate,ga=Ei&&Ei.isMap,dl=Ei&&Ei.isRegExp,Dc=Ei&&Ei.isSet,_a=Ei&&Ei.isTypedArray;function Qi(Ee,We,Ve){switch(Ve.length){case 0:return Ee.call(We);case 1:return Ee.call(We,Ve[0]);case 2:return Ee.call(We,Ve[0],Ve[1]);case 3:return Ee.call(We,Ve[0],Ve[1],Ve[2])}return Ee.apply(We,Ve)}function hl(Ee,We,Ve,At){for(var bn=-1,tr=null==Ee?0:Ee.length;++bn<tr;){var ei=Ee[bn];We(At,ei,Ve(ei),Ee)}return At}function Xi(Ee,We){for(var Ve=-1,At=null==Ee?0:Ee.length;++Ve<At&&!1!==We(Ee[Ve],Ve,Ee););return Ee}function fl(Ee,We){for(var Ve=null==Ee?0:Ee.length;Ve--&&!1!==We(Ee[Ve],Ve,Ee););return Ee}function Ji(Ee,We){for(var Ve=-1,At=null==Ee?0:Ee.length;++Ve<At;)if(!We(Ee[Ve],Ve,Ee))return!1;return!0}function pr(Ee,We){for(var Ve=-1,At=null==Ee?0:Ee.length,bn=0,tr=[];++Ve<At;){var ei=Ee[Ve];We(ei,Ve,Ee)&&(tr[bn++]=ei)}return tr}function $a(Ee,We){return!(null==Ee||!Ee.length)&&Pi(Ee,We,0)>-1}function Br(Ee,We,Ve){for(var At=-1,bn=null==Ee?0:Ee.length;++At<bn;)if(Ve(We,Ee[At]))return!0;return!1}function or(Ee,We){for(var Ve=-1,At=null==Ee?0:Ee.length,bn=Array(At);++Ve<At;)bn[Ve]=We(Ee[Ve],Ve,Ee);return bn}function go(Ee,We){for(var Ve=-1,At=We.length,bn=Ee.length;++Ve<At;)Ee[bn+Ve]=We[Ve];return Ee}function eo(Ee,We,Ve,At){var bn=-1,tr=null==Ee?0:Ee.length;for(At&&tr&&(Ve=Ee[++bn]);++bn<tr;)Ve=We(Ve,Ee[bn],bn,Ee);return Ve}function Pl(Ee,We,Ve,At){var bn=null==Ee?0:Ee.length;for(At&&bn&&(Ve=Ee[--bn]);bn--;)Ve=We(Ve,Ee[bn],bn,Ee);return Ve}function Sc(Ee,We){for(var Ve=-1,At=null==Ee?0:Ee.length;++Ve<At;)if(We(Ee[Ve],Ve,Ee))return!0;return!1}var bs=va("length");function Ga(Ee,We,Ve){var At;return Ve(Ee,function(bn,tr,ei){if(We(bn,tr,ei))return At=tr,!1}),At}function Nl(Ee,We,Ve,At){for(var bn=Ee.length,tr=Ve+(At?1:-1);At?tr--:++tr<bn;)if(We(Ee[tr],tr,Ee))return tr;return-1}function Pi(Ee,We,Ve){return We==We?function Lf(Ee,We,Ve){for(var At=Ve-1,bn=Ee.length;++At<bn;)if(Ee[At]===We)return At;return-1}(Ee,We,Ve):Nl(Ee,ya,Ve)}function Cu(Ee,We,Ve,At){for(var bn=Ve-1,tr=Ee.length;++bn<tr;)if(At(Ee[bn],We))return bn;return-1}function ya(Ee){return Ee!=Ee}function gn(Ee,We){var Ve=null==Ee?0:Ee.length;return Ve?Ac(Ee,We)/Ve:NaN}function va(Ee){return function(We){return null==We?M:We[Ee]}}function Ll(Ee){return function(We){return null==Ee?M:Ee[We]}}function Tc(Ee,We,Ve,At,bn){return bn(Ee,function(tr,ei,Tn){Ve=At?(At=!1,tr):We(Ve,tr,ei,Tn)}),Ve}function Ac(Ee,We){for(var Ve,At=-1,bn=Ee.length;++At<bn;){var tr=We(Ee[At]);tr!==M&&(Ve=Ve===M?tr:Ve+tr)}return Ve}function Bl(Ee,We){for(var Ve=-1,At=Array(Ee);++Ve<Ee;)At[Ve]=We(Ve);return At}function Oh(Ee){return Ee&&Ee.slice(0,wa(Ee)+1).replace(tt,"")}function Qe(Ee){return function(We){return Ee(We)}}function Nn(Ee,We){return or(We,function(Ve){return Ee[Ve]})}function pl(Ee,We){return Ee.has(We)}function Iu(Ee,We){for(var Ve=-1,At=Ee.length;++Ve<At&&Pi(We,Ee[Ve],0)>-1;);return Ve}function mi(Ee,We){for(var Ve=Ee.length;Ve--&&Pi(We,Ee[Ve],0)>-1;);return Ve}function Ul(Ee,We){for(var Ve=Ee.length,At=0;Ve--;)Ee[Ve]===We&&++At;return At}var Mc=Ll({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Es=Ll({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function kc(Ee){return"\\"+za[Ee]}function ws(Ee){return Vs.test(Ee)}function Wr(Ee){var We=-1,Ve=Array(Ee.size);return Ee.forEach(function(At,bn){Ve[++We]=[bn,At]}),Ve}function Ro(Ee,We){return function(Ve){return Ee(We(Ve))}}function Ea(Ee,We){for(var Ve=-1,At=Ee.length,bn=0,tr=[];++Ve<At;){var ei=Ee[Ve];(ei===We||ei===G)&&(Ee[Ve]=G,tr[bn++]=Ve)}return tr}function xo(Ee){var We=-1,Ve=Array(Ee.size);return Ee.forEach(function(At){Ve[++We]=At}),Ve}function js(Ee){return ws(Ee)?function Ph(Ee){for(var We=od.lastIndex=0;od.test(Ee);)++We;return We}(Ee):bs(Ee)}function Oo(Ee){return ws(Ee)?function Su(Ee){return Ee.match(od)||[]}(Ee):function wi(Ee){return Ee.split("")}(Ee)}function wa(Ee){for(var We=Ee.length;We--&&Rt.test(Ee.charAt(We)););return We}var Du=Ll({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Wa=function Ee(We){var d,Ve=(We=null==We?oi:Wa.defaults(oi.Object(),We,Wa.pick(oi,Ic))).Array,At=We.Date,bn=We.Error,tr=We.Function,ei=We.Math,Tn=We.Object,Cs=We.RegExp,sr=We.String,Co=We.TypeError,jl=Ve.prototype,Rc=Tn.prototype,Tu=We["__core-js_shared__"],Oc=tr.prototype.toString,zn=Rc.hasOwnProperty,Is=0,xa=(d=/[^.]+$/.exec(Tu&&Tu.keys&&Tu.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",Qo=Rc.toString,ud=Oc.call(Tn),dd=oi._,Pc=Cs("^"+Oc.call(zn).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qa=xu?We.Buffer:M,ti=We.Symbol,hd=We.Uint8Array,zs=qa?qa.allocUnsafe:M,Fc=Ro(Tn.getPrototypeOf,Tn),zl=Tn.create,Ka=Rc.propertyIsEnumerable,Za=jl.splice,qr=ti?ti.isConcatSpreadable:M,$s=ti?ti.iterator:M,Io=ti?ti.toStringTag:M,Ya=function(){try{var d=Pd(Tn,"defineProperty");return d({},"",{}),d}catch{}}(),Ds=We.clearTimeout!==oi.clearTimeout&&We.clearTimeout,fd=At&&At.now!==oi.Date.now&&At.now,pd=We.setTimeout!==oi.setTimeout&&We.setTimeout,Ca=ei.ceil,Nc=ei.floor,ds=Tn.getOwnPropertySymbols,Qa=qa?qa.isBuffer:M,Ia=We.isFinite,Da=jl.join,$l=Ro(Tn.keys,Tn),Ar=ei.max,xi=ei.min,_o=At.now,Nh=We.parseInt,Gs=ei.random,Lc=jl.reverse,Bc=Pd(We,"DataView"),Sa=Pd(We,"Map"),Gl=Pd(We,"Promise"),Ws=Pd(We,"Set"),Ta=Pd(We,"WeakMap"),Xa=Pd(Tn,"create"),Wl=Ta&&new Ta,Ci={},Lh=Vu(Bc),Uc=Vu(Sa),hs=Vu(Gl),md=Vu(Ws),ql=Vu(Ta),to=ti?ti.prototype:M,Po=to?to.valueOf:M,gd=to?to.toString:M;function H(d){if(co(d)&&!Mn(d)&&!(d instanceof Ln)){if(d instanceof Fo)return d;if(zn.call(d,"__wrapped__"))return c0(d)}return new Fo(d)}var Xo=function(){function d(){}return function(m){if(!Ii(m))return{};if(zl)return zl(m);d.prototype=m;var b=new d;return d.prototype=M,b}}();function _d(){}function Fo(d,m){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=M}function Ln(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Lt,this.__views__=[]}function Ja(d){var m=-1,b=null==d?0:d.length;for(this.clear();++m<b;){var A=d[m];this.set(A[0],A[1])}}function qs(d){var m=-1,b=null==d?0:d.length;for(this.clear();++m<b;){var A=d[m];this.set(A[0],A[1])}}function Ss(d){var m=-1,b=null==d?0:d.length;for(this.clear();++m<b;){var A=d[m];this.set(A[0],A[1])}}function No(d){var m=-1,b=null==d?0:d.length;for(this.__data__=new Ss;++m<b;)this.add(d[m])}function gi(d){var m=this.__data__=new qs(d);this.size=m.size}function Ma(d,m){var b=Mn(d),A=!b&&Qs(d),F=!b&&!A&&ou(d),z=!b&&!A&&!F&&Gu(d),oe=b||A||F||z,ue=oe?Bl(d.length,sr):[],we=ue.length;for(var et in d)(m||zn.call(d,et))&&(!oe||!("length"==et||F&&("offset"==et||"parent"==et)||z&&("buffer"==et||"byteLength"==et||"byteOffset"==et)||Vo(et,we)))&&ue.push(et);return ue}function Ru(d){var m=d.length;return m?d[Td(0,m-1)]:M}function gt(d,m){return ef(Uo(d),Ra(m,0,d.length))}function Zr(d){return ef(Uo(d))}function Ir(d,m,b){(b!==M&&!Qc(d[m],b)||b===M&&!(m in d))&&ka(d,m,b)}function Yr(d,m,b){var A=d[m];(!zn.call(d,m)||!Qc(A,b)||b===M&&!(m in d))&&ka(d,m,b)}function vt(d,m){for(var b=d.length;b--;)if(Qc(d[b][0],m))return b;return-1}function jc(d,m,b,A){return Ie(d,function(F,z,oe){m(A,F,b(F),oe)}),A}function gl(d,m){return d&&Oa(m,bo(m),d)}function ka(d,m,b){"__proto__"==m&&Ya?Ya(d,m,{configurable:!0,enumerable:!0,value:b,writable:!0}):d[m]=b}function Ql(d,m){for(var b=-1,A=m.length,F=Ve(A),z=null==d;++b<A;)F[b]=z?M:Fa(d,m[b]);return F}function Ra(d,m,b){return d==d&&(b!==M&&(d=d<=b?d:b),m!==M&&(d=d>=m?d:m)),d}function T(d,m,b,A,F,z){var oe,ue=1&m,we=2&m,et=4&m;if(b&&(oe=F?b(d,A,F,z):b(d)),oe!==M)return oe;if(!Ii(d))return d;var Ze=Mn(d);if(Ze){if(oe=function Wx(d){var m=d.length,b=new d.constructor(m);return m&&"string"==typeof d[0]&&zn.call(d,"index")&&(b.index=d.index,b.input=d.input),b}(d),!ue)return Uo(d,oe)}else{var ct=ts(d),wt=ct==qi||ct==Mo;if(ou(d))return Bi(d,ue);if(ct==Qr||ct==ur||wt&&!F){if(oe=we||wt?{}:n0(d),!ue)return we?function Zf(d,m){return Oa(d,$m(d),m)}(d,function Lo(d,m){return d&&Oa(m,_i(m),d)}(oe,d)):function Pm(d,m){return Oa(d,Xh(d),m)}(d,gl(oe,d))}else{if(!Cr[ct])return F?d:{};oe=function qx(d,m,b){var A=d.constructor;switch(m){case Ft:return ro(d);case yi:case kr:return new A(+d);case Wt:return function Wf(d,m){var b=m?ro(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.byteLength)}(d,b);case Wn:case zr:case _r:case hi:case Or:case Zi:case cn:case po:case vn:return qf(d,b);case Rr:return new A;case gr:case Hr:return new A(d);case Ct:return function Om(d){var m=new d.constructor(d.source,wc.exec(d));return m.lastIndex=d.lastIndex,m}(d);case Zn:return new A;case ir:return function Lu(d){return Po?Tn(Po.call(d)):{}}(d)}}(d,ct,ue)}}z||(z=new gi);var $t=z.get(d);if($t)return $t;z.set(d,oe),yp(d)?d.forEach(function(Kt){oe.add(T(Kt,m,b,Kt,d,z))}):Vd(d)&&d.forEach(function(Kt,Un){oe.set(Un,T(Kt,m,b,Un,d,z))});var Qt=Ze?M:(et?we?ep:Yh:we?_i:bo)(d);return Xi(Qt||d,function(Kt,Un){Qt&&(Kt=d[Un=Kt]),Yr(oe,Un,T(Kt,m,b,Un,d,z))}),oe}function U(d,m,b){var A=b.length;if(null==d)return!A;for(d=Tn(d);A--;){var F=b[A],oe=d[F];if(oe===M&&!(F in d)||!(0,m[F])(oe))return!1}return!0}function J(d,m,b){if("function"!=typeof d)throw new Co(ee);return qm(function(){d.apply(M,b)},m)}function _e(d,m,b,A){var F=-1,z=$a,oe=!0,ue=d.length,we=[],et=m.length;if(!ue)return we;b&&(m=or(m,Qe(b))),A?(z=Br,oe=!1):m.length>=200&&(z=pl,oe=!1,m=new No(m));e:for(;++F<ue;){var Ze=d[F],ct=null==b?Ze:b(Ze);if(Ze=A||0!==Ze?Ze:0,oe&&ct==ct){for(var wt=et;wt--;)if(m[wt]===ct)continue e;we.push(Ze)}else z(m,ct,A)||we.push(Ze)}return we}H.templateSettings={escape:In,evaluate:ce,interpolate:ie,variable:"",imports:{_:H}},(H.prototype=_d.prototype).constructor=H,(Fo.prototype=Xo(_d.prototype)).constructor=Fo,(Ln.prototype=Xo(_d.prototype)).constructor=Ln,Ja.prototype.clear=function Bh(){this.__data__=Xa?Xa(null):{},this.size=0},Ja.prototype.delete=function Kl(d){var m=this.has(d)&&delete this.__data__[d];return this.size-=m?1:0,m},Ja.prototype.get=function Au(d){var m=this.__data__;if(Xa){var b=m[d];return b===le?M:b}return zn.call(m,d)?m[d]:M},Ja.prototype.has=function ec(d){var m=this.__data__;return Xa?m[d]!==M:zn.call(m,d)},Ja.prototype.set=function nr(d,m){var b=this.__data__;return this.size+=this.has(d)?0:1,b[d]=Xa&&m===M?le:m,this},qs.prototype.clear=function Zl(){this.__data__=[],this.size=0},qs.prototype.delete=function Uh(d){var m=this.__data__,b=vt(m,d);return!(b<0||(b==m.length-1?m.pop():Za.call(m,b,1),--this.size,0))},qs.prototype.get=function Vh(d){var m=this.__data__,b=vt(m,d);return b<0?M:m[b][1]},qs.prototype.has=function Mu(d){return vt(this.__data__,d)>-1},qs.prototype.set=function Hh(d,m){var b=this.__data__,A=vt(b,d);return A<0?(++this.size,b.push([d,m])):b[A][1]=m,this},Ss.prototype.clear=function tc(){this.size=0,this.__data__={hash:new Ja,map:new(Sa||qs),string:new Ja}},Ss.prototype.delete=function Tm(d){var m=zm(this,d).delete(d);return this.size-=m?1:0,m},Ss.prototype.get=function nc(d){return zm(this,d).get(d)},Ss.prototype.has=function Kr(d){return zm(this,d).has(d)},Ss.prototype.set=function Yl(d,m){var b=zm(this,d),A=b.size;return b.set(d,m),this.size+=b.size==A?0:1,this},No.prototype.add=No.prototype.push=function yd(d){return this.__data__.set(d,le),this},No.prototype.has=function yo(d){return this.__data__.has(d)},gi.prototype.clear=function Bf(){this.__data__=new qs,this.size=0},gi.prototype.delete=function vd(d){var m=this.__data__,b=m.delete(d);return this.size=m.size,b},gi.prototype.get=function ml(d){return this.__data__.get(d)},gi.prototype.has=function ku(d){return this.__data__.has(d)},gi.prototype.set=function bd(d,m){var b=this.__data__;if(b instanceof qs){var A=b.__data__;if(!Sa||A.length<199)return A.push([d,m]),this.size=++b.size,this;b=this.__data__=new Ss(A)}return b.set(d,m),this.size=b.size,this};var Ie=q_(ai),rt=q_(Ks,!0);function Ot(d,m){var b=!0;return Ie(d,function(A,F,z){return b=!!m(A,F,z)}),b}function Pt(d,m,b){for(var A=-1,F=d.length;++A<F;){var z=d[A],oe=m(z);if(null!=oe&&(ue===M?oe==oe&&!Ms(oe):b(oe,ue)))var ue=oe,we=z}return we}function An(d,m){var b=[];return Ie(d,function(A,F,z){m(A,F,z)&&b.push(A)}),b}function Nt(d,m,b,A,F){var z=-1,oe=d.length;for(b||(b=r0),F||(F=[]);++z<oe;){var ue=d[z];m>0&&b(ue)?m>1?Nt(ue,m-1,b,A,F):go(F,ue):A||(F[F.length]=ue)}return F}var si=Fm(),_n=Fm(!0);function ai(d,m){return d&&si(d,m,bo)}function Ks(d,m){return d&&_n(d,m,bo)}function Ts(d,m){return pr(m,function(b){return cc(d[b])})}function ci(d,m){for(var b=0,A=(m=ar(m,d)).length;null!=d&&b<A;)d=d[nu(m[b++])];return b&&b==A?d:M}function Jo(d,m,b){var A=m(d);return Mn(d)?A:go(A,b(d))}function ni(d){return null==d?d===M?"[object Undefined]":"[object Null]":Io&&Io in Tn(d)?function Jb(d){var m=zn.call(d,Io),b=d[Io];try{d[Io]=M;var A=!0}catch{}var F=Qo.call(d);return A&&(m?d[Io]=b:delete d[Io]),F}(d):function Gm(d){return Qo.call(d)}(d)}function Ed(d,m){return d>m}function Uf(d,m){return null!=d&&zn.call(d,m)}function jh(d,m){return null!=d&&m in Tn(d)}function zc(d,m,b){for(var A=b?Br:$a,F=d[0].length,z=d.length,oe=z,ue=Ve(z),we=1/0,et=[];oe--;){var Ze=d[oe];oe&&m&&(Ze=or(Ze,Qe(m))),we=xi(Ze.length,we),ue[oe]=!b&&(m||F>=120&&Ze.length>=120)?new No(oe&&Ze):M}Ze=d[0];var ct=-1,wt=ue[0];e:for(;++ct<F&&et.length<we;){var $t=Ze[ct],dn=m?m($t):$t;if($t=b||0!==$t?$t:0,!(wt?pl(wt,dn):A(et,dn,b))){for(oe=z;--oe;){var Qt=ue[oe];if(!(Qt?pl(Qt,dn):A(d[oe],dn,b)))continue e}wt&&wt.push(dn),et.push($t)}}return et}function rc(d,m,b){var A=null==(d=Jh(d,m=ar(m,d)))?d:d[nu(oc(m))];return null==A?M:Qi(A,d,b)}function j_(d){return co(d)&&ni(d)==ur}function xd(d,m,b,A,F){return d===m||(null==d||null==m||!co(d)&&!co(m)?d!=d&&m!=m:function zh(d,m,b,A,F,z){var oe=Mn(d),ue=Mn(m),we=oe?mn:ts(d),et=ue?mn:ts(m),Ze=(we=we==ur?Qr:we)==Qr,ct=(et=et==ur?Qr:et)==Qr,wt=we==et;if(wt&&ou(d)){if(!ou(m))return!1;oe=!0,Ze=!1}if(wt&&!Ze)return z||(z=new gi),oe||Gu(d)?Qb(d,m,b,A,F,z):function Gx(d,m,b,A,F,z,oe){switch(b){case Wt:if(d.byteLength!=m.byteLength||d.byteOffset!=m.byteOffset)return!1;d=d.buffer,m=m.buffer;case Ft:return!(d.byteLength!=m.byteLength||!z(new hd(d),new hd(m)));case yi:case kr:case gr:return Qc(+d,+m);case Jn:return d.name==m.name&&d.message==m.message;case Ct:case Hr:return d==m+"";case Rr:var ue=Wr;case Zn:if(ue||(ue=xo),d.size!=m.size&&!(1&A))return!1;var et=oe.get(d);if(et)return et==m;A|=2,oe.set(d,m);var Ze=Qb(ue(d),ue(m),A,F,z,oe);return oe.delete(d),Ze;case ir:if(Po)return Po.call(d)==Po.call(m)}return!1}(d,m,we,b,A,F,z);if(!(1&b)){var $t=Ze&&zn.call(d,"__wrapped__"),dn=ct&&zn.call(m,"__wrapped__");if($t||dn){var Qt=$t?d.value():d,Kt=dn?m.value():m;return z||(z=new gi),F(Qt,Kt,b,A,z)}}return!!wt&&(z||(z=new gi),function Xb(d,m,b,A,F,z){var oe=1&b,ue=Yh(d),we=ue.length;if(we!=Yh(m).length&&!oe)return!1;for(var ct=we;ct--;){var wt=ue[ct];if(!(oe?wt in m:zn.call(m,wt)))return!1}var $t=z.get(d),dn=z.get(m);if($t&&dn)return $t==m&&dn==d;var Qt=!0;z.set(d,m),z.set(m,d);for(var Kt=oe;++ct<we;){var Un=d[wt=ue[ct]],Yn=m[wt];if(A)var gs=oe?A(Yn,Un,wt,m,d,z):A(Un,Yn,wt,d,m,z);if(!(gs===M?Un===Yn||F(Un,Yn,b,A,z):gs)){Qt=!1;break}Kt||(Kt="constructor"==wt)}if(Qt&&!Kt){var jo=d.constructor,rs=m.constructor;jo!=rs&&"constructor"in d&&"constructor"in m&&!("function"==typeof jo&&jo instanceof jo&&"function"==typeof rs&&rs instanceof rs)&&(Qt=!1)}return z.delete(d),z.delete(m),Qt}(d,m,b,A,F,z))}(d,m,b,A,xd,F))}function Hf(d,m,b,A){var F=b.length,z=F,oe=!A;if(null==d)return!z;for(d=Tn(d);F--;){var ue=b[F];if(oe&&ue[2]?ue[1]!==d[ue[0]]:!(ue[0]in d))return!1}for(;++F<z;){var we=(ue=b[F])[0],et=d[we],Ze=ue[1];if(oe&&ue[2]){if(et===M&&!(we in d))return!1}else{var ct=new gi;if(A)var wt=A(et,Ze,we,d,m,ct);if(!(wt===M?xd(Ze,et,3,A,ct):wt))return!1}}return!0}function km(d){return!(!Ii(d)||function Yx(d){return!!xa&&xa in d}(d))&&(cc(d)?Pc:al).test(Vu(d))}function Rm(d){return"function"==typeof d?d:null==d?Hi:"object"==typeof d?Mn(d)?Dd(d[0],d[1]):Pu(d):gg(d)}function jf(d){if(!np(d))return $l(d);var m=[];for(var b in Tn(d))zn.call(d,b)&&"constructor"!=b&&m.push(b);return m}function Ou(d,m){return d<m}function Id(d,m){var b=-1,A=fs(d)?Ve(d.length):[];return Ie(d,function(F,z,oe){A[++b]=m(F,z,oe)}),A}function Pu(d){var m=tp(d);return 1==m.length&&m[0][2]?o0(m[0][0],m[0][1]):function(b){return b===d||Hf(b,d,m)}}function Dd(d,m){return Q_(d)&&J_(m)?o0(nu(d),m):function(b){var A=Fa(b,d);return A===M&&A===m?lg(b,d):xd(m,A,3)}}function Xl(d,m,b,A,F){d!==m&&si(m,function(z,oe){if(F||(F=new gi),Ii(z))!function Sd(d,m,b,A,F,z,oe){var ue=Wm(d,b),we=Wm(m,b),et=oe.get(we);if(et)Ir(d,b,et);else{var Ze=z?z(ue,we,b+"",d,m,oe):M,ct=Ze===M;if(ct){var wt=Mn(we),$t=!wt&&ou(we),dn=!wt&&!$t&&Gu(we);Ze=we,wt||$t||dn?Mn(ue)?Ze=ue:Vi(ue)?Ze=Uo(ue):$t?(ct=!1,Ze=Bi(we,!0)):dn?(ct=!1,Ze=qf(we,!0)):Ze=[]:$u(we)||Qs(we)?(Ze=ue,Qs(ue)?Ze=Uy(ue):(!Ii(ue)||cc(ue))&&(Ze=n0(we))):ct=!1}ct&&(oe.set(we,Ze),F(Ze,we,A,z,oe),oe.delete(we)),Ir(d,b,Ze)}}(d,m,oe,b,Xl,A,F);else{var ue=A?A(Wm(d,oe),z,oe+"",d,m,F):M;ue===M&&(ue=z),Ir(d,oe,ue)}},_i)}function Zs(d,m){var b=d.length;if(b)return Vo(m+=m<0?b:0,b)?d[m]:M}function zf(d,m,b){m=m.length?or(m,function(z){return Mn(z)?function(oe){return ci(oe,1===z.length?z[0]:z)}:z}):[Hi];var A=-1;return m=or(m,Qe(fn())),function Rh(Ee,We){var Ve=Ee.length;for(Ee.sort(We);Ve--;)Ee[Ve]=Ee[Ve].value;return Ee}(Id(d,function(z,oe,ue){return{criteria:or(m,function(et){return et(z)}),index:++A,value:z}}),function(z,oe){return function qh(d,m,b){for(var A=-1,F=d.criteria,z=m.criteria,oe=F.length,ue=b.length;++A<oe;){var we=Bu(F[A],z[A]);if(we)return A>=ue?we:we*("desc"==b[A]?-1:1)}return d.index-m.index}(z,oe,b)})}function li(d,m,b){for(var A=-1,F=m.length,z={};++A<F;){var oe=m[A],ue=ci(d,oe);b(ue,oe)&&_l(z,ar(oe,d),ue)}return z}function Fu(d,m,b,A){var F=A?Cu:Pi,z=-1,oe=m.length,ue=d;for(d===m&&(m=Uo(m)),b&&(ue=or(d,Qe(b)));++z<oe;)for(var we=0,et=m[z],Ze=b?b(et):et;(we=F(ue,Ze,we,A))>-1;)ue!==d&&Za.call(ue,we,1),Za.call(d,we,1);return d}function Gh(d,m){for(var b=d?m.length:0,A=b-1;b--;){var F=m[b];if(b==A||F!==z){var z=F;Vo(F)?Za.call(d,F,1):I(d,F)}}return d}function Td(d,m){return d+Nc(Gs()*(m-d+1))}function Ad(d,m){var b="";if(!d||m<1||m>kt)return b;do{m%2&&(b+=d),(m=Nc(m/2))&&(d+=d)}while(m);return b}function Rn(d,m){return a0(vl(d,m,Hi),d+"")}function W_(d){return Ru(El(d))}function es(d,m){var b=El(d);return ef(b,Ra(m,0,b.length))}function _l(d,m,b,A){if(!Ii(d))return d;for(var F=-1,z=(m=ar(m,d)).length,oe=z-1,ue=d;null!=ue&&++F<z;){var we=nu(m[F]),et=b;if("__proto__"===we||"constructor"===we||"prototype"===we)return d;if(F!=oe){var Ze=ue[we];(et=A?A(Ze,we,ue):M)===M&&(et=Ii(Ze)?Ze:Vo(m[F+1])?[]:{})}Yr(ue,we,et),ue=ue[we]}return d}var Wh=Wl?function(d,m){return Wl.set(d,m),d}:Hi,Gf=Ya?function(d,m){return Ya(d,"toString",{configurable:!0,enumerable:!1,value:Kd(m),writable:!0})}:Hi;function Bo(d){return ef(El(d))}function no(d,m,b){var A=-1,F=d.length;m<0&&(m=-m>F?0:F+m),(b=b>F?F:b)<0&&(b+=F),F=m>b?0:b-m>>>0,m>>>=0;for(var z=Ve(F);++A<F;)z[A]=d[A+m];return z}function Do(d,m){var b;return Ie(d,function(A,F,z){return!(b=m(A,F,z))}),!!b}function Nu(d,m,b){var A=0,F=null==d?A:d.length;if("number"==typeof m&&m==m&&F<=2147483647){for(;A<F;){var z=A+F>>>1,oe=d[z];null!==oe&&!Ms(oe)&&(b?oe<=m:oe<m)?A=z+1:F=z}return F}return $c(d,m,Hi,b)}function $c(d,m,b,A){var F=0,z=null==d?0:d.length;if(0===z)return 0;for(var oe=(m=b(m))!=m,ue=null===m,we=Ms(m),et=m===M;F<z;){var Ze=Nc((F+z)/2),ct=b(d[Ze]),wt=ct!==M,$t=null===ct,dn=ct==ct,Qt=Ms(ct);if(oe)var Kt=A||dn;else Kt=et?dn&&(A||wt):ue?dn&&wt&&(A||!$t):we?dn&&wt&&!$t&&(A||!Qt):!$t&&!Qt&&(A?ct<=m:ct<m);Kt?F=Ze+1:z=Ze}return xi(z,4294967294)}function Md(d,m){for(var b=-1,A=d.length,F=0,z=[];++b<A;){var oe=d[b],ue=m?m(oe):oe;if(!b||!Qc(ue,we)){var we=ue;z[F++]=0===oe?0:oe}}return z}function x(d){return"number"==typeof d?d:Ms(d)?NaN:+d}function _(d){if("string"==typeof d)return d;if(Mn(d))return or(d,_)+"";if(Ms(d))return gd?gd.call(d):"";var m=d+"";return"0"==m&&1/d==-it?"-0":m}function v(d,m,b){var A=-1,F=$a,z=d.length,oe=!0,ue=[],we=ue;if(b)oe=!1,F=Br;else if(z>=200){var et=m?null:Vm(d);if(et)return xo(et);oe=!1,F=pl,we=new No}else we=m?[]:ue;e:for(;++A<z;){var Ze=d[A],ct=m?m(Ze):Ze;if(Ze=b||0!==Ze?Ze:0,oe&&ct==ct){for(var wt=we.length;wt--;)if(we[wt]===ct)continue e;m&&we.push(ct),ue.push(Ze)}else F(we,ct,b)||(we!==ue&&we.push(ct),ue.push(Ze))}return ue}function I(d,m){return null==(d=Jh(d,m=ar(m,d)))||delete d[nu(oc(m))]}function L(d,m,b,A){return _l(d,m,b(ci(d,m)),A)}function j(d,m,b,A){for(var F=d.length,z=A?F:-1;(A?z--:++z<F)&&m(d[z],z,d););return b?no(d,A?0:z,A?z+1:F):no(d,A?z+1:0,A?F:z)}function xe(d,m){var b=d;return b instanceof Ln&&(b=b.value()),eo(m,function(A,F){return F.func.apply(F.thisArg,go([A],F.args))},b)}function Je(d,m,b){var A=d.length;if(A<2)return A?v(d[0]):[];for(var F=-1,z=Ve(A);++F<A;)for(var oe=d[F],ue=-1;++ue<A;)ue!=F&&(z[F]=_e(z[F]||oe,d[ue],m,b));return v(Nt(z,1),m,b)}function Tt(d,m,b){for(var A=-1,F=d.length,z=m.length,oe={};++A<F;)b(oe,d[A],A<z?m[A]:M);return oe}function Ut(d){return Vi(d)?d:[]}function wn(d){return"function"==typeof d?d:Hi}function ar(d,m){return Mn(d)?d:Q_(d,m)?[d]:nC(mr(d))}var Ni=Rn;function Li(d,m,b){var A=d.length;return b=b===M?A:b,!m&&b>=A?d:no(d,m,b)}var On=Ds||function(d){return oi.clearTimeout(d)};function Bi(d,m){if(m)return d.slice();var b=d.length,A=zs?zs(b):new d.constructor(b);return d.copy(A),A}function ro(d){var m=new d.constructor(d.byteLength);return new hd(m).set(new hd(d)),m}function qf(d,m){var b=m?ro(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.length)}function Bu(d,m){if(d!==m){var b=d!==M,A=null===d,F=d==d,z=Ms(d),oe=m!==M,ue=null===m,we=m==m,et=Ms(m);if(!ue&&!et&&!z&&d>m||z&&oe&&we&&!ue&&!et||A&&oe&&we||!b&&we||!F)return 1;if(!A&&!z&&!et&&d<m||et&&b&&F&&!A&&!z||ue&&b&&F||!oe&&F||!we)return-1}return 0}function Kh(d,m,b,A){for(var F=-1,z=d.length,oe=b.length,ue=-1,we=m.length,et=Ar(z-oe,0),Ze=Ve(we+et),ct=!A;++ue<we;)Ze[ue]=m[ue];for(;++F<oe;)(ct||F<z)&&(Ze[b[F]]=d[F]);for(;et--;)Ze[ue++]=d[F++];return Ze}function Kf(d,m,b,A){for(var F=-1,z=d.length,oe=-1,ue=b.length,we=-1,et=m.length,Ze=Ar(z-ue,0),ct=Ve(Ze+et),wt=!A;++F<Ze;)ct[F]=d[F];for(var $t=F;++we<et;)ct[$t+we]=m[we];for(;++oe<ue;)(wt||F<z)&&(ct[$t+b[oe]]=d[F++]);return ct}function Uo(d,m){var b=-1,A=d.length;for(m||(m=Ve(A));++b<A;)m[b]=d[b];return m}function Oa(d,m,b,A){var F=!b;b||(b={});for(var z=-1,oe=m.length;++z<oe;){var ue=m[z],we=A?A(b[ue],d[ue],ue,b,d):M;we===M&&(we=d[ue]),F?ka(b,ue,we):Yr(b,ue,we)}return b}function kd(d,m){return function(b,A){var F=Mn(b)?hl:jc,z=m?m():{};return F(b,d,fn(A,2),z)}}function Rd(d){return Rn(function(m,b){var A=-1,F=b.length,z=F>1?b[F-1]:M,oe=F>2?b[2]:M;for(z=d.length>3&&"function"==typeof z?(F--,z):M,oe&&vo(b[0],b[1],oe)&&(z=F<3?M:z,F=1),m=Tn(m);++A<F;){var ue=b[A];ue&&d(m,ue,A,z)}return m})}function q_(d,m){return function(b,A){if(null==b)return b;if(!fs(b))return d(b,A);for(var F=b.length,z=m?F:-1,oe=Tn(b);(m?z--:++z<F)&&!1!==A(oe[z],z,oe););return b}}function Fm(d){return function(m,b,A){for(var F=-1,z=Tn(m),oe=A(m),ue=oe.length;ue--;){var we=oe[d?ue:++F];if(!1===b(z[we],we,z))break}return m}}function Gc(d){return function(m){var b=ws(m=mr(m))?Oo(m):M,A=b?b[0]:m.charAt(0),F=b?Li(b,1).join(""):m.slice(1);return A[d]()+F}}function Jl(d){return function(m){return eo(oE(qy(m).replace(Eu,"")),d,"")}}function eu(d){return function(){var m=arguments;switch(m.length){case 0:return new d;case 1:return new d(m[0]);case 2:return new d(m[0],m[1]);case 3:return new d(m[0],m[1],m[2]);case 4:return new d(m[0],m[1],m[2],m[3]);case 5:return new d(m[0],m[1],m[2],m[3],m[4]);case 6:return new d(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new d(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var b=Xo(d.prototype),A=d.apply(b,m);return Ii(A)?A:b}}function $x(d){return function(m,b,A){var F=Tn(m);if(!fs(m)){var z=fn(b,3);m=bo(m),b=function(ue){return z(F[ue],ue,F)}}var oe=d(m,b,A);return oe>-1?F[z?m[oe]:oe]:M}}function Yf(d){return yl(function(m){var b=m.length,A=b,F=Fo.prototype.thru;for(d&&m.reverse();A--;){var z=m[A];if("function"!=typeof z)throw new Co(ee);if(F&&!oe&&"wrapper"==jm(z))var oe=new Fo([],!0)}for(A=oe?A:b;++A<b;){var ue=jm(z=m[A]),we="wrapper"==ue?tu(z):M;oe=we&&X_(we[0])&&424==we[1]&&!we[4].length&&1==we[9]?oe[jm(we[0])].apply(oe,we[3]):1==z.length&&X_(z)?oe[ue]():oe.thru(z)}return function(){var et=arguments,Ze=et[0];if(oe&&1==et.length&&Mn(Ze))return oe.plant(Ze).value();for(var ct=0,wt=b?m[ct].apply(this,et):Ze;++ct<b;)wt=m[ct].call(this,wt);return wt}})}function Lm(d,m,b,A,F,z,oe,ue,we,et){var Ze=128&m,ct=1&m,wt=2&m,$t=24&m,dn=512&m,Qt=wt?M:eu(d);return function Kt(){for(var Un=arguments.length,Yn=Ve(Un),gs=Un;gs--;)Yn[gs]=arguments[gs];if($t)var jo=Qh(Kt),rs=Ul(Yn,jo);if(A&&(Yn=Kh(Yn,A,F,$t)),z&&(Yn=Kf(Yn,z,oe,$t)),Un-=rs,$t&&Un<et){var Sr=Ea(Yn,jo);return K_(d,m,Lm,Kt.placeholder,b,Yn,Sr,ue,we,et-Un)}var dc=ct?b:this,Jc=wt?dc[d]:d;return Un=Yn.length,ue?Yn=s0(Yn,ue):dn&&Un>1&&Yn.reverse(),Ze&&we<Un&&(Yn.length=we),this&&this!==oi&&this instanceof Kt&&(Jc=Qt||eu(Jc)),Jc.apply(dc,Yn)}}function Bm(d,m){return function(b,A){return function Am(d,m,b,A){return ai(d,function(F,z,oe){m(A,b(F),z,oe)}),A}(b,d,m(A),{})}}function Qf(d,m){return function(b,A){var F;if(b===M&&A===M)return m;if(b!==M&&(F=b),A!==M){if(F===M)return A;"string"==typeof b||"string"==typeof A?(b=_(b),A=_(A)):(b=x(b),A=x(A)),F=d(b,A)}return F}}function Um(d){return yl(function(m){return m=or(m,Qe(fn())),Rn(function(b){var A=this;return d(m,function(F){return Qi(F,A,b)})})})}function Zh(d,m){var b=(m=m===M?" ":_(m)).length;if(b<2)return b?Ad(m,d):m;var A=Ad(m,Ca(d/js(m)));return ws(m)?Li(Oo(A),0,d).join(""):A.slice(0,d)}function Xf(d){return function(m,b,A){return A&&"number"!=typeof A&&vo(m,b,A)&&(b=A=M),m=Xs(m),b===M?(b=m,m=0):b=Xs(b),function $f(d,m,b,A){for(var F=-1,z=Ar(Ca((m-d)/(b||1)),0),oe=Ve(z);z--;)oe[A?z:++F]=d,d+=b;return oe}(m,b,A=A===M?m<b?1:-1:Xs(A),d)}}function Od(d){return function(m,b){return"string"==typeof m&&"string"==typeof b||(m=Js(m),b=Js(b)),d(m,b)}}function K_(d,m,b,A,F,z,oe,ue,we,et){var Ze=8&m;m|=Ze?32:64,4&(m&=~(Ze?64:32))||(m&=-4);var Qt=[d,m,F,Ze?z:M,Ze?oe:M,Ze?M:z,Ze?M:oe,ue,we,et],Kt=b.apply(M,Qt);return X_(d)&&ey(Kt,Qt),Kt.placeholder=A,tC(Kt,d,m)}function Jf(d){var m=ei[d];return function(b,A){if(b=Js(b),(A=null==A?0:xi(Bn(A),292))&&Ia(b)){var F=(mr(b)+"e").split("e");return+((F=(mr(m(F[0]+"e"+(+F[1]+A)))+"e").split("e"))[0]+"e"+(+F[1]-A))}return m(b)}}var Vm=Ws&&1/xo(new Ws([,-0]))[1]==it?function(d){return new Ws(d)}:cu;function Hm(d){return function(m){var b=ts(m);return b==Rr?Wr(m):b==Zn?function xs(Ee){var We=-1,Ve=Array(Ee.size);return Ee.forEach(function(At){Ve[++We]=[At,At]}),Ve}(m):function Gr(Ee,We){return or(We,function(Ve){return[Ve,Ee[Ve]]})}(m,d(m))}}function Pa(d,m,b,A,F,z,oe,ue){var we=2&m;if(!we&&"function"!=typeof d)throw new Co(ee);var et=A?A.length:0;if(et||(m&=-97,A=F=M),oe=oe===M?oe:Ar(Bn(oe),0),ue=ue===M?ue:Bn(ue),et-=F?F.length:0,64&m){var Ze=A,ct=F;A=F=M}var wt=we?M:tu(d),$t=[d,m,b,A,F,Ze,ct,z,oe,ue];if(wt&&function Jx(d,m){var b=d[1],A=m[1],F=b|A;if(!(F<131||(128==A&&8==b||128==A&&256==b&&d[7].length<=m[8]||384==A&&m[7].length<=m[8]&&8==b)))return d;1&A&&(d[2]=m[2],F|=1&b?0:4);var ue=m[3];if(ue){var we=d[3];d[3]=we?Kh(we,ue,m[4]):ue,d[4]=we?Ea(d[3],G):m[4]}(ue=m[5])&&(d[5]=(we=d[5])?Kf(we,ue,m[6]):ue,d[6]=we?Ea(d[5],G):m[6]),(ue=m[7])&&(d[7]=ue),128&A&&(d[8]=null==d[8]?m[8]:xi(d[8],m[8])),null==d[9]&&(d[9]=m[9]),d[0]=m[0],d[1]=F}($t,wt),d=$t[0],m=$t[1],b=$t[2],A=$t[3],F=$t[4],!(ue=$t[9]=$t[9]===M?we?0:d.length:Ar($t[9]-et,0))&&24&m&&(m&=-25),m&&1!=m)dn=8==m||16==m?function zx(d,m,b){var A=eu(d);return function F(){for(var z=arguments.length,oe=Ve(z),ue=z,we=Qh(F);ue--;)oe[ue]=arguments[ue];var et=z<3&&oe[0]!==we&&oe[z-1]!==we?[]:Ea(oe,we);return(z-=et.length)<b?K_(d,m,Lm,F.placeholder,M,oe,et,M,M,b-z):Qi(this&&this!==oi&&this instanceof F?A:d,this,oe)}}(d,m,ue):32!=m&&33!=m||F.length?Lm.apply(M,$t):function Zb(d,m,b,A){var F=1&m,z=eu(d);return function oe(){for(var ue=-1,we=arguments.length,et=-1,Ze=A.length,ct=Ve(Ze+we),wt=this&&this!==oi&&this instanceof oe?z:d;++et<Ze;)ct[et]=A[et];for(;we--;)ct[et++]=arguments[++ue];return Qi(wt,F?b:this,ct)}}(d,m,b,A);else var dn=function Nm(d,m,b){var A=1&m,F=eu(d);return function z(){return(this&&this!==oi&&this instanceof z?F:d).apply(A?b:this,arguments)}}(d,m,b);return tC((wt?Wh:ey)(dn,$t),d,m)}function Yb(d,m,b,A){return d===M||Qc(d,Rc[b])&&!zn.call(A,b)?m:d}function Z_(d,m,b,A,F,z){return Ii(d)&&Ii(m)&&(z.set(m,d),Xl(d,m,M,Z_,z),z.delete(m)),d}function Y_(d){return $u(d)?M:d}function Qb(d,m,b,A,F,z){var oe=1&b,ue=d.length,we=m.length;if(ue!=we&&!(oe&&we>ue))return!1;var et=z.get(d),Ze=z.get(m);if(et&&Ze)return et==m&&Ze==d;var ct=-1,wt=!0,$t=2&b?new No:M;for(z.set(d,m),z.set(m,d);++ct<ue;){var dn=d[ct],Qt=m[ct];if(A)var Kt=oe?A(Qt,dn,ct,m,d,z):A(dn,Qt,ct,d,m,z);if(Kt!==M){if(Kt)continue;wt=!1;break}if($t){if(!Sc(m,function(Un,Yn){if(!pl($t,Yn)&&(dn===Un||F(dn,Un,b,A,z)))return $t.push(Yn)})){wt=!1;break}}else if(dn!==Qt&&!F(dn,Qt,b,A,z)){wt=!1;break}}return z.delete(d),z.delete(m),wt}function yl(d){return a0(vl(d,M,h0),d+"")}function Yh(d){return Jo(d,bo,Xh)}function ep(d){return Jo(d,_i,$m)}var tu=Wl?function(d){return Wl.get(d)}:cu;function jm(d){for(var m=d.name+"",b=Ci[m],A=zn.call(Ci,m)?b.length:0;A--;){var F=b[A],z=F.func;if(null==z||z==d)return F.name}return m}function Qh(d){return(zn.call(H,"placeholder")?H:d).placeholder}function fn(){var d=H.iteratee||Yd;return d=d===Yd?Rm:d,arguments.length?d(arguments[0],arguments[1]):d}function zm(d,m){var b=d.__data__;return function Zx(d){var m=typeof d;return"string"==m||"number"==m||"symbol"==m||"boolean"==m?"__proto__"!==d:null===d}(m)?b["string"==typeof m?"string":"hash"]:b.map}function tp(d){for(var m=bo(d),b=m.length;b--;){var A=m[b],F=d[A];m[b]=[A,F,J_(F)]}return m}function Pd(d,m){var b=function Vl(Ee,We){return null==Ee?M:Ee[We]}(d,m);return km(b)?b:M}var Xh=ds?function(d){return null==d?[]:(d=Tn(d),pr(ds(d),function(m){return Ka.call(d,m)}))}:Tp,$m=ds?function(d){for(var m=[];d;)go(m,Xh(d)),d=Fc(d);return m}:Tp,ts=ni;function Uu(d,m,b){for(var A=-1,F=(m=ar(m,d)).length,z=!1;++A<F;){var oe=nu(m[A]);if(!(z=null!=d&&b(d,oe)))break;d=d[oe]}return z||++A!=F?z:!!(F=null==d?0:d.length)&&ui(F)&&Vo(oe,F)&&(Mn(d)||Qs(d))}function n0(d){return"function"!=typeof d.constructor||np(d)?{}:Xo(Fc(d))}function r0(d){return Mn(d)||Qs(d)||!!(qr&&d&&d[qr])}function Vo(d,m){var b=typeof d;return!!(m=m??kt)&&("number"==b||"symbol"!=b&&ua.test(d))&&d>-1&&d%1==0&&d<m}function vo(d,m,b){if(!Ii(b))return!1;var A=typeof m;return!!("number"==A?fs(b)&&Vo(m,b.length):"string"==A&&m in b)&&Qc(b[m],d)}function Q_(d,m){if(Mn(d))return!1;var b=typeof d;return!("number"!=b&&"symbol"!=b&&"boolean"!=b&&null!=d&&!Ms(d))||X.test(d)||!fe.test(d)||null!=m&&d in Tn(m)}function X_(d){var m=jm(d),b=H[m];if("function"!=typeof b||!(m in Ln.prototype))return!1;if(d===b)return!0;var A=tu(b);return!!A&&d===A[0]}(Bc&&ts(new Bc(new ArrayBuffer(1)))!=Wt||Sa&&ts(new Sa)!=Rr||Gl&&ts(Gl.resolve())!=Gn||Ws&&ts(new Ws)!=Zn||Ta&&ts(new Ta)!=jr)&&(ts=function(d){var m=ni(d),b=m==Qr?d.constructor:M,A=b?Vu(b):"";if(A)switch(A){case Lh:return Wt;case Uc:return Rr;case hs:return Gn;case md:return Zn;case ql:return jr}return m});var Qx=Tu?cc:ih;function np(d){var m=d&&d.constructor;return d===("function"==typeof m&&m.prototype||Rc)}function J_(d){return d==d&&!Ii(d)}function o0(d,m){return function(b){return null!=b&&b[d]===m&&(m!==M||d in Tn(b))}}function vl(d,m,b){return m=Ar(m===M?d.length-1:m,0),function(){for(var A=arguments,F=-1,z=Ar(A.length-m,0),oe=Ve(z);++F<z;)oe[F]=A[m+F];F=-1;for(var ue=Ve(m+1);++F<m;)ue[F]=A[F];return ue[m]=b(oe),Qi(d,this,ue)}}function Jh(d,m){return m.length<2?d:ci(d,no(m,0,-1))}function s0(d,m){for(var b=d.length,A=xi(m.length,b),F=Uo(d);A--;){var z=m[A];d[A]=Vo(z,b)?F[z]:M}return d}function Wm(d,m){if(("constructor"!==m||"function"!=typeof d[m])&&"__proto__"!=m)return d[m]}var ey=Km(Wh),qm=pd||function(d,m){return oi.setTimeout(d,m)},a0=Km(Gf);function tC(d,m,b){var A=m+"";return a0(d,function Kx(d,m){var b=m.length;if(!b)return d;var A=b-1;return m[A]=(b>1?"& ":"")+m[A],m=m.join(b>2?", ":" "),d.replace(_t,"{\n/* [wrapped with "+m+"] */\n")}(A,function rC(d,m){return Xi(jn,function(b){var A="_."+b[0];m&b[1]&&!$a(d,A)&&d.push(A)}),d.sort()}(function t0(d){var m=d.match(ln);return m?m[1].split(Bt):[]}(A),b)))}function Km(d){var m=0,b=0;return function(){var A=_o(),F=16-(A-b);if(b=A,F>0){if(++m>=800)return arguments[0]}else m=0;return d.apply(M,arguments)}}function ef(d,m){var b=-1,A=d.length,F=A-1;for(m=m===M?A:m;++b<m;){var z=Td(b,F),oe=d[z];d[z]=d[b],d[b]=oe}return d.length=m,d}var nC=function Xx(d){var m=Yc(d,function(A){return 500===b.size&&b.clear(),A}),b=m.cache;return m}(function(d){var m=[];return 46===d.charCodeAt(0)&&m.push(""),d.replace(V,function(b,A,F,z){m.push(F?z.replace(on,"$1"):A||b)}),m});function nu(d){if("string"==typeof d||Ms(d))return d;var m=d+"";return"0"==m&&1/d==-it?"-0":m}function Vu(d){if(null!=d){try{return Oc.call(d)}catch{}try{return d+""}catch{}}return""}function c0(d){if(d instanceof Ln)return d.clone();var m=new Fo(d.__wrapped__,d.__chain__);return m.__actions__=Uo(d.__actions__),m.__index__=d.__index__,m.__values__=d.__values__,m}var Zm=Rn(function(d,m){return Vi(d)?_e(d,Nt(m,1,Vi,!0)):[]}),u0=Rn(function(d,m){var b=oc(m);return Vi(b)&&(b=M),Vi(d)?_e(d,Nt(m,1,Vi,!0),fn(b,2)):[]}),ty=Rn(function(d,m){var b=oc(m);return Vi(b)&&(b=M),Vi(d)?_e(d,Nt(m,1,Vi,!0),M,b):[]});function ry(d,m,b){var A=null==d?0:d.length;if(!A)return-1;var F=null==b?0:Bn(b);return F<0&&(F=Ar(A+F,0)),Nl(d,fn(m,3),F)}function d0(d,m,b){var A=null==d?0:d.length;if(!A)return-1;var F=A-1;return b!==M&&(F=Bn(b),F=b<0?Ar(A+F,0):xi(F,A-1)),Nl(d,fn(m,3),F,!0)}function h0(d){return null!=d&&d.length?Nt(d,1):[]}function dC(d){return d&&d.length?d[0]:M}var iy=Rn(function(d){var m=or(d,Ut);return m.length&&m[0]===d[0]?zc(m):[]}),p0=Rn(function(d){var m=oc(d),b=or(d,Ut);return m===oc(b)?m=M:b.pop(),b.length&&b[0]===d[0]?zc(b,fn(m,2)):[]}),m0=Rn(function(d){var m=oc(d),b=or(d,Ut);return(m="function"==typeof m?m:M)&&b.pop(),b.length&&b[0]===d[0]?zc(b,M,m):[]});function oc(d){var m=null==d?0:d.length;return m?d[m-1]:M}var Ui=Rn(Hu);function Hu(d,m){return d&&d.length&&m&&m.length?Fu(d,m):d}var As=yl(function(d,m){var b=null==d?0:d.length,A=Ql(d,m);return Gh(d,or(m,function(F){return Vo(F,b)?+F:F}).sort(Bu)),A});function Wc(d){return null==d?d:Lc.call(d)}var Nd=Rn(function(d){return v(Nt(d,1,Vi,!0))}),eg=Rn(function(d){var m=oc(d);return Vi(m)&&(m=M),v(Nt(d,1,Vi,!0),fn(m,2))}),nf=Rn(function(d){var m=oc(d);return m="function"==typeof m?m:M,v(Nt(d,1,Vi,!0),M,m)});function Ld(d){if(!d||!d.length)return[];var m=0;return d=pr(d,function(b){if(Vi(b))return m=Ar(b.length,m),!0}),Bl(m,function(b){return or(d,va(b))})}function cy(d,m){if(!d||!d.length)return[];var b=Ld(d);return null==m?b:or(b,function(A){return Qi(m,M,A)})}var tg=Rn(function(d,m){return Vi(d)?_e(d,m):[]}),sp=Rn(function(d){return Je(pr(d,Vi))}),E0=Rn(function(d){var m=oc(d);return Vi(m)&&(m=M),Je(pr(d,Vi),fn(m,2))}),ru=Rn(function(d){var m=oc(d);return m="function"==typeof m?m:M,Je(pr(d,Vi),M,m)}),ac=Rn(Ld),hC=Rn(function(d){var m=d.length,b=m>1?d[m-1]:M;return b="function"==typeof b?(d.pop(),b):M,cy(d,b)});function ap(d){var m=H(d);return m.__chain__=!0,m}function cp(d,m){return m(d)}var w0=yl(function(d){var m=d.length,b=m?d[0]:0,A=this.__wrapped__,F=function(z){return Ql(z,d)};return!(m>1||this.__actions__.length)&&A instanceof Ln&&Vo(b)?((A=A.slice(b,+b+(m?1:0))).__actions__.push({func:cp,args:[F],thisArg:M}),new Fo(A,this.__chain__).thru(function(z){return m&&!z.length&&z.push(M),z})):this.thru(F)}),py=kd(function(d,m,b){zn.call(d,b)?++d[b]:ka(d,b,1)}),pC=$x(ry),C0=$x(d0);function Kc(d,m){return(Mn(d)?Xi:Ie)(d,fn(m,3))}function my(d,m){return(Mn(d)?fl:rt)(d,fn(m,3))}var _C=kd(function(d,m,b){zn.call(d,b)?d[b].push(m):ka(d,b,[m])}),aT=Rn(function(d,m,b){var A=-1,F="function"==typeof m,z=fs(d)?Ve(d.length):[];return Ie(d,function(oe){z[++A]=F?Qi(m,oe,b):rc(oe,m,b)}),z}),I0=kd(function(d,m,b){ka(d,b,m)});function gy(d,m){return(Mn(d)?or:Id)(d,fn(m,3))}var yy=kd(function(d,m,b){d[b?0:1].push(m)},function(){return[[],[]]}),bC=Rn(function(d,m){if(null==d)return[];var b=m.length;return b>1&&vo(d,m[0],m[1])?m=[]:b>2&&vo(m[0],m[1],m[2])&&(m=[m[0]]),zf(d,Nt(m,1),[])}),ng=fd||function(){return oi.Date.now()};function Ey(d,m,b){return m=b?M:m,Pa(d,128,M,M,M,M,m=d&&null==m?d.length:m)}function A0(d,m){var b;if("function"!=typeof m)throw new Co(ee);return d=Bn(d),function(){return--d>0&&(b=m.apply(this,arguments)),d<=1&&(m=M),b}}var wy=Rn(function(d,m,b){var A=1;if(b.length){var F=Ea(b,Qh(wy));A|=32}return Pa(d,A,m,b,F)}),M0=Rn(function(d,m,b){var A=3;if(b.length){var F=Ea(b,Qh(M0));A|=32}return Pa(m,A,d,b,F)});function hp(d,m,b){var A,F,z,oe,ue,we,et=0,Ze=!1,ct=!1,wt=!0;if("function"!=typeof d)throw new Co(ee);function $t(Sr){var dc=A,Jc=F;return A=F=M,et=Sr,oe=d.apply(Jc,dc)}function dn(Sr){return et=Sr,ue=qm(Un,m),Ze?$t(Sr):oe}function Kt(Sr){var dc=Sr-we;return we===M||dc>=m||dc<0||ct&&Sr-et>=z}function Un(){var Sr=ng();if(Kt(Sr))return Yn(Sr);ue=qm(Un,function Qt(Sr){var hf=m-(Sr-we);return ct?xi(hf,z-(Sr-et)):hf}(Sr))}function Yn(Sr){return ue=M,wt&&A?$t(Sr):(A=F=M,oe)}function rs(){var Sr=ng(),dc=Kt(Sr);if(A=arguments,F=this,we=Sr,dc){if(ue===M)return dn(we);if(ct)return On(ue),ue=qm(Un,m),$t(we)}return ue===M&&(ue=qm(Un,m)),oe}return m=Js(m)||0,Ii(b)&&(Ze=!!b.leading,z=(ct="maxWait"in b)?Ar(Js(b.maxWait)||0,m):z,wt="trailing"in b?!!b.trailing:wt),rs.cancel=function gs(){ue!==M&&On(ue),et=0,A=we=F=ue=M},rs.flush=function jo(){return ue===M?oe:Yn(ng())},rs}var xy=Rn(function(d,m){return J(d,1,m)}),k0=Rn(function(d,m,b){return J(d,Js(m)||0,b)});function Yc(d,m){if("function"!=typeof d||null!=m&&"function"!=typeof m)throw new Co(ee);var b=function(){var A=arguments,F=m?m.apply(this,A):A[0],z=b.cache;if(z.has(F))return z.get(F);var oe=d.apply(this,A);return b.cache=z.set(F,oe)||z,oe};return b.cache=new(Yc.Cache||Ss),b}function fp(d){if("function"!=typeof d)throw new Co(ee);return function(){var m=arguments;switch(m.length){case 0:return!d.call(this);case 1:return!d.call(this,m[0]);case 2:return!d.call(this,m[0],m[1]);case 3:return!d.call(this,m[0],m[1],m[2])}return!d.apply(this,m)}}Yc.Cache=Ss;var R0=Ni(function(d,m){var b=(m=1==m.length&&Mn(m[0])?or(m[0],Qe(fn())):or(Nt(m,1),Qe(fn()))).length;return Rn(function(A){for(var F=-1,z=xi(A.length,b);++F<z;)A[F]=m[F].call(this,A[F]);return Qi(d,this,A)})}),rg=Rn(function(d,m){var b=Ea(m,Qh(rg));return Pa(d,32,M,m,b)}),O0=Rn(function(d,m){var b=Ea(m,Qh(O0));return Pa(d,64,M,m,b)}),Dy=yl(function(d,m){return Pa(d,256,M,M,M,m)});function Qc(d,m){return d===m||d!=d&&m!=m}var N0=Od(Ed),Ud=Od(function(d,m){return d>=m}),Qs=j_(function(){return arguments}())?j_:function(d){return co(d)&&zn.call(d,"callee")&&!Ka.call(d,"callee")},Mn=Ve.isArray,iu=pa?Qe(pa):function Mm(d){return co(d)&&ni(d)==Ft};function fs(d){return null!=d&&ui(d.length)&&!cc(d)}function Vi(d){return co(d)&&fs(d)}var ou=Qa||ih,L0=ma?Qe(ma):function z_(d){return co(d)&&ni(d)==kr};function ig(d){if(!co(d))return!1;var m=ni(d);return m==Jn||"[object DOMException]"==m||"string"==typeof d.message&&"string"==typeof d.name&&!$u(d)}function cc(d){if(!Ii(d))return!1;var m=ni(d);return m==qi||m==Mo||"[object AsyncFunction]"==m||"[object Proxy]"==m}function H0(d){return"number"==typeof d&&d==Bn(d)}function ui(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=kt}function Ii(d){var m=typeof d;return null!=d&&("object"==m||"function"==m)}function co(d){return null!=d&&"object"==typeof d}var Vd=ga?Qe(ga):function Vf(d){return co(d)&&ts(d)==Rr};function Hd(d){return"number"==typeof d||co(d)&&ni(d)==gr}function $u(d){if(!co(d)||ni(d)!=Qr)return!1;var m=Fc(d);if(null===m)return!0;var b=zn.call(m,"constructor")&&m.constructor;return"function"==typeof b&&b instanceof b&&Oc.call(b)==ud}var jd=dl?Qe(dl):function Cd(d){return co(d)&&ni(d)==Ct},yp=Dc?Qe(Dc):function $_(d){return co(d)&&ts(d)==Zn};function vp(d){return"string"==typeof d||!Mn(d)&&co(d)&&ni(d)==Hr}function Ms(d){return"symbol"==typeof d||co(d)&&ni(d)==ir}var Gu=_a?Qe(_a):function Kb(d){return co(d)&&ui(d.length)&&!!xr[ni(d)]},Ly=Od(Ou),IC=Od(function(d,m){return d<=m});function By(d){if(!d)return[];if(fs(d))return vp(d)?Oo(d):Uo(d);if($s&&d[$s])return function ba(Ee){for(var We,Ve=[];!(We=Ee.next()).done;)Ve.push(We.value);return Ve}(d[$s]());var m=ts(d);return(m==Rr?Wr:m==Zn?xo:El)(d)}function Xs(d){return d?(d=Js(d))===it||d===-it?17976931348623157e292*(d<0?-1:1):d==d?d:0:0===d?d:0}function Bn(d){var m=Xs(d),b=m%1;return m==m?b?m-b:m:0}function ag(d){return d?Ra(Bn(d),0,Lt):0}function Js(d){if("number"==typeof d)return d;if(Ms(d))return NaN;if(Ii(d)){var m="function"==typeof d.valueOf?d.valueOf():d;d=Ii(m)?m+"":m}if("string"!=typeof d)return 0===d?d:+d;d=Oh(d);var b=Va.test(d);return b||pi.test(d)?ad(d.slice(2),b?2:8):la.test(d)?NaN:+d}function Uy(d){return Oa(d,_i(d))}function mr(d){return null==d?"":_(d)}var Vy=Rd(function(d,m){if(np(m)||fs(m))Oa(m,bo(m),d);else for(var b in m)zn.call(m,b)&&Yr(d,b,m[b])}),Hy=Rd(function(d,m){Oa(m,_i(m),d)}),Wu=Rd(function(d,m,b,A){Oa(m,_i(m),d,A)}),zd=Rd(function(d,m,b,A){Oa(m,bo(m),d,A)}),z0=yl(Ql),$d=Rn(function(d,m){d=Tn(d);var b=-1,A=m.length,F=A>2?m[2]:M;for(F&&vo(m[0],m[1],F)&&(A=1);++b<A;)for(var z=m[b],oe=_i(z),ue=-1,we=oe.length;++ue<we;){var et=oe[ue],Ze=d[et];(Ze===M||Qc(Ze,Rc[et])&&!zn.call(d,et))&&(d[et]=z[et])}return d}),af=Rn(function(d){return d.push(M,Z_),Qi(ps,M,d)});function Fa(d,m,b){var A=null==d?M:ci(d,m);return A===M?b:A}function lg(d,m){return null!=d&&Uu(d,m,jh)}var zy=Bm(function(d,m,b){null!=m&&"function"!=typeof m.toString&&(m=Qo.call(m)),d[m]=b},Kd(Hi)),$y=Bm(function(d,m,b){null!=m&&"function"!=typeof m.toString&&(m=Qo.call(m)),zn.call(d,m)?d[m].push(b):d[m]=[b]},fn),q0=Rn(rc);function bo(d){return fs(d)?Ma(d):jf(d)}function _i(d){return fs(d)?Ma(d,!0):function $h(d){if(!Ii(d))return function eC(d){var m=[];if(null!=d)for(var b in Tn(d))m.push(b);return m}(d);var m=np(d),b=[];for(var A in d)"constructor"==A&&(m||!zn.call(d,A))||b.push(A);return b}(d)}var Gy=Rd(function(d,m,b){Xl(d,m,b)}),ps=Rd(function(d,m,b,A){Xl(d,m,b,A)}),Gd=yl(function(d,m){var b={};if(null==d)return b;var A=!1;m=or(m,function(z){return z=ar(z,d),A||(A=z.length>1),z}),Oa(d,ep(d),b),A&&(b=T(b,7,Y_));for(var F=m.length;F--;)I(b,m[F]);return b}),MC=yl(function(d,m){return null==d?{}:function G_(d,m){return li(d,m,function(b,A){return lg(d,A)})}(d,m)});function Ku(d,m){if(null==d)return{};var b=or(ep(d),function(A){return[A]});return m=fn(m),li(d,b,function(A,F){return m(A,F[0])})}var dg=Hm(bo),Ep=Hm(_i);function El(d){return null==d?[]:Nn(d,bo(d))}var Z0=Jl(function(d,m,b){return m=m.toLowerCase(),d+(b?qd(m):m)});function qd(d){return wl(mr(d).toLowerCase())}function qy(d){return(d=mr(d))&&d.replace(xc,Mc).replace(Oi,"")}var J0=Jl(function(d,m,b){return d+(b?"-":"")+m.toLowerCase()}),fg=Jl(function(d,m,b){return d+(b?" ":"")+m.toLowerCase()}),yr=Gc("toLowerCase"),Zy=Jl(function(d,m,b){return d+(b?"_":"")+m.toLowerCase()}),Yy=Jl(function(d,m,b){return d+(b?" ":"")+wl(m)}),uf=Jl(function(d,m,b){return d+(b?" ":"")+m.toUpperCase()}),wl=Gc("toUpperCase");function oE(d,m,b){return d=mr(d),(m=b?M:m)===M?function Nf(Ee){return Cc.test(Ee)}(d)?function ld(Ee){return Ee.match(Ol)||[]}(d):function Fl(Ee){return Ee.match(dr)||[]}(d):d.match(m)||[]}var Yu=Rn(function(d,m){try{return Qi(d,M,m)}catch(b){return ig(b)?b:new bn(b)}}),sE=yl(function(d,m){return Xi(m,function(b){b=nu(b),ka(d,b,wy(d[b],d))}),d});function Kd(d){return function(){return d}}var Zd=Yf(),Ho=Yf(!0);function Hi(d){return d}function Yd(d){return Rm("function"==typeof d?d:T(d,1))}var Qd=Rn(function(d,m){return function(b){return rc(b,d,m)}}),Xd=Rn(function(d,m){return function(b){return rc(d,b,m)}});function au(d,m,b){var A=bo(m),F=Ts(m,A);null==b&&(!Ii(m)||!F.length&&A.length)&&(b=m,m=d,d=this,F=Ts(m,bo(m)));var z=!(Ii(b)&&"chain"in b&&!b.chain),oe=cc(d);return Xi(F,function(ue){var we=m[ue];d[ue]=we,oe&&(d.prototype[ue]=function(){var et=this.__chain__;if(z||et){var Ze=d(this.__wrapped__),ct=Ze.__actions__=Uo(this.__actions__);return ct.push({func:we,args:arguments,thisArg:d}),Ze.__chain__=et,Ze}return we.apply(d,go([this.value()],arguments))})}),d}function cu(){}var th=Um(or),nh=Um(Ji),rh=Um(Sc);function gg(d){return Q_(d)?va(nu(d)):function ic(d){return function(m){return ci(m,d)}}(d)}var Sp=Xf(),Jy=Xf(!0);function Tp(){return[]}function ih(){return!1}var OC=Qf(function(d,m){return d+m},0),lE=Jf("ceil"),iv=Qf(function(d,m){return d/m},1),yg=Jf("floor"),Qu=Qf(function(d,m){return d*m},1),kp=Jf("round"),sv=Qf(function(d,m){return d-m},0);return H.after=function EC(d,m){if("function"!=typeof m)throw new Co(ee);return d=Bn(d),function(){if(--d<1)return m.apply(this,arguments)}},H.ary=Ey,H.assign=Vy,H.assignIn=Hy,H.assignInWith=Wu,H.assignWith=zd,H.at=z0,H.before=A0,H.bind=wy,H.bindAll=sE,H.bindKey=M0,H.castArray=function Ty(){if(!arguments.length)return[];var d=arguments[0];return Mn(d)?d:[d]},H.chain=ap,H.chunk=function iC(d,m,b){m=(b?vo(d,m,b):m===M)?1:Ar(Bn(m),0);var A=null==d?0:d.length;if(!A||m<1)return[];for(var F=0,z=0,oe=Ve(Ca(A/m));F<A;)oe[z++]=no(d,F,F+=m);return oe},H.compact=function oC(d){for(var m=-1,b=null==d?0:d.length,A=0,F=[];++m<b;){var z=d[m];z&&(F[A++]=z)}return F},H.concat=function l0(){var d=arguments.length;if(!d)return[];for(var m=Ve(d-1),b=arguments[0],A=d;A--;)m[A-1]=arguments[A];return go(Mn(b)?Uo(b):[b],Nt(m,1))},H.cond=function aE(d){var m=null==d?0:d.length,b=fn();return d=m?or(d,function(A){if("function"!=typeof A[1])throw new Co(ee);return[b(A[0]),A[1]]}):[],Rn(function(A){for(var F=-1;++F<m;){var z=d[F];if(Qi(z[0],this,A))return Qi(z[1],this,A)}})},H.conforms=function Ip(d){return function k(d){var m=bo(d);return function(b){return U(b,d,m)}}(T(d,1))},H.constant=Kd,H.countBy=py,H.create=function $0(d,m){var b=Xo(d);return null==m?b:gl(b,m)},H.curry=function xn(d,m,b){var A=Pa(d,8,M,M,M,M,M,m=b?M:m);return A.placeholder=xn.placeholder,A},H.curryRight=function dp(d,m,b){var A=Pa(d,16,M,M,M,M,M,m=b?M:m);return A.placeholder=dp.placeholder,A},H.debounce=hp,H.defaults=$d,H.defaultsDeep=af,H.defer=xy,H.delay=k0,H.difference=Zm,H.differenceBy=u0,H.differenceWith=ty,H.drop=function sC(d,m,b){var A=null==d?0:d.length;return A?no(d,(m=b||m===M?1:Bn(m))<0?0:m,A):[]},H.dropRight=function io(d,m,b){var A=null==d?0:d.length;return A?no(d,0,(m=A-(m=b||m===M?1:Bn(m)))<0?0:m):[]},H.dropRightWhile=function aC(d,m){return d&&d.length?j(d,fn(m,3),!0,!0):[]},H.dropWhile=function cC(d,m){return d&&d.length?j(d,fn(m,3),!0):[]},H.fill=function ny(d,m,b,A){var F=null==d?0:d.length;return F?(b&&"number"!=typeof b&&vo(d,m,b)&&(b=0,A=F),function zt(d,m,b,A){var F=d.length;for((b=Bn(b))<0&&(b=-b>F?0:F+b),(A=A===M||A>F?F:Bn(A))<0&&(A+=F),A=b>A?0:ag(A);b<A;)d[b++]=m;return d}(d,m,b,A)):[]},H.filter=function x0(d,m){return(Mn(d)?pr:An)(d,fn(m,3))},H.flatMap=function mC(d,m){return Nt(gy(d,m),1)},H.flatMapDeep=function gC(d,m){return Nt(gy(d,m),it)},H.flatMapDepth=function rf(d,m,b){return b=b===M?1:Bn(b),Nt(gy(d,m),b)},H.flatten=h0,H.flattenDeep=function lC(d){return null!=d&&d.length?Nt(d,it):[]},H.flattenDepth=function uC(d,m){return null!=d&&d.length?Nt(d,m=m===M?1:Bn(m)):[]},H.flip=function Cy(d){return Pa(d,512)},H.flow=Zd,H.flowRight=Ho,H.fromPairs=function f0(d){for(var m=-1,b=null==d?0:d.length,A={};++m<b;){var F=d[m];A[F[0]]=F[1]}return A},H.functions=function jy(d){return null==d?[]:Ts(d,bo(d))},H.functionsIn=function AC(d){return null==d?[]:Ts(d,_i(d))},H.groupBy=_C,H.initial=function rp(d){return null!=d&&d.length?no(d,0,-1):[]},H.intersection=iy,H.intersectionBy=p0,H.intersectionWith=m0,H.invert=zy,H.invertBy=$y,H.invokeMap=aT,H.iteratee=Yd,H.keyBy=I0,H.keys=bo,H.keysIn=_i,H.map=gy,H.mapKeys=function bl(d,m){var b={};return m=fn(m,3),ai(d,function(A,F,z){ka(b,m(A,F,z),A)}),b},H.mapValues=function qu(d,m){var b={};return m=fn(m,3),ai(d,function(A,F,z){ka(b,F,m(A,F,z))}),b},H.matches=function ea(d){return Pu(T(d,1))},H.matchesProperty=function mg(d,m){return Dd(d,T(m,1))},H.memoize=Yc,H.merge=Gy,H.mergeWith=ps,H.method=Qd,H.methodOf=Xd,H.mixin=au,H.negate=fp,H.nthArg=function eh(d){return d=Bn(d),Rn(function(m){return Zs(m,d)})},H.omit=Gd,H.omitBy=function cf(d,m){return Ku(d,fp(fn(m)))},H.once=function Iy(d){return A0(2,d)},H.orderBy=function _y(d,m,b,A){return null==d?[]:(Mn(m)||(m=null==m?[]:[m]),Mn(b=A?M:b)||(b=null==b?[]:[b]),zf(d,m,b))},H.over=th,H.overArgs=R0,H.overEvery=nh,H.overSome=rh,H.partial=rg,H.partialRight=O0,H.partition=yy,H.pick=MC,H.pickBy=Ku,H.property=gg,H.propertyOf=function Dp(d){return function(m){return null==d?M:ci(d,m)}},H.pull=Ui,H.pullAll=Hu,H.pullAllBy=function y0(d,m,b){return d&&d.length&&m&&m.length?Fu(d,m,fn(b,2)):d},H.pullAllWith=function tf(d,m,b){return d&&d.length&&m&&m.length?Fu(d,m,M,b):d},H.pullAt=As,H.range=Sp,H.rangeRight=Jy,H.rearg=Dy,H.reject=function S0(d,m){return(Mn(d)?pr:An)(d,fp(fn(m,3)))},H.remove=function Dr(d,m){var b=[];if(!d||!d.length)return b;var A=-1,F=[],z=d.length;for(m=fn(m,3);++A<z;){var oe=d[A];m(oe,A,d)&&(b.push(oe),F.push(A))}return Gh(d,F),b},H.rest=function P0(d,m){if("function"!=typeof d)throw new Co(ee);return Rn(d,m=m===M?m:Bn(m))},H.reverse=Wc,H.sampleSize=function Zc(d,m,b){return m=(b?vo(d,m,b):m===M)?1:Bn(m),(Mn(d)?gt:es)(d,m)},H.set=function Wd(d,m,b){return null==d?d:_l(d,m,b)},H.setWith=function ug(d,m,b,A){return A="function"==typeof A?A:M,null==d?d:_l(d,m,b,A)},H.shuffle=function yC(d){return(Mn(d)?Zr:Bo)(d)},H.slice=function oy(d,m,b){var A=null==d?0:d.length;return A?(b&&"number"!=typeof b&&vo(d,m,b)?(m=0,b=A):(m=null==m?0:Bn(m),b=b===M?A:Bn(b)),no(d,m,b)):[]},H.sortBy=bC,H.sortedUniq=function ip(d){return d&&d.length?Md(d):[]},H.sortedUniqBy=function ju(d,m){return d&&d.length?Md(d,fn(m,2)):[]},H.split=function tE(d,m,b){return b&&"number"!=typeof b&&vo(d,m,b)&&(m=b=M),(b=b===M?Lt:b>>>0)?(d=mr(d))&&("string"==typeof m||null!=m&&!jd(m))&&!(m=_(m))&&ws(d)?Li(Oo(d),0,b):d.split(m,b):[]},H.spread=function zu(d,m){if("function"!=typeof d)throw new Co(ee);return m=null==m?0:Ar(Bn(m),0),Rn(function(b){var A=b[m],F=Li(b,0,m);return A&&go(F,A),Qi(d,this,F)})},H.tail=function Xm(d){var m=null==d?0:d.length;return m?no(d,1,m):[]},H.take=function Jm(d,m,b){return d&&d.length?no(d,0,(m=b||m===M?1:Bn(m))<0?0:m):[]},H.takeRight=function Mr(d,m,b){var A=null==d?0:d.length;return A?no(d,(m=A-(m=b||m===M?1:Bn(m)))<0?0:m,A):[]},H.takeRightWhile=function op(d,m){return d&&d.length?j(d,fn(m,3),!1,!0):[]},H.takeWhile=function sy(d,m){return d&&d.length?j(d,fn(m,3)):[]},H.tap=function Bd(d,m){return m(d),d},H.throttle=function pp(d,m,b){var A=!0,F=!0;if("function"!=typeof d)throw new Co(ee);return Ii(b)&&(A="leading"in b?!!b.leading:A,F="trailing"in b?!!b.trailing:F),hp(d,m,{leading:A,maxWait:m,trailing:F})},H.thru=cp,H.toArray=By,H.toPairs=dg,H.toPairsIn=Ep,H.toPath=function cE(d){return Mn(d)?or(d,nu):Ms(d)?[d]:Uo(nC(mr(d)))},H.toPlainObject=Uy,H.transform=function wp(d,m,b){var A=Mn(d),F=A||ou(d)||Gu(d);if(m=fn(m,4),null==b){var z=d&&d.constructor;b=F?A?new z:[]:Ii(d)&&cc(z)?Xo(Fc(d)):{}}return(F?Xi:ai)(d,function(oe,ue,we){return m(b,oe,ue,we)}),b},H.unary=function mp(d){return Ey(d,1)},H.union=Nd,H.unionBy=eg,H.unionWith=nf,H.uniq=function ay(d){return d&&d.length?v(d):[]},H.uniqBy=function so(d,m){return d&&d.length?v(d,fn(m,2)):[]},H.uniqWith=function b0(d,m){return m="function"==typeof m?m:M,d&&d.length?v(d,M,m):[]},H.unset=function ms(d,m){return null==d||I(d,m)},H.unzip=Ld,H.unzipWith=cy,H.update=function Zu(d,m,b){return null==d?d:L(d,m,wn(b))},H.updateWith=function xp(d,m,b,A){return A="function"==typeof A?A:M,null==d?d:L(d,m,wn(b),A)},H.values=El,H.valuesIn=function Cp(d){return null==d?[]:Nn(d,_i(d))},H.without=tg,H.words=oE,H.wrap=function Sy(d,m){return rg(wn(m),d)},H.xor=sp,H.xorBy=E0,H.xorWith=ru,H.zip=ac,H.zipObject=function ao(d,m){return Tt(d||[],m||[],Yr)},H.zipObjectDeep=function Ys(d,m){return Tt(d||[],m||[],_l)},H.zipWith=hC,H.entries=dg,H.entriesIn=Ep,H.extend=Hy,H.extendWith=Wu,au(H,H),H.add=OC,H.attempt=Yu,H.camelCase=Z0,H.capitalize=qd,H.ceil=lE,H.clamp=function hg(d,m,b){return b===M&&(b=m,m=M),b!==M&&(b=(b=Js(b))==b?b:0),m!==M&&(m=(m=Js(m))==m?m:0),Ra(Js(d),m,b)},H.clone=function F0(d){return T(d,4)},H.cloneDeep=function wC(d){return T(d,5)},H.cloneDeepWith=function xC(d,m){return T(d,5,m="function"==typeof m?m:M)},H.cloneWith=function Ay(d,m){return T(d,4,m="function"==typeof m?m:M)},H.conformsTo=function My(d,m){return null==m||U(d,m,bo(m))},H.deburr=qy,H.defaultTo=function Na(d,m){return null==d||d!=d?m:d},H.divide=iv,H.endsWith=function Y0(d,m,b){d=mr(d),m=_(m);var A=d.length,F=b=b===M?A:Ra(Bn(b),0,A);return(b-=m.length)>=0&&d.slice(b,F)==m},H.eq=Qc,H.escape=function Q0(d){return(d=mr(d))&&en.test(d)?d.replace(bt,Es):d},H.escapeRegExp=function X0(d){return(d=mr(d))&&Me.test(d)?d.replace(q,"\\$&"):d},H.every=function fC(d,m,b){var A=Mn(d)?Ji:Ot;return b&&vo(d,m,b)&&(m=M),A(d,fn(m,3))},H.find=pC,H.findIndex=ry,H.findKey=function G0(d,m){return Ga(d,fn(m,3),ai)},H.findLast=C0,H.findLastIndex=d0,H.findLastKey=function W0(d,m){return Ga(d,fn(m,3),Ks)},H.floor=yg,H.forEach=Kc,H.forEachRight=my,H.forIn=function bp(d,m){return null==d?d:si(d,fn(m,3),_i)},H.forInRight=function DC(d,m){return null==d?d:_n(d,fn(m,3),_i)},H.forOwn=function SC(d,m){return d&&ai(d,fn(m,3))},H.forOwnRight=function TC(d,m){return d&&Ks(d,fn(m,3))},H.get=Fa,H.gt=N0,H.gte=Ud,H.has=function cg(d,m){return null!=d&&Uu(d,m,Uf)},H.hasIn=lg,H.head=dC,H.identity=Hi,H.includes=function sT(d,m,b,A){d=fs(d)?d:El(d),b=b&&!A?Bn(b):0;var F=d.length;return b<0&&(b=Ar(F+b,0)),vp(d)?b<=F&&d.indexOf(m,b)>-1:!!F&&Pi(d,m,b)>-1},H.indexOf=function oT(d,m,b){var A=null==d?0:d.length;if(!A)return-1;var F=null==b?0:Bn(b);return F<0&&(F=Ar(A+F,0)),Pi(d,m,F)},H.inRange=function Wy(d,m,b){return m=Xs(m),b===M?(b=m,m=0):b=Xs(b),function wd(d,m,b){return d>=xi(m,b)&&d<Ar(m,b)}(d=Js(d),m,b)},H.invoke=q0,H.isArguments=Qs,H.isArray=Mn,H.isArrayBuffer=iu,H.isArrayLike=fs,H.isArrayLikeObject=Vi,H.isBoolean=function CC(d){return!0===d||!1===d||co(d)&&ni(d)==yi},H.isBuffer=ou,H.isDate=L0,H.isElement=function B0(d){return co(d)&&1===d.nodeType&&!$u(d)},H.isEmpty=function U0(d){if(null==d)return!0;if(fs(d)&&(Mn(d)||"string"==typeof d||"function"==typeof d.splice||ou(d)||Gu(d)||Qs(d)))return!d.length;var m=ts(d);if(m==Rr||m==Zn)return!d.size;if(np(d))return!jf(d).length;for(var b in d)if(zn.call(d,b))return!1;return!0},H.isEqual=function ky(d,m){return xd(d,m)},H.isEqualWith=function Ry(d,m,b){var A=(b="function"==typeof b?b:M)?b(d,m):M;return A===M?xd(d,m,M,b):!!A},H.isError=ig,H.isFinite=function V0(d){return"number"==typeof d&&Ia(d)},H.isFunction=cc,H.isInteger=H0,H.isLength=ui,H.isMap=Vd,H.isMatch=function gp(d,m){return d===m||Hf(d,m,tp(m))},H.isMatchWith=function _p(d,m,b){return b="function"==typeof b?b:M,Hf(d,m,tp(m),b)},H.isNaN=function sf(d){return Hd(d)&&d!=+d},H.isNative=function og(d){if(Qx(d))throw new bn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return km(d)},H.isNil=function sg(d){return null==d},H.isNull=function Oy(d){return null===d},H.isNumber=Hd,H.isObject=Ii,H.isObjectLike=co,H.isPlainObject=$u,H.isRegExp=jd,H.isSafeInteger=function Py(d){return H0(d)&&d>=-kt&&d<=kt},H.isSet=yp,H.isString=vp,H.isSymbol=Ms,H.isTypedArray=Gu,H.isUndefined=function Fy(d){return d===M},H.isWeakMap=function j0(d){return co(d)&&ts(d)==jr},H.isWeakSet=function Ny(d){return co(d)&&"[object WeakSet]"==ni(d)},H.join=function g0(d,m){return null==d?"":Da.call(d,m)},H.kebabCase=J0,H.last=oc,H.lastIndexOf=function _0(d,m,b){var A=null==d?0:d.length;if(!A)return-1;var F=A;return b!==M&&(F=(F=Bn(b))<0?Ar(A+F,0):xi(F,A-1)),m==m?function Hl(Ee,We,Ve){for(var At=Ve+1;At--;)if(Ee[At]===We)return At;return At}(d,m,F):Nl(d,ya,F,!0)},H.lowerCase=fg,H.lowerFirst=yr,H.lt=Ly,H.lte=IC,H.max=function Ap(d){return d&&d.length?Pt(d,Hi,Ed):M},H.maxBy=function oh(d,m){return d&&d.length?Pt(d,fn(m,2),Ed):M},H.mean=function Mp(d){return gn(d,Hi)},H.meanBy=function df(d,m){return gn(d,fn(m,2))},H.min=function ov(d){return d&&d.length?Pt(d,Hi,Ou):M},H.minBy=function Ur(d,m){return d&&d.length?Pt(d,fn(m,2),Ou):M},H.stubArray=Tp,H.stubFalse=ih,H.stubObject=function _g(){return{}},H.stubString=function ev(){return""},H.stubTrue=function tv(){return!0},H.multiply=Qu,H.nth=function Fd(d,m){return d&&d.length?Zs(d,Bn(m)):M},H.noConflict=function Jd(){return oi._===this&&(oi._=dd),this},H.noop=cu,H.now=ng,H.pad=function su(d,m,b){d=mr(d);var A=(m=Bn(m))?js(d):0;if(!m||A>=m)return d;var F=(m-A)/2;return Zh(Nc(F),b)+d+Zh(Ca(F),b)},H.padEnd=function eE(d,m,b){d=mr(d);var A=(m=Bn(m))?js(d):0;return m&&A<m?d+Zh(m-A,b):d},H.padStart=function Ky(d,m,b){d=mr(d);var A=(m=Bn(m))?js(d):0;return m&&A<m?Zh(m-A,b)+d:d},H.parseInt=function Xc(d,m,b){return b||null==m?m=0:m&&(m=+m),Nh(mr(d).replace(tt,""),m||0)},H.random=function K0(d,m,b){if(b&&"boolean"!=typeof b&&vo(d,m,b)&&(m=b=M),b===M&&("boolean"==typeof m?(b=m,m=M):"boolean"==typeof d&&(b=d,d=M)),d===M&&m===M?(d=0,m=1):(d=Xs(d),m===M?(m=d,d=0):m=Xs(m)),d>m){var A=d;d=m,m=A}if(b||d%1||m%1){var F=Gs();return xi(d+F*(m-d+bi("1e-"+((F+"").length-1))),m)}return Td(d,m)},H.reduce=function D0(d,m,b){var A=Mn(d)?eo:Tc,F=arguments.length<3;return A(d,fn(m,4),b,F,Ie)},H.reduceRight=function vy(d,m,b){var A=Mn(d)?Pl:Tc,F=arguments.length<3;return A(d,fn(m,4),b,F,rt)},H.repeat=function RC(d,m,b){return m=(b?vo(d,m,b):m===M)?1:Bn(m),Ad(mr(d),m)},H.replace=function lc(){var d=arguments,m=mr(d[0]);return d.length<3?m:m.replace(d[1],d[2])},H.result=function kC(d,m,b){var A=-1,F=(m=ar(m,d)).length;for(F||(F=1,d=M);++A<F;){var z=null==d?M:d[nu(m[A])];z===M&&(A=F,z=b),d=cc(z)?z.call(d):z}return d},H.round=kp,H.runInContext=Ee,H.sample=function by(d){return(Mn(d)?Ru:W_)(d)},H.size=function T0(d){if(null==d)return 0;if(fs(d))return vp(d)?js(d):d.length;var m=ts(d);return m==Rr||m==Zn?d.size:jf(d).length},H.snakeCase=Zy,H.some=function vC(d,m,b){var A=Mn(d)?Sc:Do;return b&&vo(d,m,b)&&(m=M),A(d,fn(m,3))},H.sortedIndex=function qc(d,m){return Nu(d,m)},H.sortedIndexBy=function oo(d,m,b){return $c(d,m,fn(b,2))},H.sortedIndexOf=function sc(d,m){var b=null==d?0:d.length;if(b){var A=Nu(d,m);if(A<b&&Qc(d[A],m))return A}return-1},H.sortedLastIndex=function Ym(d,m){return Nu(d,m,!0)},H.sortedLastIndexBy=function v0(d,m,b){return $c(d,m,fn(b,2),!0)},H.sortedLastIndexOf=function Qm(d,m){if(null!=d&&d.length){var A=Nu(d,m,!0)-1;if(Qc(d[A],m))return A}return-1},H.startCase=Yy,H.startsWith=function ns(d,m,b){return d=mr(d),b=null==b?0:Ra(Bn(b),0,d.length),m=_(m),d.slice(b,b+m.length)==m},H.subtract=sv,H.sum=function uc(d){return d&&d.length?Ac(d,Hi):0},H.sumBy=function sh(d,m){return d&&d.length?Ac(d,fn(m,2)):0},H.template=function Qy(d,m,b){var A=H.templateSettings;b&&vo(d,m,b)&&(m=M),d=mr(d),m=Wu({},m,A,Yb);var ue,we,F=Wu({},m.imports,A.imports,Yb),z=bo(F),oe=Nn(F,z),et=0,Ze=m.interpolate||da,ct="__p += '",wt=Cs((m.escape||da).source+"|"+Ze.source+"|"+(Ze===ie?Ai:da).source+"|"+(m.evaluate||da).source+"|$","g"),$t="//# sourceURL="+(zn.call(m,"sourceURL")?(m.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ff+"]")+"\n";d.replace(wt,function(Kt,Un,Yn,gs,jo,rs){return Yn||(Yn=gs),ct+=d.slice(et,rs).replace(ha,kc),Un&&(ue=!0,ct+="' +\n__e("+Un+") +\n'"),jo&&(we=!0,ct+="';\n"+jo+";\n__p += '"),Yn&&(ct+="' +\n((__t = ("+Yn+")) == null ? '' : __t) +\n'"),et=rs+Kt.length,Kt}),ct+="';\n";var dn=zn.call(m,"variable")&&m.variable;if(dn){if(fi.test(dn))throw new bn("Invalid `variable` option passed into `_.template`")}else ct="with (obj) {\n"+ct+"\n}\n";ct=(we?ct.replace(Ti,""):ct).replace(Pr,"$1").replace(ht,"$1;"),ct="function("+(dn||"obj")+") {\n"+(dn?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(ue?", __e = _.escape":"")+(we?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+ct+"return __p\n}";var Qt=Yu(function(){return tr(z,$t+"return "+ct).apply(M,oe)});if(Qt.source=ct,ig(Qt))throw Qt;return Qt},H.times=function nv(d,m){if((d=Bn(d))<1||d>kt)return[];var b=Lt,A=xi(d,Lt);m=fn(m),d-=Lt;for(var F=Bl(A,m);++b<d;)m(b);return F},H.toFinite=Xs,H.toInteger=Bn,H.toLength=ag,H.toLower=function nE(d){return mr(d).toLowerCase()},H.toNumber=Js,H.toSafeInteger=function ks(d){return d?Ra(Bn(d),-kt,kt):0===d?d:0},H.toString=mr,H.toUpper=function rE(d){return mr(d).toUpperCase()},H.trim=function lf(d,m,b){if((d=mr(d))&&(b||m===M))return Oh(d);if(!d||!(m=_(m)))return d;var A=Oo(d),F=Oo(m);return Li(A,Iu(A,F),mi(A,F)+1).join("")},H.trimEnd=function Xy(d,m,b){if((d=mr(d))&&(b||m===M))return d.slice(0,wa(d)+1);if(!d||!(m=_(m)))return d;var A=Oo(d);return Li(A,0,mi(A,Oo(m))+1).join("")},H.trimStart=function iE(d,m,b){if((d=mr(d))&&(b||m===M))return d.replace(tt,"");if(!d||!(m=_(m)))return d;var A=Oo(d);return Li(A,Iu(A,Oo(m))).join("")},H.truncate=function cT(d,m){var b=30,A="...";if(Ii(m)){var F="separator"in m?m.separator:F;b="length"in m?Bn(m.length):b,A="omission"in m?_(m.omission):A}var z=(d=mr(d)).length;if(ws(d)){var oe=Oo(d);z=oe.length}if(b>=z)return d;var ue=b-js(A);if(ue<1)return A;var we=oe?Li(oe,0,ue).join(""):d.slice(0,ue);if(F===M)return we+A;if(oe&&(ue+=we.length-ue),jd(F)){if(d.slice(ue).search(F)){var et,Ze=we;for(F.global||(F=Cs(F.source,mr(wc.exec(F))+"g")),F.lastIndex=0;et=F.exec(Ze);)var ct=et.index;we=we.slice(0,ct===M?ue:ct)}}else if(d.indexOf(_(F),ue)!=ue){var wt=we.lastIndexOf(F);wt>-1&&(we=we.slice(0,wt))}return we+A},H.unescape=function pg(d){return(d=mr(d))&&qt.test(d)?d.replace(Ke,Du):d},H.uniqueId=function rv(d){var m=++Is;return mr(d)+m},H.upperCase=uf,H.upperFirst=wl,H.each=Kc,H.eachRight=my,H.first=dC,au(H,function(){var d={};return ai(H,function(m,b){zn.call(H.prototype,b)||(d[b]=m)}),d}(),{chain:!1}),H.VERSION="4.17.21",Xi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){H[d].placeholder=H}),Xi(["drop","take"],function(d,m){Ln.prototype[d]=function(b){b=b===M?1:Ar(Bn(b),0);var A=this.__filtered__&&!m?new Ln(this):this.clone();return A.__filtered__?A.__takeCount__=xi(b,A.__takeCount__):A.__views__.push({size:xi(b,Lt),type:d+(A.__dir__<0?"Right":"")}),A},Ln.prototype[d+"Right"]=function(b){return this.reverse()[d](b).reverse()}}),Xi(["filter","map","takeWhile"],function(d,m){var b=m+1,A=1==b||3==b;Ln.prototype[d]=function(F){var z=this.clone();return z.__iteratees__.push({iteratee:fn(F,3),type:b}),z.__filtered__=z.__filtered__||A,z}}),Xi(["head","last"],function(d,m){var b="take"+(m?"Right":"");Ln.prototype[d]=function(){return this[b](1).value()[0]}}),Xi(["initial","tail"],function(d,m){var b="drop"+(m?"":"Right");Ln.prototype[d]=function(){return this.__filtered__?new Ln(this):this[b](1)}}),Ln.prototype.compact=function(){return this.filter(Hi)},Ln.prototype.find=function(d){return this.filter(d).head()},Ln.prototype.findLast=function(d){return this.reverse().find(d)},Ln.prototype.invokeMap=Rn(function(d,m){return"function"==typeof d?new Ln(this):this.map(function(b){return rc(b,d,m)})}),Ln.prototype.reject=function(d){return this.filter(fp(fn(d)))},Ln.prototype.slice=function(d,m){d=Bn(d);var b=this;return b.__filtered__&&(d>0||m<0)?new Ln(b):(d<0?b=b.takeRight(-d):d&&(b=b.drop(d)),m!==M&&(b=(m=Bn(m))<0?b.dropRight(-m):b.take(m-d)),b)},Ln.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},Ln.prototype.toArray=function(){return this.take(Lt)},ai(Ln.prototype,function(d,m){var b=/^(?:filter|find|map|reject)|While$/.test(m),A=/^(?:head|last)$/.test(m),F=H[A?"take"+("last"==m?"Right":""):m],z=A||/^find/.test(m);!F||(H.prototype[m]=function(){var oe=this.__wrapped__,ue=A?[1]:arguments,we=oe instanceof Ln,et=ue[0],Ze=we||Mn(oe),ct=function(Un){var Yn=F.apply(H,go([Un],ue));return A&&wt?Yn[0]:Yn};Ze&&b&&"function"==typeof et&&1!=et.length&&(we=Ze=!1);var wt=this.__chain__,$t=!!this.__actions__.length,dn=z&&!wt,Qt=we&&!$t;if(!z&&Ze){oe=Qt?oe:new Ln(this);var Kt=d.apply(oe,ue);return Kt.__actions__.push({func:cp,args:[ct],thisArg:M}),new Fo(Kt,wt)}return dn&&Qt?d.apply(this,ue):(Kt=this.thru(ct),dn?A?Kt.value()[0]:Kt.value():Kt)})}),Xi(["pop","push","shift","sort","splice","unshift"],function(d){var m=jl[d],b=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",A=/^(?:pop|shift)$/.test(d);H.prototype[d]=function(){var F=arguments;if(A&&!this.__chain__){var z=this.value();return m.apply(Mn(z)?z:[],F)}return this[b](function(oe){return m.apply(Mn(oe)?oe:[],F)})}}),ai(Ln.prototype,function(d,m){var b=H[m];if(b){var A=b.name+"";zn.call(Ci,A)||(Ci[A]=[]),Ci[A].push({name:m,func:b})}}),Ci[Lm(M,2).name]=[{name:"wrapper",func:M}],Ln.prototype.clone=function Aa(){var d=new Ln(this.__wrapped__);return d.__actions__=Uo(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Uo(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Uo(this.__views__),d},Ln.prototype.reverse=function Vc(){if(this.__filtered__){var d=new Ln(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},Ln.prototype.value=function Hc(){var d=this.__wrapped__.value(),m=this.__dir__,b=Mn(d),A=m<0,F=b?d.length:0,z=function e0(d,m,b){for(var A=-1,F=b.length;++A<F;){var z=b[A],oe=z.size;switch(z.type){case"drop":d+=oe;break;case"dropRight":m-=oe;break;case"take":m=xi(m,d+oe);break;case"takeRight":d=Ar(d,m-oe)}}return{start:d,end:m}}(0,F,this.__views__),oe=z.start,ue=z.end,we=ue-oe,et=A?ue:oe-1,Ze=this.__iteratees__,ct=Ze.length,wt=0,$t=xi(we,this.__takeCount__);if(!b||!A&&F==we&&$t==we)return xe(d,this.__actions__);var dn=[];e:for(;we--&&wt<$t;){for(var Qt=-1,Kt=d[et+=m];++Qt<ct;){var Un=Ze[Qt],gs=Un.type,jo=(0,Un.iteratee)(Kt);if(2==gs)Kt=jo;else if(!jo){if(1==gs)continue e;break e}}dn[wt++]=Kt}return dn},H.prototype.at=w0,H.prototype.chain=function ly(){return ap(this)},H.prototype.commit=function uy(){return new Fo(this.value(),this.__chain__)},H.prototype.next=function lp(){this.__values__===M&&(this.__values__=By(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?M:this.__values__[this.__index__++]}},H.prototype.plant=function hy(d){for(var m,b=this;b instanceof _d;){var A=c0(b);A.__index__=0,A.__values__=M,m?F.__wrapped__=A:m=A;var F=A;b=b.__wrapped__}return F.__wrapped__=d,m},H.prototype.reverse=function fy(){var d=this.__wrapped__;if(d instanceof Ln){var m=d;return this.__actions__.length&&(m=new Ln(this)),(m=m.reverse()).__actions__.push({func:cp,args:[Wc],thisArg:M}),new Fo(m,this.__chain__)}return this.thru(Wc)},H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=function up(){return xe(this.__wrapped__,this.__actions__)},H.prototype.first=H.prototype.head,$s&&(H.prototype[$s]=function dy(){return this}),H}();oi._=Wa,(c=function(){return Wa}.call(te,R,te,de))!==M&&(de.exports=c)}.call(this)},1135:(de,te,R)=>{"use strict";R.d(te,{X:()=>M});var c=R(7579);class M extends c.x{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const ne=super._subscribe(ae);return!ne.closed&&ae.next(this._value),ne}getValue(){const{hasError:ae,thrownError:ne,_value:ee}=this;if(ae)throw ne;return this._throwIfClosed(),ee}next(ae){super.next(this._value=ae)}}},9751:(de,te,R)=>{"use strict";R.d(te,{y:()=>le});var c=R(930),M=R(727),N=R(8822),ae=R(9635),ne=R(2416),ee=R(576),he=R(2806);let le=(()=>{class re{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const Xe=new re;return Xe.source=this,Xe.operator=Fe,Xe}subscribe(Fe,Xe,ot){const ke=function W(re){return re&&re instanceof c.Lv||function G(re){return re&&(0,ee.m)(re.next)&&(0,ee.m)(re.error)&&(0,ee.m)(re.complete)}(re)&&(0,M.Nn)(re)}(Fe)?Fe:new c.Hp(Fe,Xe,ot);return(0,he.x)(()=>{const{operator:Ne,source:Pe}=this;ke.add(Ne?Ne.call(ke,Pe):Pe?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(Xe){Fe.error(Xe)}}forEach(Fe,Xe){return new(Xe=se(Xe))((ot,ke)=>{const Ne=new c.Hp({next:Pe=>{try{Fe(Pe)}catch(Be){ke(Be),Ne.unsubscribe()}},error:ke,complete:ot});this.subscribe(Ne)})}_subscribe(Fe){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Fe)}[N.L](){return this}pipe(...Fe){return(0,ae.U)(Fe)(this)}toPromise(Fe){return new(Fe=se(Fe))((Xe,ot)=>{let ke;this.subscribe(Ne=>ke=Ne,Ne=>ot(Ne),()=>Xe(ke))})}}return re.create=Ae=>new re(Ae),re})();function se(re){var Ae;return null!==(Ae=re??ne.v.Promise)&&void 0!==Ae?Ae:Promise}},4707:(de,te,R)=>{"use strict";R.d(te,{t:()=>N});var c=R(7579),M=R(6063);class N extends c.x{constructor(ne=1/0,ee=1/0,he=M.l){super(),this._bufferSize=ne,this._windowTime=ee,this._timestampProvider=he,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ee===1/0,this._bufferSize=Math.max(1,ne),this._windowTime=Math.max(1,ee)}next(ne){const{isStopped:ee,_buffer:he,_infiniteTimeWindow:le,_timestampProvider:se,_windowTime:G}=this;ee||(he.push(ne),!le&&he.push(se.now()+G)),this._trimBuffer(),super.next(ne)}_subscribe(ne){this._throwIfClosed(),this._trimBuffer();const ee=this._innerSubscribe(ne),{_infiniteTimeWindow:he,_buffer:le}=this,se=le.slice();for(let G=0;G<se.length&&!ne.closed;G+=he?1:2)ne.next(se[G]);return this._checkFinalizedStatuses(ne),ee}_trimBuffer(){const{_bufferSize:ne,_timestampProvider:ee,_buffer:he,_infiniteTimeWindow:le}=this,se=(le?1:2)*ne;if(ne<1/0&&se<he.length&&he.splice(0,he.length-se),!le){const G=ee.now();let W=0;for(let re=1;re<he.length&&he[re]<=G;re+=2)W=re;W&&he.splice(0,W+1)}}}},7579:(de,te,R)=>{"use strict";R.d(te,{x:()=>he});var c=R(9751),M=R(727);const ae=(0,R(3888).d)(se=>function(){se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=R(8737),ee=R(2806);let he=(()=>{class se extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const re=new le(this,this);return re.operator=W,re}_throwIfClosed(){if(this.closed)throw new ae}next(W){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(W)}})}error(W){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:re}=this;for(;re.length;)re.shift().error(W)}})}complete(){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:re,isStopped:Ae,observers:Fe}=this;return re||Ae?M.Lc:(this.currentObservers=null,Fe.push(W),new M.w0(()=>{this.currentObservers=null,(0,ne.P)(Fe,W)}))}_checkFinalizedStatuses(W){const{hasError:re,thrownError:Ae,isStopped:Fe}=this;re?W.error(Ae):Fe&&W.complete()}asObservable(){const W=new c.y;return W.source=this,W}}return se.create=(G,W)=>new le(G,W),se})();class le extends he{constructor(G,W){super(),this.destination=G,this.source=W}next(G){var W,re;null===(re=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===re||re.call(W,G)}error(G){var W,re;null===(re=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===re||re.call(W,G)}complete(){var G,W;null===(W=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===W||W.call(G)}_subscribe(G){var W,re;return null!==(re=null===(W=this.source)||void 0===W?void 0:W.subscribe(G))&&void 0!==re?re:M.Lc}}},930:(de,te,R)=>{"use strict";R.d(te,{Hp:()=>ot,Lv:()=>re});var c=R(576),M=R(727),N=R(2416),ae=R(7849),ne=R(5032);const ee=se("C",void 0,void 0);function se(je,$e,ze){return{kind:je,value:$e,error:ze}}var G=R(3410),W=R(2806);class re extends M.w0{constructor($e){super(),this.isStopped=!1,$e?(this.destination=$e,(0,M.Nn)($e)&&$e.add(this)):this.destination=Be}static create($e,ze,at){return new ot($e,ze,at)}next($e){this.isStopped?Pe(function le(je){return se("N",je,void 0)}($e),this):this._next($e)}error($e){this.isStopped?Pe(function he(je){return se("E",void 0,je)}($e),this):(this.isStopped=!0,this._error($e))}complete(){this.isStopped?Pe(ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next($e){this.destination.next($e)}_error($e){try{this.destination.error($e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ae=Function.prototype.bind;function Fe(je,$e){return Ae.call(je,$e)}class Xe{constructor($e){this.partialObserver=$e}next($e){const{partialObserver:ze}=this;if(ze.next)try{ze.next($e)}catch(at){ke(at)}}error($e){const{partialObserver:ze}=this;if(ze.error)try{ze.error($e)}catch(at){ke(at)}else ke($e)}complete(){const{partialObserver:$e}=this;if($e.complete)try{$e.complete()}catch(ze){ke(ze)}}}class ot extends re{constructor($e,ze,at){let be;if(super(),(0,c.m)($e)||!$e)be={next:$e??void 0,error:ze??void 0,complete:at??void 0};else{let Re;this&&N.v.useDeprecatedNextContext?(Re=Object.create($e),Re.unsubscribe=()=>this.unsubscribe(),be={next:$e.next&&Fe($e.next,Re),error:$e.error&&Fe($e.error,Re),complete:$e.complete&&Fe($e.complete,Re)}):be=$e}this.destination=new Xe(be)}}function ke(je){N.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(je):(0,ae.h)(je)}function Pe(je,$e){const{onStoppedNotification:ze}=N.v;ze&&G.z.setTimeout(()=>ze(je,$e))}const Be={closed:!0,next:ne.Z,error:function Ne(je){throw je},complete:ne.Z}},727:(de,te,R)=>{"use strict";R.d(te,{Lc:()=>ee,w0:()=>ne,Nn:()=>he});var c=R(576);const N=(0,R(3888).d)(se=>function(W){se(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((re,Ae)=>`${Ae+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var ae=R(8737);class ne{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Fe of W)Fe.remove(this);else W.remove(this);const{initialTeardown:re}=this;if((0,c.m)(re))try{re()}catch(Fe){G=Fe instanceof N?Fe.errors:[Fe]}const{_finalizers:Ae}=this;if(Ae){this._finalizers=null;for(const Fe of Ae)try{le(Fe)}catch(Xe){G=G??[],Xe instanceof N?G=[...G,...Xe.errors]:G.push(Xe)}}if(G)throw new N(G)}}add(G){var W;if(G&&G!==this)if(this.closed)le(G);else{if(G instanceof ne){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(G)}}_hasParent(G){const{_parentage:W}=this;return W===G||Array.isArray(W)&&W.includes(G)}_addParent(G){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(G),W):W?[W,G]:G}_removeParent(G){const{_parentage:W}=this;W===G?this._parentage=null:Array.isArray(W)&&(0,ae.P)(W,G)}remove(G){const{_finalizers:W}=this;W&&(0,ae.P)(W,G),G instanceof ne&&G._removeParent(this)}}ne.EMPTY=(()=>{const se=new ne;return se.closed=!0,se})();const ee=ne.EMPTY;function he(se){return se instanceof ne||se&&"closed"in se&&(0,c.m)(se.remove)&&(0,c.m)(se.add)&&(0,c.m)(se.unsubscribe)}function le(se){(0,c.m)(se)?se():se.unsubscribe()}},2416:(de,te,R)=>{"use strict";R.d(te,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(de,te,R)=>{"use strict";R.d(te,{E:()=>M});const M=new(R(9751).y)(ne=>ne.complete())},8996:(de,te,R)=>{"use strict";R.d(te,{D:()=>$e});var c=R(8421),M=R(5363),N=R(9468),ee=R(9751),le=R(2202),se=R(576),G=R(9672);function re(ze,at){if(!ze)throw new Error("Iterable cannot be null");return new ee.y(be=>{(0,G.f)(be,at,()=>{const Re=ze[Symbol.asyncIterator]();(0,G.f)(be,at,()=>{Re.next().then(Ge=>{Ge.done?be.complete():be.next(Ge.value)})},0,!0)})})}var Ae=R(3670),Fe=R(8239),Xe=R(1144),ot=R(6495),ke=R(2206),Ne=R(4532),Pe=R(3260);function $e(ze,at){return at?function je(ze,at){if(null!=ze){if((0,Ae.c)(ze))return function ae(ze,at){return(0,c.Xf)(ze).pipe((0,N.R)(at),(0,M.Q)(at))}(ze,at);if((0,Xe.z)(ze))return function he(ze,at){return new ee.y(be=>{let Re=0;return at.schedule(function(){Re===ze.length?be.complete():(be.next(ze[Re++]),be.closed||this.schedule())})})}(ze,at);if((0,Fe.t)(ze))return function ne(ze,at){return(0,c.Xf)(ze).pipe((0,N.R)(at),(0,M.Q)(at))}(ze,at);if((0,ke.D)(ze))return re(ze,at);if((0,ot.T)(ze))return function W(ze,at){return new ee.y(be=>{let Re;return(0,G.f)(be,at,()=>{Re=ze[le.h](),(0,G.f)(be,at,()=>{let Ge,ge;try{({value:Ge,done:ge}=Re.next())}catch(ye){return void be.error(ye)}ge?be.complete():be.next(Ge)},0,!0)}),()=>(0,se.m)(Re?.return)&&Re.return()})}(ze,at);if((0,Pe.L)(ze))return function Be(ze,at){return re((0,Pe.Q)(ze),at)}(ze,at)}throw(0,Ne.z)(ze)}(ze,at):(0,c.Xf)(ze)}},8421:(de,te,R)=>{"use strict";R.d(te,{Xf:()=>Ae});var c=R(655),M=R(1144),N=R(8239),ae=R(9751),ne=R(3670),ee=R(2206),he=R(4532),le=R(6495),se=R(3260),G=R(576),W=R(7849),re=R(8822);function Ae(je){if(je instanceof ae.y)return je;if(null!=je){if((0,ne.c)(je))return function Fe(je){return new ae.y($e=>{const ze=je[re.L]();if((0,G.m)(ze.subscribe))return ze.subscribe($e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(je);if((0,M.z)(je))return function Xe(je){return new ae.y($e=>{for(let ze=0;ze<je.length&&!$e.closed;ze++)$e.next(je[ze]);$e.complete()})}(je);if((0,N.t)(je))return function ot(je){return new ae.y($e=>{je.then(ze=>{$e.closed||($e.next(ze),$e.complete())},ze=>$e.error(ze)).then(null,W.h)})}(je);if((0,ee.D)(je))return Ne(je);if((0,le.T)(je))return function ke(je){return new ae.y($e=>{for(const ze of je)if($e.next(ze),$e.closed)return;$e.complete()})}(je);if((0,se.L)(je))return function Pe(je){return Ne((0,se.Q)(je))}(je)}throw(0,he.z)(je)}function Ne(je){return new ae.y($e=>{(function Be(je,$e){var ze,at,be,Re;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ze=(0,c.KL)(je);!(at=yield ze.next()).done;)if($e.next(at.value),$e.closed)return}catch(Ge){be={error:Ge}}finally{try{at&&!at.done&&(Re=ze.return)&&(yield Re.call(ze))}finally{if(be)throw be.error}}$e.complete()})})(je,$e).catch(ze=>$e.error(ze))})}},6451:(de,te,R)=>{"use strict";R.d(te,{T:()=>ee});var c=R(8189),M=R(8421),N=R(515),ae=R(3269),ne=R(8996);function ee(...he){const le=(0,ae.yG)(he),se=(0,ae._6)(he,1/0),G=he;return G.length?1===G.length?(0,M.Xf)(G[0]):(0,c.J)(se)((0,ne.D)(G,le)):N.E}},9646:(de,te,R)=>{"use strict";R.d(te,{of:()=>N});var c=R(3269),M=R(8996);function N(...ae){const ne=(0,c.yG)(ae);return(0,M.D)(ae,ne)}},5403:(de,te,R)=>{"use strict";R.d(te,{Q:()=>N,x:()=>M});var c=R(930);function M(ae,ne,ee,he,le){return new N(ae,ne,ee,he,le)}class N extends c.Lv{constructor(ne,ee,he,le,se,G){super(ne),this.onFinalize=se,this.shouldUnsubscribe=G,this._next=ee?function(W){try{ee(W)}catch(re){ne.error(re)}}:super._next,this._error=le?function(W){try{le(W)}catch(re){ne.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(W){ne.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},262:(de,te,R)=>{"use strict";R.d(te,{K:()=>ae});var c=R(8421),M=R(5403),N=R(4482);function ae(ne){return(0,N.e)((ee,he)=>{let G,le=null,se=!1;le=ee.subscribe((0,M.x)(he,void 0,void 0,W=>{G=(0,c.Xf)(ne(W,ae(ne)(ee))),le?(le.unsubscribe(),le=null,G.subscribe(he)):se=!0})),se&&(le.unsubscribe(),le=null,G.subscribe(he))})}},4351:(de,te,R)=>{"use strict";R.d(te,{b:()=>N});var c=R(5577),M=R(576);function N(ae,ne){return(0,M.m)(ne)?(0,c.z)(ae,ne,1):(0,c.z)(ae,1)}},8372:(de,te,R)=>{"use strict";R.d(te,{b:()=>ae});var c=R(4986),M=R(4482),N=R(5403);function ae(ne,ee=c.z){return(0,M.e)((he,le)=>{let se=null,G=null,W=null;const re=()=>{if(se){se.unsubscribe(),se=null;const Fe=G;G=null,le.next(Fe)}};function Ae(){const Fe=W+ne,Xe=ee.now();if(Xe<Fe)return se=this.schedule(void 0,Fe-Xe),void le.add(se);re()}he.subscribe((0,N.x)(le,Fe=>{G=Fe,W=ee.now(),se||(se=ee.schedule(Ae,ne),le.add(se))},()=>{re(),le.complete()},void 0,()=>{G=se=null}))})}},1884:(de,te,R)=>{"use strict";R.d(te,{x:()=>ae});var c=R(4671),M=R(4482),N=R(5403);function ae(ee,he=c.y){return ee=ee??ne,(0,M.e)((le,se)=>{let G,W=!0;le.subscribe((0,N.x)(se,re=>{const Ae=he(re);(W||!ee(G,Ae))&&(W=!1,G=Ae,se.next(re))}))})}function ne(ee,he){return ee===he}},9300:(de,te,R)=>{"use strict";R.d(te,{h:()=>N});var c=R(4482),M=R(5403);function N(ae,ne){return(0,c.e)((ee,he)=>{let le=0;ee.subscribe((0,M.x)(he,se=>ae.call(ne,se,le++)&&he.next(se)))})}},4004:(de,te,R)=>{"use strict";R.d(te,{U:()=>N});var c=R(4482),M=R(5403);function N(ae,ne){return(0,c.e)((ee,he)=>{let le=0;ee.subscribe((0,M.x)(he,se=>{he.next(ae.call(ne,se,le++))}))})}},8189:(de,te,R)=>{"use strict";R.d(te,{J:()=>N});var c=R(5577),M=R(4671);function N(ae=1/0){return(0,c.z)(M.y,ae)}},5577:(de,te,R)=>{"use strict";R.d(te,{z:()=>le});var c=R(4004),M=R(8421),N=R(4482),ae=R(9672),ne=R(5403),he=R(576);function le(se,G,W=1/0){return(0,he.m)(G)?le((re,Ae)=>(0,c.U)((Fe,Xe)=>G(re,Fe,Ae,Xe))((0,M.Xf)(se(re,Ae))),W):("number"==typeof G&&(W=G),(0,N.e)((re,Ae)=>function ee(se,G,W,re,Ae,Fe,Xe,ot){const ke=[];let Ne=0,Pe=0,Be=!1;const je=()=>{Be&&!ke.length&&!Ne&&G.complete()},$e=at=>Ne<re?ze(at):ke.push(at),ze=at=>{Fe&&G.next(at),Ne++;let be=!1;(0,M.Xf)(W(at,Pe++)).subscribe((0,ne.x)(G,Re=>{Ae?.(Re),Fe?$e(Re):G.next(Re)},()=>{be=!0},void 0,()=>{if(be)try{for(Ne--;ke.length&&Ne<re;){const Re=ke.shift();Xe?(0,ae.f)(G,Xe,()=>ze(Re)):ze(Re)}je()}catch(Re){G.error(Re)}}))};return se.subscribe((0,ne.x)(G,$e,()=>{Be=!0,je()})),()=>{ot?.()}}(re,Ae,se,W)))}},5363:(de,te,R)=>{"use strict";R.d(te,{Q:()=>ae});var c=R(9672),M=R(4482),N=R(5403);function ae(ne,ee=0){return(0,M.e)((he,le)=>{he.subscribe((0,N.x)(le,se=>(0,c.f)(le,ne,()=>le.next(se),ee),()=>(0,c.f)(le,ne,()=>le.complete(),ee),se=>(0,c.f)(le,ne,()=>le.error(se),ee)))})}},5026:(de,te,R)=>{"use strict";R.d(te,{R:()=>ae});var c=R(4482),M=R(5403);function N(ne,ee,he,le,se){return(G,W)=>{let re=he,Ae=ee,Fe=0;G.subscribe((0,M.x)(W,Xe=>{const ot=Fe++;Ae=re?ne(Ae,Xe,ot):(re=!0,Xe),le&&W.next(Ae)},se&&(()=>{re&&W.next(Ae),W.complete()})))}}function ae(ne,ee){return(0,c.e)(N(ne,ee,arguments.length>=2,!0))}},3099:(de,te,R)=>{"use strict";R.d(te,{B:()=>ne});var c=R(8421),M=R(7579),N=R(930),ae=R(4482);function ne(he={}){const{connector:le=(()=>new M.x),resetOnError:se=!0,resetOnComplete:G=!0,resetOnRefCountZero:W=!0}=he;return re=>{let Ae,Fe,Xe,ot=0,ke=!1,Ne=!1;const Pe=()=>{Fe?.unsubscribe(),Fe=void 0},Be=()=>{Pe(),Ae=Xe=void 0,ke=Ne=!1},je=()=>{const $e=Ae;Be(),$e?.unsubscribe()};return(0,ae.e)(($e,ze)=>{ot++,!Ne&&!ke&&Pe();const at=Xe=Xe??le();ze.add(()=>{ot--,0===ot&&!Ne&&!ke&&(Fe=ee(je,W))}),at.subscribe(ze),!Ae&&ot>0&&(Ae=new N.Hp({next:be=>at.next(be),error:be=>{Ne=!0,Pe(),Fe=ee(Be,se,be),at.error(be)},complete:()=>{ke=!0,Pe(),Fe=ee(Be,G),at.complete()}}),(0,c.Xf)($e).subscribe(Ae))})(re)}}function ee(he,le,...se){if(!0===le)return void he();if(!1===le)return;const G=new N.Hp({next:()=>{G.unsubscribe(),he()}});return le(...se).subscribe(G)}},5684:(de,te,R)=>{"use strict";R.d(te,{T:()=>M});var c=R(9300);function M(N){return(0,c.h)((ae,ne)=>N<=ne)}},9468:(de,te,R)=>{"use strict";R.d(te,{R:()=>M});var c=R(4482);function M(N,ae=0){return(0,c.e)((ne,ee)=>{ee.add(N.schedule(()=>ne.subscribe(ee),ae))})}},3900:(de,te,R)=>{"use strict";R.d(te,{w:()=>ae});var c=R(8421),M=R(4482),N=R(5403);function ae(ne,ee){return(0,M.e)((he,le)=>{let se=null,G=0,W=!1;const re=()=>W&&!se&&le.complete();he.subscribe((0,N.x)(le,Ae=>{se?.unsubscribe();let Fe=0;const Xe=G++;(0,c.Xf)(ne(Ae,Xe)).subscribe(se=(0,N.x)(le,ot=>le.next(ee?ee(Ae,ot,Xe,Fe++):ot),()=>{se=null,re()}))},()=>{W=!0,re()}))})}},5698:(de,te,R)=>{"use strict";R.d(te,{q:()=>ae});var c=R(515),M=R(4482),N=R(5403);function ae(ne){return ne<=0?()=>c.E:(0,M.e)((ee,he)=>{let le=0;ee.subscribe((0,N.x)(he,se=>{++le<=ne&&(he.next(se),ne<=le&&he.complete())}))})}},2722:(de,te,R)=>{"use strict";R.d(te,{R:()=>ne});var c=R(4482),M=R(5403),N=R(8421),ae=R(5032);function ne(ee){return(0,c.e)((he,le)=>{(0,N.Xf)(ee).subscribe((0,M.x)(le,()=>le.complete(),ae.Z)),!le.closed&&he.subscribe(le)})}},8505:(de,te,R)=>{"use strict";R.d(te,{b:()=>ne});var c=R(576),M=R(4482),N=R(5403),ae=R(4671);function ne(ee,he,le){const se=(0,c.m)(ee)||he||le?{next:ee,error:he,complete:le}:ee;return se?(0,M.e)((G,W)=>{var re;null===(re=se.subscribe)||void 0===re||re.call(se);let Ae=!0;G.subscribe((0,N.x)(W,Fe=>{var Xe;null===(Xe=se.next)||void 0===Xe||Xe.call(se,Fe),W.next(Fe)},()=>{var Fe;Ae=!1,null===(Fe=se.complete)||void 0===Fe||Fe.call(se),W.complete()},Fe=>{var Xe;Ae=!1,null===(Xe=se.error)||void 0===Xe||Xe.call(se,Fe),W.error(Fe)},()=>{var Fe,Xe;Ae&&(null===(Fe=se.unsubscribe)||void 0===Fe||Fe.call(se)),null===(Xe=se.finalize)||void 0===Xe||Xe.call(se)}))}):ae.y}},7414:(de,te,R)=>{"use strict";R.d(te,{V:()=>se});var c=R(4986),M=R(1165),N=R(4482),ae=R(8421),ne=R(3888),ee=R(5403),he=R(9672);const le=(0,ne.d)(W=>function(Ae=null){W(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Ae});function se(W,re){const{first:Ae,each:Fe,with:Xe=G,scheduler:ot=re??c.z,meta:ke=null}=(0,M.q)(W)?{first:W}:"number"==typeof W?{each:W}:W;if(null==Ae&&null==Fe)throw new TypeError("No timeout provided.");return(0,N.e)((Ne,Pe)=>{let Be,je,$e=null,ze=0;const at=be=>{je=(0,he.f)(Pe,ot,()=>{try{Be.unsubscribe(),(0,ae.Xf)(Xe({meta:ke,lastValue:$e,seen:ze})).subscribe(Pe)}catch(Re){Pe.error(Re)}},be)};Be=Ne.subscribe((0,ee.x)(Pe,be=>{je?.unsubscribe(),ze++,Pe.next($e=be),Fe>0&&at(Fe)},void 0,void 0,()=>{je?.closed||je?.unsubscribe(),$e=null})),!ze&&at(null!=Ae?"number"==typeof Ae?Ae:+Ae-ot.now():Fe)})}function G(W){throw new le(W)}},1365:(de,te,R)=>{"use strict";R.d(te,{M:()=>he});var c=R(4482),M=R(5403),N=R(8421),ae=R(4671),ne=R(5032),ee=R(3269);function he(...le){const se=(0,ee.jO)(le);return(0,c.e)((G,W)=>{const re=le.length,Ae=new Array(re);let Fe=le.map(()=>!1),Xe=!1;for(let ot=0;ot<re;ot++)(0,N.Xf)(le[ot]).subscribe((0,M.x)(W,ke=>{Ae[ot]=ke,!Xe&&!Fe[ot]&&(Fe[ot]=!0,(Xe=Fe.every(ae.y))&&(Fe=null))},ne.Z));G.subscribe((0,M.x)(W,ot=>{if(Xe){const ke=[ot,...Ae];W.next(se?se(...ke):ke)}}))})}},4408:(de,te,R)=>{"use strict";R.d(te,{o:()=>ne});var c=R(727);class M extends c.w0{constructor(he,le){super()}schedule(he,le=0){return this}}const N={setInterval(ee,he,...le){const{delegate:se}=N;return se?.setInterval?se.setInterval(ee,he,...le):setInterval(ee,he,...le)},clearInterval(ee){const{delegate:he}=N;return(he?.clearInterval||clearInterval)(ee)},delegate:void 0};var ae=R(8737);class ne extends M{constructor(he,le){super(he,le),this.scheduler=he,this.work=le,this.pending=!1}schedule(he,le=0){var se;if(this.closed)return this;this.state=he;const G=this.id,W=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(W,G,le)),this.pending=!0,this.delay=le,this.id=null!==(se=this.id)&&void 0!==se?se:this.requestAsyncId(W,this.id,le),this}requestAsyncId(he,le,se=0){return N.setInterval(he.flush.bind(he,this),se)}recycleAsyncId(he,le,se=0){if(null!=se&&this.delay===se&&!1===this.pending)return le;null!=le&&N.clearInterval(le)}execute(he,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(he,le);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,le){let G,se=!1;try{this.work(he)}catch(W){se=!0,G=W||new Error("Scheduled action threw falsy error")}if(se)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:he,scheduler:le}=this,{actions:se}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(se,this),null!=he&&(this.id=this.recycleAsyncId(le,he,null)),this.delay=null,super.unsubscribe()}}}},7565:(de,te,R)=>{"use strict";R.d(te,{v:()=>N});var c=R(6063);class M{constructor(ne,ee=M.now){this.schedulerActionCtor=ne,this.now=ee}schedule(ne,ee=0,he){return new this.schedulerActionCtor(this,ne).schedule(he,ee)}}M.now=c.l.now;class N extends M{constructor(ne,ee=M.now){super(ne,ee),this.actions=[],this._active=!1}flush(ne){const{actions:ee}=this;if(this._active)return void ee.push(ne);let he;this._active=!0;do{if(he=ne.execute(ne.state,ne.delay))break}while(ne=ee.shift());if(this._active=!1,he){for(;ne=ee.shift();)ne.unsubscribe();throw he}}}},4986:(de,te,R)=>{"use strict";R.d(te,{P:()=>ae,z:()=>N});var c=R(4408);const N=new(R(7565).v)(c.o),ae=N},6063:(de,te,R)=>{"use strict";R.d(te,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},233:(de,te,R)=>{"use strict";R.d(te,{N:()=>ne});var c=R(4408),N=R(7565);const ne=new class ae extends N.v{}(class M extends c.o{constructor(le,se){super(le,se),this.scheduler=le,this.work=se}schedule(le,se=0){return se>0?super.schedule(le,se):(this.delay=se,this.state=le,this.scheduler.flush(this),this)}execute(le,se){return se>0||this.closed?super.execute(le,se):this._execute(le,se)}requestAsyncId(le,se,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(le,se,G):(le.flush(this),0)}})},3410:(de,te,R)=>{"use strict";R.d(te,{z:()=>c});const c={setTimeout(M,N,...ae){const{delegate:ne}=c;return ne?.setTimeout?ne.setTimeout(M,N,...ae):setTimeout(M,N,...ae)},clearTimeout(M){const{delegate:N}=c;return(N?.clearTimeout||clearTimeout)(M)},delegate:void 0}},2202:(de,te,R)=>{"use strict";R.d(te,{h:()=>M});const M=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(de,te,R)=>{"use strict";R.d(te,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(de,te,R)=>{"use strict";R.d(te,{_6:()=>ee,jO:()=>ae,yG:()=>ne});var c=R(576),M=R(3532);function N(he){return he[he.length-1]}function ae(he){return(0,c.m)(N(he))?he.pop():void 0}function ne(he){return(0,M.K)(N(he))?he.pop():void 0}function ee(he,le){return"number"==typeof N(he)?he.pop():le}},8737:(de,te,R)=>{"use strict";function c(M,N){if(M){const ae=M.indexOf(N);0<=ae&&M.splice(ae,1)}}R.d(te,{P:()=>c})},3888:(de,te,R)=>{"use strict";function c(M){const ae=M(ne=>{Error.call(ne),ne.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}R.d(te,{d:()=>c})},2806:(de,te,R)=>{"use strict";R.d(te,{O:()=>ae,x:()=>N});var c=R(2416);let M=null;function N(ne){if(c.v.useDeprecatedSynchronousErrorHandling){const ee=!M;if(ee&&(M={errorThrown:!1,error:null}),ne(),ee){const{errorThrown:he,error:le}=M;if(M=null,he)throw le}}else ne()}function ae(ne){c.v.useDeprecatedSynchronousErrorHandling&&M&&(M.errorThrown=!0,M.error=ne)}},9672:(de,te,R)=>{"use strict";function c(M,N,ae,ne=0,ee=!1){const he=N.schedule(function(){ae(),ee?M.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(M.add(he),!ee)return he}R.d(te,{f:()=>c})},4671:(de,te,R)=>{"use strict";function c(M){return M}R.d(te,{y:()=>c})},1144:(de,te,R)=>{"use strict";R.d(te,{z:()=>c});const c=M=>M&&"number"==typeof M.length&&"function"!=typeof M},2206:(de,te,R)=>{"use strict";R.d(te,{D:()=>M});var c=R(576);function M(N){return Symbol.asyncIterator&&(0,c.m)(N?.[Symbol.asyncIterator])}},1165:(de,te,R)=>{"use strict";function c(M){return M instanceof Date&&!isNaN(M)}R.d(te,{q:()=>c})},576:(de,te,R)=>{"use strict";function c(M){return"function"==typeof M}R.d(te,{m:()=>c})},3670:(de,te,R)=>{"use strict";R.d(te,{c:()=>N});var c=R(8822),M=R(576);function N(ae){return(0,M.m)(ae[c.L])}},6495:(de,te,R)=>{"use strict";R.d(te,{T:()=>N});var c=R(2202),M=R(576);function N(ae){return(0,M.m)(ae?.[c.h])}},8239:(de,te,R)=>{"use strict";R.d(te,{t:()=>M});var c=R(576);function M(N){return(0,c.m)(N?.then)}},3260:(de,te,R)=>{"use strict";R.d(te,{L:()=>ae,Q:()=>N});var c=R(655),M=R(576);function N(ne){return(0,c.FC)(this,arguments,function*(){const he=ne.getReader();try{for(;;){const{value:le,done:se}=yield(0,c.qq)(he.read());if(se)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(le)}}finally{he.releaseLock()}})}function ae(ne){return(0,M.m)(ne?.getReader)}},3532:(de,te,R)=>{"use strict";R.d(te,{K:()=>M});var c=R(576);function M(N){return N&&(0,c.m)(N.schedule)}},4482:(de,te,R)=>{"use strict";R.d(te,{A:()=>M,e:()=>N});var c=R(576);function M(ae){return(0,c.m)(ae?.lift)}function N(ae){return ne=>{if(M(ne))return ne.lift(function(ee){try{return ae(ee,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(de,te,R)=>{"use strict";function c(){}R.d(te,{Z:()=>c})},9635:(de,te,R)=>{"use strict";R.d(te,{U:()=>N,z:()=>M});var c=R(4671);function M(...ae){return N(ae)}function N(ae){return 0===ae.length?c.y:1===ae.length?ae[0]:function(ee){return ae.reduce((he,le)=>le(he),ee)}}},7849:(de,te,R)=>{"use strict";R.d(te,{h:()=>N});var c=R(2416),M=R(3410);function N(ae){M.z.setTimeout(()=>{const{onUnhandledError:ne}=c.v;if(!ne)throw ae;ne(ae)})}},4532:(de,te,R)=>{"use strict";function c(M){return new TypeError(`You provided ${null!==M&&"object"==typeof M?"an invalid object":`'${M}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(te,{z:()=>c})},655:(de,te,R)=>{"use strict";function ae(ge,ye){var Le={};for(var Te in ge)Object.prototype.hasOwnProperty.call(ge,Te)&&ye.indexOf(Te)<0&&(Le[Te]=ge[Te]);if(null!=ge&&"function"==typeof Object.getOwnPropertySymbols){var lt=0;for(Te=Object.getOwnPropertySymbols(ge);lt<Te.length;lt++)ye.indexOf(Te[lt])<0&&Object.prototype.propertyIsEnumerable.call(ge,Te[lt])&&(Le[Te[lt]]=ge[Te[lt]])}return Le}function le(ge,ye,Le,Te){return new(Le||(Le=Promise))(function(it,kt){function Hn(yn){try{Lt(Te.next(yn))}catch(jt){kt(jt)}}function $n(yn){try{Lt(Te.throw(yn))}catch(jt){kt(jt)}}function Lt(yn){yn.done?it(yn.value):function lt(it){return it instanceof Le?it:new Le(function(kt){kt(it)})}(yn.value).then(Hn,$n)}Lt((Te=Te.apply(ge,ye||[])).next())})}function ke(ge){return this instanceof ke?(this.v=ge,this):new ke(ge)}function Ne(ge,ye,Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt,Te=Le.apply(ge,ye||[]),it=[];return lt={},kt("next"),kt("throw"),kt("return"),lt[Symbol.asyncIterator]=function(){return this},lt;function kt(jn){Te[jn]&&(lt[jn]=function(ur){return new Promise(function(mn,Gt){it.push([jn,ur,mn,Gt])>1||Hn(jn,ur)})})}function Hn(jn,ur){try{!function $n(jn){jn.value instanceof ke?Promise.resolve(jn.value.v).then(Lt,yn):jt(it[0][2],jn)}(Te[jn](ur))}catch(mn){jt(it[0][3],mn)}}function Lt(jn){Hn("next",jn)}function yn(jn){Hn("throw",jn)}function jt(jn,ur){jn(ur),it.shift(),it.length&&Hn(it[0][0],it[0][1])}}function Be(ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,ye=ge[Symbol.asyncIterator];return ye?ye.call(ge):(ge=function re(ge){var ye="function"==typeof Symbol&&Symbol.iterator,Le=ye&&ge[ye],Te=0;if(Le)return Le.call(ge);if(ge&&"number"==typeof ge.length)return{next:function(){return ge&&Te>=ge.length&&(ge=void 0),{value:ge&&ge[Te++],done:!ge}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(ge),Le={},Te("next"),Te("throw"),Te("return"),Le[Symbol.asyncIterator]=function(){return this},Le);function Te(it){Le[it]=ge[it]&&function(kt){return new Promise(function(Hn,$n){!function lt(it,kt,Hn,$n){Promise.resolve($n).then(function(Lt){it({value:Lt,done:Hn})},kt)}(Hn,$n,(kt=ge[it](kt)).done,kt.value)})}}}R.d(te,{FC:()=>Ne,KL:()=>Be,_T:()=>ae,mG:()=>le,qq:()=>ke})},4650:(de,te,R)=>{"use strict";R.d(te,{$8M:()=>Ln,$Z:()=>gp,AFp:()=>$o,ALo:()=>OI,AaK:()=>le,BQk:()=>Qu,CHM:()=>pl,CRH:()=>mu,CZH:()=>Qp,CqO:()=>d,D6c:()=>lb,Dn7:()=>xA,EJc:()=>uw,EiD:()=>u0,EpF:()=>sv,F$t:()=>et,F4k:()=>sh,FYo:()=>ap,FiY:()=>J,G48:()=>td,Gf:()=>Pn,GfV:()=>ly,GkF:()=>kp,Gpc:()=>W,Gre:()=>zC,Hsn:()=>Ze,Ikx:()=>wE,JOm:()=>Zs,JVY:()=>Zx,JZr:()=>ot,KtG:()=>Iu,L6k:()=>X_,LAX:()=>Qx,LFG:()=>ht,LSH:()=>ny,Lbi:()=>HA,Lck:()=>uA,MAs:()=>lE,MGl:()=>wt,MMx:()=>Iv,MR2:()=>oc,NdJ:()=>m,O4$:()=>Co,OlP:()=>nr,Oqu:()=>gE,P3R:()=>f0,PXZ:()=>WA,Q6J:()=>iv,QGY:()=>uc,QP$:()=>Fr,QbO:()=>jA,Qsj:()=>Bd,R0b:()=>rl,RDi:()=>Pd,Rgc:()=>Bg,SBq:()=>Ys,Sil:()=>fw,Suo:()=>LI,TTD:()=>ma,TgZ:()=>oh,Udp:()=>hE,W1O:()=>Kp,X6Q:()=>Ef,XFs:()=>Ct,Xpm:()=>la,Xts:()=>iy,Y36:()=>Vd,YKP:()=>Cv,YNc:()=>rv,Yjl:()=>Zo,Yz7:()=>Gt,Z0I:()=>Jn,ZZ4:()=>wf,_Bn:()=>NE,_UZ:()=>df,_Vd:()=>ru,_c5:()=>cD,_uU:()=>Np,aQg:()=>cb,c2e:()=>ZI,cJS:()=>kr,cg1:()=>CE,dDg:()=>JI,dqk:()=>tn,eBb:()=>Yx,eFA:()=>vw,ekj:()=>fE,eoX:()=>qv,f3M:()=>bt,g9A:()=>KI,h0i:()=>xl,hGG:()=>lD,hij:()=>Lp,iGM:()=>ed,ifc:()=>tt,ip1:()=>zv,jDz:()=>CI,kL8:()=>ZC,kcU:()=>Fi,lG2:()=>ha,lcZ:()=>$E,lnq:()=>hv,lqb:()=>ju,lri:()=>Jp,mCW:()=>Gm,n5z:()=>H,n_E:()=>Sv,oAB:()=>ua,oxw:()=>ue,pB0:()=>np,q3G:()=>io,q4F:()=>uy,qLn:()=>up,qOj:()=>Xc,qZA:()=>Mp,qzn:()=>vo,rWj:()=>Zg,sBO:()=>Di,sIi:()=>Yu,s_b:()=>WE,soG:()=>$v,tBr:()=>U,tb:()=>cw,tp0:()=>Ie,uIk:()=>mg,vHH:()=>ke,vpe:()=>ta,wAp:()=>an,xp6:()=>dp,ynx:()=>Ur,z2F:()=>rb,z3N:()=>Vo,zSh:()=>sc,zs3:()=>zu});var c=R(7579),M=R(727),N=R(9751),ae=R(6451),ne=R(3099);function ee(o){for(let a in o)if(o[a]===ee)return a;throw Error("Could not find renamed property on target object.")}function he(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function le(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(le).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function se(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const G=ee({__forward_ref__:ee});function W(o){return o.__forward_ref__=W,o.toString=function(){return le(this())},o}function re(o){return Ae(o)?o():o}function Ae(o){return"function"==typeof o&&o.hasOwnProperty(G)&&o.__forward_ref__===W}function Fe(o){return o&&!!o.\u0275providers}const ot="https://g.co/ng/security#xss";class ke extends Error{constructor(a,l){super(function Ne(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function Pe(o){return"string"==typeof o?o:null==o?"":String(o)}function at(o,a){throw new ke(-201,!1)}function yn(o,a){null==o&&function jt(o,a,l,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${l} ${h} ${a} <=Actual]`))}(a,o,null,"!=")}function Gt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function kr(o){return{providers:o.providers||[],imports:o.imports||[]}}function Vr(o){return qi(o,Ki)||qi(o,Gn)}function Jn(o){return null!==Vr(o)}function qi(o,a){return o.hasOwnProperty(a)?o[a]:null}function gr(o){return o&&(o.hasOwnProperty(Qr)||o.hasOwnProperty(Xr))?o[Qr]:null}const Ki=ee({\u0275prov:ee}),Qr=ee({\u0275inj:ee}),Gn=ee({ngInjectableDef:ee}),Xr=ee({ngInjectorDef:ee});var Ct=(()=>((Ct=Ct||{})[Ct.Default=0]="Default",Ct[Ct.Host=1]="Host",Ct[Ct.Self=2]="Self",Ct[Ct.SkipSelf=4]="SkipSelf",Ct[Ct.Optional=8]="Optional",Ct))();let Zn;function ir(o){const a=Zn;return Zn=o,a}function Jr(o,a,l){const h=Vr(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&Ct.Optional?null:void 0!==a?a:void at(le(o))}const tn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zr={},_r="__NG_DI_FLAG__",hi="ngTempTokenPath",Zi=/\n/gm,po="__source";let vn;function Ti(o){const a=vn;return vn=o,a}function Pr(o,a=Ct.Default){if(void 0===vn)throw new ke(-203,!1);return null===vn?Jr(o,void 0,a):vn.get(o,a&Ct.Optional?null:void 0,a)}function ht(o,a=Ct.Default){return(function Hr(){return Zn}()||Pr)(re(o),a)}function bt(o,a=Ct.Default){return ht(o,qt(a))}function qt(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function en(o){const a=[];for(let l=0;l<o.length;l++){const h=re(o[l]);if(Array.isArray(h)){if(0===h.length)throw new ke(900,!1);let f,g=Ct.Default;for(let E=0;E<h.length;E++){const C=h[E],S=ce(C);"number"==typeof S?-1===S?f=C.token:g|=S:f=C}a.push(ht(f,g))}else a.push(ht(h))}return a}function In(o,a){return o[_r]=a,o.prototype[_r]=a,o}function ce(o){return o[_r]}function X(o){return{toString:o}.toString()}var V=(()=>((V=V||{})[V.OnPush=0]="OnPush",V[V.Default=1]="Default",V))(),tt=(()=>{return(o=tt||(tt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",tt;var o})();const Rt={},_t=[],ln=ee({\u0275cmp:ee}),Bt=ee({\u0275dir:ee}),dr=ee({\u0275pipe:ee}),fi=ee({\u0275mod:ee}),on=ee({\u0275fac:ee}),Ai=ee({__NG_ELEMENT_ID__:ee});let wc=0;function la(o){return X(()=>{const l=!0===o.standalone,h={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||_t,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||tt.Emulated,id:"c"+wc++,styles:o.styles||_t,_:null,setInput:null,schemas:o.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},g=o.dependencies,E=o.features;return f.inputs=da(o.inputs,h),f.outputs=da(o.outputs),E&&E.forEach(C=>C(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map(al).filter(pi):null,f.pipeDefs=g?()=>("function"==typeof g?g():g).map(vi).filter(pi):null,f})}function al(o){return qn(o)||Er(o)}function pi(o){return null!==o}function ua(o){return X(()=>({type:o.type,bootstrap:o.bootstrap||_t,declarations:o.declarations||_t,imports:o.imports||_t,exports:o.exports||_t,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function da(o,a){if(null==o)return Rt;const l={};for(const h in o)if(o.hasOwnProperty(h)){let f=o[h],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),l[f]=h,a&&(a[f]=g)}return l}const ha=la;function Zo(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function qn(o){return o[ln]||null}function Er(o){return o[Bt]||null}function vi(o){return o[dr]||null}function Fr(o){const a=qn(o)||Er(o)||vi(o);return null!==a&&a.standalone}function ii(o,a){const l=o[fi]||null;if(!l&&!0===a)throw new Error(`Type ${le(o)} does not have '\u0275mod' property.`);return l}const K=18;function Yi(o){return Array.isArray(o)&&"object"==typeof o[1]}function Ri(o){return Array.isArray(o)&&!0===o[1]}function Us(o){return 0!=(4&o.flags)}function ll(o){return o.componentOffset>-1}function Eu(o){return 1==(1&o.flags)}function Oi(o){return null!==o.template}function od(o){return 0!=(256&o[2])}function Ei(o,a){return o.hasOwnProperty(on)?o[on]:null}class pa{constructor(a,l,h){this.previousValue=a,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function ma(){return ga}function ga(o){return o.type.prototype.ngOnChanges&&(o.setInput=Dc),dl}function dl(){const o=Qi(this),a=o?.current;if(a){const l=o.previous;if(l===Rt)o.previous=a;else for(let h in a)l[h]=a[h];o.current=null,this.ngOnChanges(a)}}function Dc(o,a,l,h){const f=this.declaredInputs[l],g=Qi(o)||function hl(o,a){return o[_a]=a}(o,{previous:Rt,current:null}),E=g.current||(g.current={}),C=g.previous,S=C[f];E[f]=new pa(S&&S.currentValue,a,C===Rt),o[h]=a}ma.ngInherit=!0;const _a="__ngSimpleChanges__";function Qi(o){return o[_a]||null}function Br(o){for(;Array.isArray(o);)o=o[0];return o}function go(o,a){return Br(a[o])}function eo(o,a){return Br(a[o.index])}function Sc(o,a){return o.data[a]}function bs(o,a){return o[a]}function wi(o,a){const l=a[o];return Yi(l)?l:l[0]}function Ga(o){return 64==(64&o[2])}function Pi(o,a){return null==a?null:o[a]}function Cu(o){o[K]=0}function ya(o,a){o[5]+=a;let l=o,h=o[3];for(;null!==h&&(1===a&&1===l[5]||-1===a&&0===l[5]);)h[5]+=a,l=h,h=h[3]}const gn={lFrame:We(null),bindingsEnabled:!0};function Bl(){return gn.bindingsEnabled}function Qe(){return gn.lFrame.lView}function Nn(){return gn.lFrame.tView}function pl(o){return gn.lFrame.contextLView=o,o[8]}function Iu(o){return gn.lFrame.contextLView=null,o}function mi(){let o=Ul();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ul(){return gn.lFrame.currentTNode}function Es(o,a){const l=gn.lFrame;l.currentTNode=o,l.isParent=a}function kc(){return gn.lFrame.isParent}function Vl(){gn.lFrame.isParent=!1}function Wr(){const o=gn.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function xo(){return gn.lFrame.bindingIndex++}function xs(o){const a=gn.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function js(o,a){const l=gn.lFrame;l.bindingIndex=l.bindingRootIndex=o,wa(a)}function wa(o){gn.lFrame.currentDirectiveIndex=o}function Ph(){return gn.lFrame.currentQueryIndex}function Su(o){gn.lFrame.currentQueryIndex=o}function ld(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Fh(o,a,l){if(l&Ct.SkipSelf){let f=a,g=o;for(;!(f=f.parent,null!==f||l&Ct.Host||(f=ld(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;a=f,o=g}const h=gn.lFrame=Ee();return h.currentTNode=a,h.lView=o,!0}function Wa(o){const a=Ee(),l=o[1];gn.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Ee(){const o=gn.lFrame,a=null===o?null:o.child;return null===a?We(o):a}function We(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Ve(){const o=gn.lFrame;return gn.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const At=Ve;function bn(){const o=Ve();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Tn(){return gn.lFrame.selectedIndex}function Cs(o){gn.lFrame.selectedIndex=o}function sr(){const o=gn.lFrame;return Sc(o.tView,o.selectedIndex)}function Co(){gn.lFrame.currentNamespace="svg"}function Fi(){!function Rc(){gn.lFrame.currentNamespace=null}()}function zn(o,a){for(let l=a.directiveStart,h=a.directiveEnd;l<h;l++){const g=o.data[l].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:C,ngAfterViewInit:S,ngAfterViewChecked:O,ngOnDestroy:B}=g;E&&(o.contentHooks||(o.contentHooks=[])).push(-l,E),C&&((o.contentHooks||(o.contentHooks=[])).push(l,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,C)),S&&(o.viewHooks||(o.viewHooks=[])).push(-l,S),O&&((o.viewHooks||(o.viewHooks=[])).push(l,O),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,O)),null!=B&&(o.destroyHooks||(o.destroyHooks=[])).push(l,B)}}function Is(o,a,l){ud(o,a,3,l)}function xa(o,a,l,h){(3&o[2])===l&&ud(o,a,l,h)}function Qo(o,a){let l=o[2];(3&l)===a&&(l&=2047,l+=1,o[2]=l)}function ud(o,a,l,h){const g=h??-1,E=a.length-1;let C=0;for(let S=void 0!==h?65535&o[K]:0;S<E;S++)if("number"==typeof a[S+1]){if(C=a[S],null!=h&&C>=h)break}else a[S]<0&&(o[K]+=65536),(C<g||-1==g)&&(dd(o,l,a,S),o[K]=(4294901760&o[K])+S+2),S++}function dd(o,a,l,h){const f=l[h]<0,g=l[h+1],C=o[f?-l[h]:l[h]];if(f){if(o[2]>>11<o[K]>>16&&(3&o[2])===a){o[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class qa{constructor(a,l,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}function $s(o,a,l){let h=0;for(;h<l.length;){const f=l[h];if("number"==typeof f){if(0!==f)break;h++;const g=l[h++],E=l[h++],C=l[h++];o.setAttribute(a,E,C,g)}else{const g=f,E=l[++h];Ya(g)?o.setProperty(a,g,E):o.setAttribute(a,g,E),h++}}return h}function Io(o){return 3===o||4===o||6===o}function Ya(o){return 64===o.charCodeAt(0)}function Ds(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let h=0;h<a.length;h++){const f=a[h];"number"==typeof f?l=f:0===l||fd(o,l,f,null,-1===l||2===l?a[++h]:null)}}return o}function fd(o,a,l,h,f){let g=0,E=o.length;if(-1===a)E=-1;else for(;g<o.length;){const C=o[g++];if("number"==typeof C){if(C===a){E=-1;break}if(C>a){E=g-1;break}}}for(;g<o.length;){const C=o[g];if("number"==typeof C)break;if(C===l){if(null===h)return void(null!==f&&(o[g+1]=f));if(h===o[g+1])return void(o[g+2]=f)}g++,null!==h&&g++,null!==f&&g++}-1!==E&&(o.splice(E,0,a),g=E+1),o.splice(g++,0,l),null!==h&&o.splice(g++,0,h),null!==f&&o.splice(g++,0,f)}function pd(o){return-1!==o}function Ca(o){return 32767&o}function ds(o,a){let l=function Nc(o){return o>>16}(o),h=a;for(;l>0;)h=h[15],l--;return h}let Qa=!0;function Ia(o){const a=Qa;return Qa=o,a}let xi=0;const _o={};function Gs(o,a){const l=Bc(o,a);if(-1!==l)return l;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,Lc(h.data,o),Lc(a,null),Lc(h.blueprint,null));const f=Sa(o,a),g=o.injectorIndex;if(pd(f)){const E=Ca(f),C=ds(f,a),S=C[1].data;for(let O=0;O<8;O++)a[g+O]=C[E+O]|S[E+O]}return a[g+8]=f,g}function Lc(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Bc(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Sa(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,h=null,f=a;for(;null!==f;){if(h=Fo(f),null===h)return-1;if(l++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return-1}function Gl(o,a,l){!function Nh(o,a,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(Ai)&&(h=l[Ai]),null==h&&(h=l[Ai]=xi++);const f=255&h;a.data[o+(f>>5)]|=1<<f}(o,a,l)}function Ta(o,a,l){if(l&Ct.Optional||void 0!==o)return o;at()}function Xa(o,a,l,h){if(l&Ct.Optional&&void 0===h&&(h=null),0==(l&(Ct.Self|Ct.Host))){const f=o[9],g=ir(void 0);try{return f?f.get(a,h,l&Ct.Optional):Jr(a,h,l&Ct.Optional)}finally{ir(g)}}return Ta(h,0,l)}function Wl(o,a,l,h=Ct.Default,f){if(null!==o){if(1024&a[2]){const E=function _d(o,a,l,h,f){let g=o,E=a;for(;null!==g&&null!==E&&1024&E[2]&&!(256&E[2]);){const C=Ci(g,E,l,h|Ct.Self,_o);if(C!==_o)return C;let S=g.parent;if(!S){const O=E[21];if(O){const B=O.get(l,_o,h);if(B!==_o)return B}S=Fo(E),E=E[15]}g=S}return f}(o,a,l,h,_o);if(E!==_o)return E}const g=Ci(o,a,l,h,_o);if(g!==_o)return g}return Xa(a,l,h,f)}function Ci(o,a,l,h,f){const g=function md(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Ai)?o[Ai]:void 0;return"number"==typeof a?a>=0?255&a:gd:a}(l);if("function"==typeof g){if(!Fh(a,o,h))return h&Ct.Host?Ta(f,0,h):Xa(a,l,h,f);try{const E=g(h);if(null!=E||h&Ct.Optional)return E;at()}finally{At()}}else if("number"==typeof g){let E=null,C=Bc(o,a),S=-1,O=h&Ct.Host?a[16][6]:null;for((-1===C||h&Ct.SkipSelf)&&(S=-1===C?Sa(o,a):a[C+8],-1!==S&&to(h,!1)?(E=a[1],C=Ca(S),a=ds(S,a)):C=-1);-1!==C;){const B=a[1];if(ql(g,C,B.data)){const Z=Lh(C,a,l,E,h,O);if(Z!==_o)return Z}S=a[C+8],-1!==S&&to(h,a[1].data[C+8]===O)&&ql(g,C,a)?(E=B,C=Ca(S),a=ds(S,a)):C=-1}}return f}function Lh(o,a,l,h,f,g){const E=a[1],C=E.data[o+8],B=Uc(C,E,l,null==h?ll(C)&&Qa:h!=E&&0!=(3&C.type),f&Ct.Host&&g===C);return null!==B?hs(a,E,B,C):_o}function Uc(o,a,l,h,f){const g=o.providerIndexes,E=a.data,C=1048575&g,S=o.directiveStart,B=g>>20,pe=f?C+B:o.directiveEnd;for(let Se=h?C:C+B;Se<pe;Se++){const Ye=E[Se];if(Se<S&&l===Ye||Se>=S&&Ye.type===l)return Se}if(f){const Se=E[S];if(Se&&Oi(Se)&&Se.type===l)return S}return null}function hs(o,a,l,h){let f=o[l];const g=a.data;if(function ti(o){return o instanceof qa}(f)){const E=f;E.resolving&&function je(o,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new ke(-200,`Circular dependency in DI detected for ${o}${l}`)}(function Be(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Pe(o)}(g[l]));const C=Ia(E.canSeeViewProviders);E.resolving=!0;const S=E.injectImpl?ir(E.injectImpl):null;Fh(o,h,Ct.Default);try{f=o[l]=E.factory(void 0,g,o,h),a.firstCreatePass&&l>=h.directiveStart&&function Oc(o,a,l){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(h){const E=ga(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,E),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,E)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,f),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,g))}(l,g[l],a)}finally{null!==S&&ir(S),Ia(C),E.resolving=!1,At()}}return f}function ql(o,a,l){return!!(l[a+(o>>5)]&1<<o)}function to(o,a){return!(o&Ct.Self||o&Ct.Host&&a)}class Po{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,h){return Wl(this._tNode,this._lView,a,qt(h),l)}}function gd(){return new Po(mi(),Qe())}function H(o){return X(()=>{const a=o.prototype.constructor,l=a[on]||Xo(a),h=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==h;){const g=f[on]||Xo(f);if(g&&g!==l)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Xo(o){return Ae(o)?()=>{const a=Xo(re(o));return a&&a()}:Ei(o)}function Fo(o){const a=o[1],l=a.type;return 2===l?a.declTNode:1===l?o[6]:null}function Ln(o){return function Ws(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const h=l.length;let f=0;for(;f<h;){const g=l[f];if(Io(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<h&&"string"==typeof l[f];)f++;else{if(g===a)return l[f+1];f+=2}}}return null}(mi(),o)}const Vc="__parameters__";function Kl(o,a,l){return X(()=>{const h=function Bh(o){return function(...l){if(o){const h=o(...l);for(const f in h)this[f]=h[f]}}}(a);function f(...g){if(this instanceof f)return h.apply(this,g),this;const E=new f(...g);return C.annotation=E,C;function C(S,O,B){const Z=S.hasOwnProperty(Vc)?S[Vc]:Object.defineProperty(S,Vc,{value:[]})[Vc];for(;Z.length<=B;)Z.push(null);return(Z[B]=Z[B]||[]).push(E),S}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class nr{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Gt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function gi(o,a){o.forEach(l=>Array.isArray(l)?gi(l,a):a(l))}function Bf(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function vd(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function ml(o,a){const l=[];for(let h=0;h<o;h++)l.push(a);return l}function gt(o,a,l){let h=Ir(o,a);return h>=0?o[1|h]=l:(h=~h,function Ma(o,a,l,h){let f=o.length;if(f==a)o.push(l,h);else if(1===f)o.push(h,o[0]),o[0]=l;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=l,o[a+1]=h}}(o,h,a,l)),h}function Zr(o,a){const l=Ir(o,a);if(l>=0)return o[1|l]}function Ir(o,a){return function vt(o,a,l){let h=0,f=o.length>>l;for(;f!==h;){const g=h+(f-h>>1),E=o[g<<l];if(a===E)return g<<l;E>a?f=g:h=g+1}return~(f<<l)}(o,a,1)}const U=In(Kl("Inject",o=>({token:o})),-1),J=In(Kl("Optional"),8),Ie=In(Kl("SkipSelf"),4);var Zs=(()=>((Zs=Zs||{})[Zs.Important=1]="Important",Zs[Zs.DashCase=2]="DashCase",Zs))();const Fu=new Map;let Gh=0;const Gf="__ngContext__";function Bo(o,a){Yi(a)?(o[Gf]=a[20],function $f(o){Fu.set(o[20],o)}(a)):o[Gf]=a}function Je(o,a){return undefined(o,a)}function Ut(o){const a=o[3];return Ri(a)?a[3]:a}function Ni(o){return On(o[13])}function Li(o){return On(o[4])}function On(o){for(;null!==o&&!Ri(o);)o=o[4];return o}function Bi(o,a,l,h,f){if(null!=h){let g,E=!1;Ri(h)?g=h:Yi(h)&&(E=!0,h=h[0]);const C=Br(h);0===o&&null!==l?null==f?Jl(a,l,C):Gc(a,l,C,f||null,!0):1===o&&null!==l?Gc(a,l,C,f||null,!0):2===o?function Vm(o,a,l){const h=Yf(o,a);h&&function zx(o,a,l,h){o.removeChild(a,l,h)}(o,h,a,l)}(a,C,E):3===o&&a.destroyNode(C),null!=g&&function Y_(o,a,l,h,f){const g=l[7];g!==Br(l)&&Bi(a,o,h,g,f);for(let C=10;C<l.length;C++){const S=l[C];Pa(S[1],S,o,a,h,g)}}(a,o,g,l,f)}}function Lu(o,a,l){return o.createElement(a,l)}function Oa(o,a){const l=o[9],h=l.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,ya(f,-1)),l.splice(h,1)}function Pm(o,a){if(o.length<=10)return;const l=10+a,h=o[l];if(h){const f=h[17];null!==f&&f!==o&&Oa(f,h),a>0&&(o[l-1][4]=h[4]);const g=vd(o,10+a);!function qf(o,a){Pa(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const E=g[19];null!==E&&E.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function Zf(o,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&Pa(o,a,l,3,null,null),function Kh(o){let a=o[13];if(!a)return kd(o[1],o);for(;a;){let l=null;if(Yi(a))l=a[13];else{const h=a[10];h&&(l=h)}if(!l){for(;a&&!a[4]&&a!==o;)Yi(a)&&kd(a[1],a),a=a[3];null===a&&(a=o),Yi(a)&&kd(a[1],a),l=a&&a[4]}a=l}}(a)}}function kd(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function q_(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let h=0;h<l.length;h+=2){const f=a[l[h]];if(!(f instanceof qa)){const g=l[h+1];if(Array.isArray(g))for(let E=0;E<g.length;E+=2){const C=f[g[E]],S=g[E+1];try{S.call(C)}finally{}}else try{g.call(f)}finally{}}}}(o,a),function Rd(o,a){const l=o.cleanup,h=a[7];let f=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const E=l[g+3];E>=0?h[f=E]():h[f=-E].unsubscribe(),g+=2}else{const E=h[f=l[g+1]];l[g].call(E)}if(null!==h){for(let g=f+1;g<h.length;g++)(0,h[g])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&Ri(a[3])){l!==a[3]&&Oa(l,a);const h=a[19];null!==h&&h.detachView(o)}!function Rn(o){Fu.delete(o[20])}(a)}}function Fm(o,a,l){return function Nm(o,a,l){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return l[0];{const{componentOffset:f}=h;if(f>-1){const{encapsulation:g}=o.data[h.directiveStart+f];if(g===tt.None||g===tt.Emulated)return null}return eo(h,l)}}(o,a.parent,l)}function Gc(o,a,l,h,f){o.insertBefore(a,l,h,f)}function Jl(o,a,l){o.appendChild(a,l)}function eu(o,a,l,h,f){null!==h?Gc(o,a,l,h,f):Jl(o,a,l)}function Yf(o,a){return o.parentNode(a)}function Bm(o,a,l){return Um(o,a,l)}let Yh,tp,Xh,Um=function Qf(o,a,l){return 40&o.type?eo(o,l):null};function Xf(o,a,l,h){const f=Fm(o,h,a),g=a[11],C=Bm(h.parent||a[6],h,a);if(null!=f)if(Array.isArray(l))for(let S=0;S<l.length;S++)eu(g,f,l[S],C,!1);else eu(g,f,l,C,!1)}function Od(o,a){if(null!==a){const l=a.type;if(3&l)return eo(a,o);if(4&l)return Jf(-1,o[a.index]);if(8&l){const h=a.child;if(null!==h)return Od(o,h);{const f=o[a.index];return Ri(f)?Jf(-1,f):Br(f)}}if(32&l)return Je(a,o)()||Br(o[a.index]);{const h=K_(o,a);return null!==h?Array.isArray(h)?h[0]:Od(Ut(o[16]),h):Od(o,a.next)}}return null}function K_(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Jf(o,a){const l=10+o+1;if(l<a.length){const h=a[l],f=h[1].firstChild;if(null!==f)return Od(h,f)}return a[7]}function Hm(o,a,l,h,f,g,E){for(;null!=l;){const C=h[l.index],S=l.type;if(E&&0===a&&(C&&Bo(Br(C),h),l.flags|=2),32!=(32&l.flags))if(8&S)Hm(o,a,l.child,h,f,g,!1),Bi(a,o,f,C,g);else if(32&S){const O=Je(l,h);let B;for(;B=O();)Bi(a,o,f,B,g);Bi(a,o,f,C,g)}else 16&S?Z_(o,a,h,l,f,g):Bi(a,o,f,C,g);l=E?l.projectionNext:l.next}}function Pa(o,a,l,h,f,g){Hm(l,h,o.firstChild,a,f,g,!1)}function Z_(o,a,l,h,f,g){const E=l[16],S=E[6].projection[h.projection];if(Array.isArray(S))for(let O=0;O<S.length;O++)Bi(a,o,f,S[O],g);else Hm(o,a,S,E[3],f,g,!0)}function Xb(o,a,l){""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l)}function yl(o,a,l){const{mergedAttrs:h,classes:f,styles:g}=l;null!==h&&$s(o,a,h),null!==f&&Xb(o,a,f),null!==g&&function Gx(o,a,l){o.setAttribute(a,"style",l)}(o,a,g)}function tu(o){return function ep(){if(void 0===Yh&&(Yh=null,tn.trustedTypes))try{Yh=tn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Yh}()?.createHTML(o)||o}function Pd(o){tp=o}function t0(o){return function $m(){if(void 0===Xh&&(Xh=null,tn.trustedTypes))try{Xh=tn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Xh}()?.createScriptURL(o)||o}class Uu{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ot})`}}class Wx extends Uu{getTypeName(){return"HTML"}}class n0 extends Uu{getTypeName(){return"Style"}}class qx extends Uu{getTypeName(){return"Script"}}class Kx extends Uu{getTypeName(){return"URL"}}class r0 extends Uu{getTypeName(){return"ResourceURL"}}function Vo(o){return o instanceof Uu?o.changingThisBreaksApplicationSecurity:o}function vo(o,a){const l=function Q_(o){return o instanceof Uu&&o.getTypeName()||null}(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see ${ot})`)}return l===a}function Zx(o){return new Wx(o)}function X_(o){return new n0(o)}function Yx(o){return new qx(o)}function Qx(o){return new Kx(o)}function np(o){return new r0(o)}class o0{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(tu(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch{return null}}}class Xx{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const h=this.inertDocument.createElement("body");l.appendChild(h)}}getInertBodyElement(a){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=tu(a),l;const h=this.inertDocument.createElement("body");return h.innerHTML=tu(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const l=a.attributes;for(let f=l.length-1;0<f;f--){const E=l.item(f).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&a.removeAttribute(E)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const eC=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Gm(o){return(o=String(o)).match(eC)?o:"unsafe:"+o}function vl(o){const a={};for(const l of o.split(","))a[l]=!0;return a}function Jh(...o){const a={};for(const l of o)for(const h in l)l.hasOwnProperty(h)&&(a[h]=!0);return a}const s0=vl("area,br,col,hr,img,wbr"),Wm=vl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ey=vl("rp,rt"),Km=Jh(s0,Jh(Wm,vl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jh(ey,vl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jh(ey,Wm)),ef=vl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vu=Jh(ef,vl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rC=vl("script,style,template");class c0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,h=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?h=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,h&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!Km.hasOwnProperty(l))return this.sanitizedSomething=!0,!rC.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const h=a.attributes;for(let f=0;f<h.length;f++){const g=h.item(f),E=g.name,C=E.toLowerCase();if(!Vu.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let S=g.value;ef[C]&&(S=Gm(S)),this.buf.push(" ",E,'="',l0(S),'"')}return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();Km.hasOwnProperty(l)&&!s0.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(l0(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const iC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oC=/([^\#-~ |!])/g;function l0(o){return o.replace(/&/g,"&amp;").replace(iC,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(oC,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zm;function u0(o,a){let l=null;try{Zm=Zm||function J_(o){const a=new Xx(o);return function Jx(){try{return!!(new window.DOMParser).parseFromString(tu(""),"text/html")}catch{return!1}}()?new o0(a):a}(o);let h=a?String(a):"";l=Zm.getInertBodyElement(h);let f=5,g=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=g,g=l.innerHTML,l=Zm.getInertBodyElement(h)}while(h!==g);return tu((new c0).sanitizeChildren(ty(l)||l))}finally{if(l){const h=ty(l)||l;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function ty(o){return"content"in o&&function sC(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var io=(()=>((io=io||{})[io.NONE=0]="NONE",io[io.HTML=1]="HTML",io[io.STYLE=2]="STYLE",io[io.SCRIPT=3]="SCRIPT",io[io.URL=4]="URL",io[io.RESOURCE_URL=5]="RESOURCE_URL",io))();function ny(o){const a=rp();return a?a.sanitize(io.URL,o)||"":vo(o,"URL")?Vo(o):Gm(Pe(o))}function ry(o){const a=rp();if(a)return t0(a.sanitize(io.RESOURCE_URL,o)||"");if(vo(o,"ResourceURL"))return t0(Vo(o));throw new ke(904,!1)}function f0(o,a,l){return function uC(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?ry:ny}(a,l)(o)}function rp(){const o=Qe();return o&&o[12]}const iy=new nr("ENVIRONMENT_INITIALIZER"),p0=new nr("INJECTOR",-1),m0=new nr("INJECTOR_DEF_TYPES");class g0{get(a,l=zr){if(l===zr){const h=new Error(`NullInjectorError: No provider for ${le(a)}!`);throw h.name="NullInjectorError",h}return l}}function oc(o){return{\u0275providers:o}}function _0(...o){return{\u0275providers:Fd(0,o),\u0275fromNgModule:!0}}function Fd(o,...a){const l=[],h=new Set;let f;return gi(a,g=>{const E=g;Hu(E,l,[],h)&&(f||(f=[]),f.push(E))}),void 0!==f&&Ui(f,l),l}function Ui(o,a){for(let l=0;l<o.length;l++){const{providers:f}=o[l];tf(f,g=>{a.push(g)})}}function Hu(o,a,l,h){if(!(o=re(o)))return!1;let f=null,g=gr(o);const E=!g&&qn(o);if(g||E){if(E&&!E.standalone)return!1;f=o}else{const S=o.ngModule;if(g=gr(S),!g)return!1;f=S}const C=h.has(f);if(E){if(C)return!1;if(h.add(f),E.dependencies){const S="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const O of S)Hu(O,a,l,h)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let O;h.add(f);try{gi(g.imports,B=>{Hu(B,a,l,h)&&(O||(O=[]),O.push(B))})}finally{}void 0!==O&&Ui(O,a)}if(!C){const O=Ei(f)||(()=>new f);a.push({provide:f,useFactory:O,deps:_t},{provide:m0,useValue:f,multi:!0},{provide:iy,useValue:()=>ht(f),multi:!0})}const S=g.providers;null==S||C||tf(S,B=>{a.push(B)})}}return f!==o&&void 0!==o.providers}function tf(o,a){for(let l of o)Fe(l)&&(l=l.\u0275providers),Array.isArray(l)?tf(l,a):a(l)}const As=ee({provide:String,useValue:ee});function Dr(o){return null!==o&&"object"==typeof o&&As in o}function qc(o){return"function"==typeof o}const sc=new nr("Set Injector scope."),Ym={},v0={};let Qm;function ip(){return void 0===Qm&&(Qm=new g0),Qm}class ju{}class Xm extends ju{constructor(a,l,h,f){super(),this.parent=l,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,so(a,E=>this.processProvider(E)),this.records.set(p0,Nd(void 0,this)),f.has("environment")&&this.records.set(ju,Nd(void 0,this));const g=this.records.get(sc);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(m0.multi,_t,Ct.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=Ti(this),h=ir(void 0);try{return a()}finally{Ti(l),ir(h)}}get(a,l=zr,h=Ct.Default){this.assertNotDestroyed(),h=qt(h);const f=Ti(this),g=ir(void 0);try{if(!(h&Ct.SkipSelf)){let C=this.records.get(a);if(void 0===C){const S=function ay(o){return"function"==typeof o||"object"==typeof o&&o instanceof nr}(a)&&Vr(a);C=S&&this.injectableDefInScope(S)?Nd(Jm(a),Ym):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(h&Ct.Self?ip():this.parent).get(a,l=h&Ct.Optional&&l===zr?null:l)}catch(E){if("NullInjectorError"===E.name){if((E[hi]=E[hi]||[]).unshift(le(a)),f)throw E;return function ie(o,a,l,h){const f=o[hi];throw a[po]&&f.unshift(a[po]),o.message=function fe(o,a,l,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=le(a);if(Array.isArray(a))f=a.map(le).join(" -> ");else if("object"==typeof a){let g=[];for(let E in a)if(a.hasOwnProperty(E)){let C=a[E];g.push(E+":"+("string"==typeof C?JSON.stringify(C):le(C)))}f=`{${g.join(", ")}}`}return`${l}${h?"("+h+")":""}[${f}]: ${o.replace(Zi,"\n  ")}`}("\n"+o.message,f,l,h),o.ngTokenPath=f,o[hi]=null,o}(E,a,"R3InjectorError",this.source)}throw E}finally{ir(g),Ti(f)}}resolveInjectorInitializers(){const a=Ti(this),l=ir(void 0);try{const h=this.get(iy.multi,_t,Ct.Self);for(const f of h)f()}finally{Ti(a),ir(l)}}toString(){const a=[],l=this.records;for(const h of l.keys())a.push(le(h));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processProvider(a){let l=qc(a=re(a))?a:re(a&&a.provide);const h=function op(o){return Dr(o)?Nd(void 0,o.useValue):Nd(sy(o),Ym)}(a);if(qc(a)||!0!==a.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Nd(void 0,Ym,!0),f.factory=()=>en(f.multi),this.records.set(l,f)),l=a,f.multi.push(a)}this.records.set(l,h)}hydrate(a,l){return l.value===Ym&&(l.value=v0,l.value=l.factory()),"object"==typeof l.value&&l.value&&function nf(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=re(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Jm(o){const a=Vr(o),l=null!==a?a.factory:Ei(o);if(null!==l)return l;if(o instanceof nr)throw new ke(204,!1);if(o instanceof Function)return function Mr(o){const a=o.length;if(a>0)throw ml(a,"?"),new ke(204,!1);const l=function Mo(o){const a=o&&(o[Ki]||o[Gn]);if(a){const l=function Rr(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new ke(204,!1)}function sy(o,a,l){let h;if(qc(o)){const f=re(o);return Ei(f)||Jm(f)}if(Dr(o))h=()=>re(o.useValue);else if(function oy(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...en(o.deps||[]));else if(function Wc(o){return!(!o||!o.useExisting)}(o))h=()=>ht(re(o.useExisting));else{const f=re(o&&(o.useClass||o.provide));if(!function eg(o){return!!o.deps}(o))return Ei(f)||Jm(f);h=()=>new f(...en(o.deps))}return h}function Nd(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function so(o,a){for(const l of o)Array.isArray(l)?so(l,a):l&&Fe(l)?so(l.\u0275providers,a):a(l)}class b0{}class Ld{}class E0{resolveComponentFactory(a){throw function cy(o){const a=Error(`No component factory found for ${le(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let ru=(()=>{class o{}return o.NULL=new E0,o})();function ac(){return ao(mi(),Qe())}function ao(o,a){return new Ys(eo(o,a))}let Ys=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=ac,o})();function hC(o){return o instanceof Ys?o.nativeElement:o}class ap{}let Bd=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function cp(){const o=Qe(),l=wi(mi().index,o);return(Yi(l)?l:o)[11]}(),o})(),w0=(()=>{class o{}return o.\u0275prov=Gt({token:o,providedIn:"root",factory:()=>null}),o})();class ly{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const uy=new ly("15.0.4"),lp={};function fy(o){return o.ngOriginalError}class up{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&fy(a);for(;l&&fy(l);)l=fy(l);return l||null}}function Kc(o){return o instanceof Function?o():o}function _y(o,a,l){let h=o.length;for(;;){const f=o.indexOf(a,l);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=a.length;if(f+g===h||o.charCodeAt(f+g)<=32)return f}l=f+1}}const yy="ng-template";function D0(o,a,l){let h=0;for(;h<o.length;){let f=o[h++];if(l&&"class"===f){if(f=o[h],-1!==_y(f.toLowerCase(),a,0))return!0}else if(1===f){for(;h<o.length&&"string"==typeof(f=o[h++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function vy(o){return 4===o.type&&o.value!==yy}function S0(o,a,l){return a===(4!==o.type||l?o.value:yy)}function by(o,a,l){let h=4;const f=o.attrs||[],g=function bC(o){for(let a=0;a<o.length;a++)if(Io(o[a]))return a;return o.length}(f);let E=!1;for(let C=0;C<a.length;C++){const S=a[C];if("number"!=typeof S){if(!E)if(4&h){if(h=2|1&h,""!==S&&!S0(o,S,l)||""===S&&1===a.length){if(Zc(h))return!1;E=!0}}else{const O=8&h?S:a[++C];if(8&h&&null!==o.attrs){if(!D0(o.attrs,O,l)){if(Zc(h))return!1;E=!0}continue}const Z=yC(8&h?"class":S,f,vy(o),l);if(-1===Z){if(Zc(h))return!1;E=!0;continue}if(""!==O){let pe;pe=Z>g?"":f[Z+1].toLowerCase();const Se=8&h?pe:null;if(Se&&-1!==_y(Se,O,0)||2&h&&O!==pe){if(Zc(h))return!1;E=!0}}}}else{if(!E&&!Zc(h)&&!Zc(S))return!1;if(E&&Zc(S))continue;E=!1,h=S|1&h}}return Zc(h)||E}function Zc(o){return 0==(1&o)}function yC(o,a,l,h){if(null===a)return-1;let f=0;if(h||!l){let g=!1;for(;f<a.length;){const E=a[f];if(E===o)return f;if(3===E||6===E)g=!0;else{if(1===E||2===E){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===E)break;if(0===E){f+=4;continue}}f+=g?1:2}return-1}return function ng(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const h=o[l];if("number"==typeof h)return-1;if(h===a)return l;l++}return-1}(a,o)}function T0(o,a,l=!1){for(let h=0;h<a.length;h++)if(by(o,a[h],l))return!0;return!1}function EC(o,a){e:for(let l=0;l<a.length;l++){const h=a[l];if(o.length===h.length){for(let f=0;f<o.length;f++)if(o[f]!==h[f])continue e;return!0}}return!1}function Ey(o,a){return o?":not("+a.trim()+")":a}function A0(o){let a=o[0],l=1,h=2,f="",g=!1;for(;l<o.length;){let E=o[l];if("string"==typeof E)if(2&h){const C=o[++l];f+="["+E+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?f+="."+E:4&h&&(f+=" "+E);else""!==f&&!Zc(E)&&(a+=Ey(g,f),f=""),h=E,g=g||!Zc(h);l++}return""!==f&&(a+=Ey(g,f)),a}const xn={};function dp(o){hp(Nn(),Qe(),Tn()+o,!1)}function hp(o,a,l,h){if(!h)if(3==(3&a[2])){const g=o.preOrderCheckHooks;null!==g&&Is(a,g,l)}else{const g=o.preOrderHooks;null!==g&&xa(a,g,0,l)}Cs(l)}function Dy(o,a=null,l=null,h){const f=P0(o,a,l,h);return f.resolveInjectorInitializers(),f}function P0(o,a=null,l=null,h,f=new Set){const g=[l||_t,_0(o)];return h=h||("object"==typeof o?void 0:le(o)),new Xm(g,a||ip(),h||null,f)}let zu=(()=>{class o{static create(l,h){if(Array.isArray(l))return Dy({name:""},h,l,"");{const f=l.name??"";return Dy({name:f},l.parent,l.providers,f)}}}return o.THROW_IF_NOT_FOUND=zr,o.NULL=new g0,o.\u0275prov=Gt({token:o,providedIn:"any",factory:()=>ht(p0)}),o.__NG_ELEMENT_ID__=-1,o})();function Vd(o,a=Ct.Default){const l=Qe();return null===l?ht(o,a):Wl(mi(),l,re(o),a)}function gp(){throw new Error("invalid")}function sf(o,a){const l=o.contentQueries;if(null!==l)for(let h=0;h<l.length;h+=2){const f=l[h],g=l[h+1];if(-1!==g){const E=o.data[g];Su(f),E.contentQueries(2,a[g],g)}}}function sg(o,a,l,h,f,g,E,C,S,O,B){const Z=a.blueprint.slice();return Z[0]=f,Z[2]=76|h,(null!==B||o&&1024&o[2])&&(Z[2]|=1024),Cu(Z),Z[3]=Z[15]=o,Z[8]=l,Z[10]=E||o&&o[10],Z[11]=C||o&&o[11],Z[12]=S||o&&o[12]||null,Z[9]=O||o&&o[9]||null,Z[6]=g,Z[20]=function Td(){return Gh++}(),Z[21]=B,Z[16]=2==a.type?o[16]:Z,Z}function Hd(o,a,l,h,f){let g=o.data[a];if(null===g)g=function $u(o,a,l,h,f){const g=Ul(),E=kc(),S=o.data[a]=function Xs(o,a,l,h,f,g){return{type:l,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?g:g&&g.parent,l,a,h,f);return null===o.firstChild&&(o.firstChild=S),null!==g&&(E?null==g.child&&null!==S.parent&&(g.child=S):null===g.next&&(g.next=S)),S}(o,a,l,h,f),function Lf(){return gn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=l,g.value=h,g.attrs=f;const E=function Mc(){const o=gn.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===E?-1:E.injectorIndex}return Es(g,!0),g}function jd(o,a,l,h){if(0===l)return-1;const f=a.length;for(let g=0;g<l;g++)a.push(h),o.blueprint.push(h),o.data.push(null);return f}function Py(o,a,l){Wa(a);try{const h=o.viewQuery;null!==h&&Ku(1,h,l);const f=o.template;null!==f&&vp(o,a,f,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&sf(o,a),o.staticViewQueries&&Ku(2,o.viewQuery,l);const g=o.components;null!==g&&function Oy(o,a){for(let l=0;l<a.length;l++)qu(o,a[l])}(a,g)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,bn()}}function yp(o,a,l,h){const f=a[2];if(128!=(128&f)){Wa(a);try{Cu(a),function Ea(o){return gn.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&vp(o,a,l,2,h);const E=3==(3&f);if(E){const O=o.preOrderCheckHooks;null!==O&&Is(a,O,null)}else{const O=o.preOrderHooks;null!==O&&xa(a,O,0,null),Qo(a,0)}if(function bo(o){for(let a=Ni(o);null!==a;a=Li(a)){if(!a[2])continue;const l=a[9];for(let h=0;h<l.length;h++){const f=l[h],g=f[3];0==(512&f[2])&&ya(g,1),f[2]|=512}}}(a),function q0(o){for(let a=Ni(o);null!==a;a=Li(a))for(let l=10;l<a.length;l++){const h=a[l],f=h[1];Ga(h)&&yp(f,h,f.template,h[8])}}(a),null!==o.contentQueries&&sf(o,a),E){const O=o.contentCheckHooks;null!==O&&Is(a,O)}else{const O=o.contentHooks;null!==O&&xa(a,O,1),Qo(a,1)}!function _p(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let h=0;h<l.length;h++){const f=l[h];if(f<0)Cs(~f);else{const g=f,E=l[++h],C=l[++h];js(E,g),C(2,a[g])}}}finally{Cs(-1)}}(o,a);const C=o.components;null!==C&&function og(o,a){for(let l=0;l<a.length;l++)_i(o,a[l])}(a,C);const S=o.viewQuery;if(null!==S&&Ku(2,S,h),E){const O=o.viewCheckHooks;null!==O&&Is(a,O)}else{const O=o.viewHooks;null!==O&&xa(a,O,2),Qo(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,ya(a[3],-1))}finally{bn()}}}function vp(o,a,l,h,f){const g=Tn(),E=2&h;try{Cs(-1),E&&a.length>22&&hp(o,a,22,!1),l(h,f)}finally{Cs(g)}}function Ms(o,a,l){if(Us(a)){const f=a.directiveEnd;for(let g=a.directiveStart;g<f;g++){const E=o.data[g];E.contentQueries&&E.contentQueries(1,l[g],g)}}}function Gu(o,a,l){!Bl()||(function $d(o,a,l,h){const f=l.directiveStart,g=l.directiveEnd;ll(l)&&function AC(o,a,l){const h=eo(a,o),f=j0(l),g=o[10],E=ps(o,sg(o,f,null,l.onPush?32:16,h,a,g,g.createRenderer(h,l),null,null,null));o[a.index]=E}(a,l,o.data[f+l.componentOffset]),o.firstCreatePass||Gs(l,a),Bo(h,a);const E=l.initialInputs;for(let C=f;C<g;C++){const S=o.data[C],O=hs(a,o,C,l);Bo(O,a),null!==E&&lg(0,C-f,O,S,0,E),Oi(S)&&(wi(l.index,a)[8]=hs(a,o,C,l))}}(o,a,l,eo(l,a)),64==(64&l.flags)&&af(o,a,l))}function Fy(o,a,l=eo){const h=a.localNames;if(null!==h){let f=a.index+1;for(let g=0;g<h.length;g+=2){const E=h[g+1],C=-1===E?l(a,o):o[E];o[f++]=C}}}function j0(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Ny(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Ny(o,a,l,h,f,g,E,C,S,O){const B=22+h,Z=B+f,pe=function Ly(o,a){const l=[];for(let h=0;h<a;h++)l.push(h<o?null:xn);return l}(B,Z),Se="function"==typeof O?O():O;return pe[1]={type:o,blueprint:pe,template:l,queries:null,viewQuery:C,declTNode:a,data:pe.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:S,consts:Se,incompleteFirstPass:!1}}function By(o,a,l,h){const f=Wd(a);null===l?f.push(h):(f.push(l),o.firstCreatePass&&ug(o).push(h,f.length-1))}function Bn(o,a,l,h){for(let f in o)if(o.hasOwnProperty(f)){l=null===l?{}:l;const g=o[f];null===h?ag(l,a,f,g):h.hasOwnProperty(f)&&ag(l,a,h[f],g)}return l}function ag(o,a,l,h){o.hasOwnProperty(l)?o[l].push(a,h):o[l]=[a,h]}function ks(o,a,l,h,f,g,E,C){const S=eo(a,l);let B,O=a.inputs;!C&&null!=O&&(B=O[h])?(wp(o,l,B,h,f),ll(a)&&mr(l,a.index)):3&a.type&&(h=function Uy(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),f=null!=E?E(f,a.value||"",h):f,g.setProperty(S,h,f))}function mr(o,a){const l=wi(a,o);16&l[2]||(l[2]|=32)}function Wu(o,a,l,h){let f=!1;if(Bl()){const g=null===h?null:{"":-1},E=function W0(o,a){const l=o.directiveRegistry;let h=null,f=null;if(l)for(let g=0;g<l.length;g++){const E=l[g];if(T0(a,E.selectors,!1))if(h||(h=[]),Oi(E))if(null!==E.findHostDirectiveDefs){const C=[];f=f||new Map,E.findHostDirectiveDefs(E,C,f),h.unshift(...C,E),bp(o,a,C.length)}else h.unshift(E),bp(o,a,0);else f=f||new Map,E.findHostDirectiveDefs?.(E,h,f),h.push(E)}return null===h?null:[h,f]}(o,l);let C,S;null===E?C=S=null:[C,S]=E,null!==C&&(f=!0,zd(o,a,l,C,g,S)),g&&function DC(o,a,l){if(a){const h=o.localNames=[];for(let f=0;f<a.length;f+=2){const g=l[a[f+1]];if(null==g)throw new ke(-301,!1);h.push(a[f],g)}}}(l,h,g)}return l.mergedAttrs=Ds(l.mergedAttrs,l.attrs),f}function zd(o,a,l,h,f,g){for(let O=0;O<h.length;O++)Gl(Gs(l,a),o,h[O].type);!function TC(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}(l,o.data.length,h.length);for(let O=0;O<h.length;O++){const B=h[O];B.providersResolver&&B.providersResolver(B)}let E=!1,C=!1,S=jd(o,a,h.length,null);for(let O=0;O<h.length;O++){const B=h[O];l.mergedAttrs=Ds(l.mergedAttrs,B.hostAttrs),jy(o,l,a,S,B),SC(S,B,f),null!==B.contentQueries&&(l.flags|=4),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(l.flags|=64);const Z=B.type.prototype;!E&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),E=!0),!C&&(Z.ngOnChanges||Z.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),C=!0),S++}!function Js(o,a,l){const f=a.directiveEnd,g=o.data,E=a.attrs,C=[];let S=null,O=null;for(let B=a.directiveStart;B<f;B++){const Z=g[B],pe=l?l.get(Z):null,Ye=pe?pe.outputs:null;S=Bn(Z.inputs,B,S,pe?pe.inputs:null),O=Bn(Z.outputs,B,O,Ye);const ft=null===S||null===E||vy(a)?null:zy(S,B,E);C.push(ft)}null!==S&&(S.hasOwnProperty("class")&&(a.flags|=8),S.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=C,a.inputs=S,a.outputs=O}(o,l,g)}function af(o,a,l){const h=l.directiveStart,f=l.directiveEnd,g=l.index,E=function Oo(){return gn.lFrame.currentDirectiveIndex}();try{Cs(g);for(let C=h;C<f;C++){const S=o.data[C],O=a[C];wa(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&G0(S,O)}}finally{Cs(-1),wa(E)}}function G0(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function bp(o,a,l){a.componentOffset=l,(o.components||(o.components=[])).push(a.index)}function SC(o,a,l){if(l){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)l[a.exportAs[h]]=o;Oi(a)&&(l[""]=o)}}function jy(o,a,l,h,f){o.data[h]=f;const g=f.factory||(f.factory=Ei(f.type)),E=new qa(g,Oi(f),Vd);o.blueprint[h]=E,l[h]=E,function z0(o,a,l,h,f){const g=f.hostBindings;if(g){let E=o.hostBindingOpCodes;null===E&&(E=o.hostBindingOpCodes=[]);const C=~a.index;(function $0(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(E)!=C&&E.push(C),E.push(l,h,g)}}(o,a,h,jd(o,l,f.hostVars,xn),f)}function Fa(o,a,l,h,f,g){const E=eo(o,a);!function cg(o,a,l,h,f,g,E){if(null==g)o.removeAttribute(a,f,l);else{const C=null==E?Pe(g):E(g,h||"",f);o.setAttribute(a,f,C,l)}}(a[11],E,g,o.value,l,h,f)}function lg(o,a,l,h,f,g){const E=g[a];if(null!==E){const C=h.setInput;for(let S=0;S<E.length;){const O=E[S++],B=E[S++],Z=E[S++];null!==C?h.setInput(l,Z,O,B):l[B]=Z}}}function zy(o,a,l){let h=null,f=0;for(;f<l.length;){const g=l[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===h&&(h=[]);const E=o[g];for(let C=0;C<E.length;C+=2)if(E[C]===a){h.push(g,E[C+1],l[f+1]);break}}f+=2}else f+=2;else f+=4}return h}function $y(o,a,l,h){return[o,!0,!1,a,null,0,h,l,null,null]}function _i(o,a){const l=wi(a,o);if(Ga(l)){const h=l[1];48&l[2]?yp(h,l,h.template,l[8]):l[5]>0&&bl(l)}}function bl(o){for(let h=Ni(o);null!==h;h=Li(h))for(let f=10;f<h.length;f++){const g=h[f];if(Ga(g))if(512&g[2]){const E=g[1];yp(E,g,E.template,g[8])}else g[5]>0&&bl(g)}const l=o[1].components;if(null!==l)for(let h=0;h<l.length;h++){const f=wi(l[h],o);Ga(f)&&f[5]>0&&bl(f)}}function qu(o,a){const l=wi(a,o),h=l[1];(function Gy(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])})(h,l),Py(h,l,l[8])}function ps(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Gd(o){for(;o;){o[2]|=32;const a=Ut(o);if(od(o)&&!a)return o;o=a}return null}function cf(o,a,l,h=!0){const f=a[10];f.begin&&f.begin();try{yp(o,a,o.template,l)}catch(E){throw h&&Ep(a,E),E}finally{f.end&&f.end()}}function Ku(o,a,l){Su(0),a(o,l)}function Wd(o){return o[7]||(o[7]=[])}function ug(o){return o.cleanup||(o.cleanup=[])}function Ep(o,a){const l=o[9],h=l?l.get(up,null):null;h&&h.handleError(a)}function wp(o,a,l,h,f){for(let g=0;g<l.length;){const E=l[g++],C=l[g++],S=a[E],O=o.data[E];null!==O.setInput?O.setInput(S,f,h,C):S[C]=f}}function ms(o,a,l){const h=go(a,o);!function Wf(o,a,l){o.setValue(a,l)}(o[11],h,l)}function Zu(o,a,l){let h=l?o.styles:null,f=l?o.classes:null,g=0;if(null!==a)for(let E=0;E<a.length;E++){const C=a[E];"number"==typeof C?g=C:1==g?f=se(f,C):2==g&&(h=se(h,C+": "+a[++E]+";"))}l?o.styles=h:o.stylesWithoutHost=h,l?o.classes=f:o.classesWithoutHost=f}function xp(o,a,l,h,f=!1){for(;null!==l;){const g=a[l.index];if(null!==g&&h.push(Br(g)),Ri(g))for(let C=10;C<g.length;C++){const S=g[C],O=S[1].firstChild;null!==O&&xp(S[1],S,O,h)}const E=l.type;if(8&E)xp(o,a,l.child,h);else if(32&E){const C=Je(l,a);let S;for(;S=C();)h.push(S)}else if(16&E){const C=K_(a,l);if(Array.isArray(C))h.push(...C);else{const S=Ut(a[16]);xp(S[1],S,C,h,!0)}}l=f?l.projectionNext:l.next}return h}class El{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return xp(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Ri(a)){const l=a[8],h=l?l.indexOf(this):-1;h>-1&&(Pm(a,h),vd(l,h))}this._attachedToViewContainer=!1}Zf(this._lView[1],this._lView)}onDestroy(a){By(this._lView[1],this._lView,null,a)}markForCheck(){Gd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){cf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qh(o,a){Pa(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ke(902,!1);this._appRef=a}}class Cp extends El{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;cf(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class hg extends ru{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=qn(a);return new qd(l,this.ngModule)}}function Wy(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}class Z0{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,h){h=qt(h);const f=this.injector.get(a,lp,h);return f!==lp||l===lp?f:this.parentInjector.get(a,l,h)}}class qd extends Ld{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function wy(o){return o.map(A0).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Wy(this.componentDef.inputs)}get outputs(){return Wy(this.componentDef.outputs)}create(a,l,h,f){let g=(f=f||this.ngModule)instanceof ju?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const E=g?new Z0(a,g):a,C=E.get(ap,null);if(null===C)throw new ke(407,!1);const S=E.get(w0,null),O=C.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",Z=h?function IC(o,a,l){return o.selectRootElement(a,l===tt.ShadowDom)}(O,h,this.componentDef.encapsulation):Lu(O,B,function K0(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(B)),pe=this.componentDef.onPush?288:272,Se=Ny(0,null,null,1,0,null,null,null,null,null),Ye=sg(null,Se,null,pe,null,null,C,O,S,E,null);let ft,yt;Wa(Ye);try{const Vt=this.componentDef;let hn,st=null;Vt.findHostDirectiveDefs?(hn=[],st=new Map,Vt.findHostDirectiveDefs(Vt,hn,st),hn.push(Vt)):hn=[Vt];const kn=function Q0(o,a){const l=o[1];return o[22]=a,Hd(l,22,2,"#host",null)}(Ye,Z),Si=function X0(o,a,l,h,f,g,E,C){const S=f[1];!function J0(o,a,l,h){for(const f of o)a.mergedAttrs=Ds(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(Zu(a,a.mergedAttrs,!0),null!==l&&yl(h,l,a))}(h,o,a,E);const O=g.createRenderer(a,l),B=sg(f,j0(l),null,l.onPush?32:16,f[o.index],o,g,O,C||null,null,null);return S.firstCreatePass&&bp(S,o,h.length-1),ps(f,B),f[o.index]=B}(kn,Z,Vt,hn,Ye,C,O);yt=Sc(Se,22),Z&&function yr(o,a,l,h){if(h)$s(o,l,["ng-version",uy.full]);else{const{attrs:f,classes:g}=function M0(o){const a=[],l=[];let h=1,f=2;for(;h<o.length;){let g=o[h];if("string"==typeof g)2===f?""!==g&&a.push(g,o[++h]):8===f&&l.push(g);else{if(!Zc(f))break;f=g}h++}return{attrs:a,classes:l}}(a.selectors[0]);f&&$s(o,l,f),g&&g.length>0&&Xb(o,l,g.join(" "))}}(O,Vt,Z,h),void 0!==l&&function su(o,a,l){const h=o.projection=[];for(let f=0;f<a.length;f++){const g=l[f];h.push(null!=g?Array.from(g):null)}}(yt,this.ngContentSelectors,l),ft=function fg(o,a,l,h,f,g){const E=mi(),C=f[1],S=eo(E,f);zd(C,f,E,l,null,h);for(let B=0;B<l.length;B++)Bo(hs(f,C,E.directiveStart+B,E),f);af(C,f,E),S&&Bo(S,f);const O=hs(f,C,E.directiveStart+E.componentOffset,E);if(o[8]=f[8]=O,null!==g)for(const B of g)B(O,a);return Ms(C,E,o),O}(Si,Vt,hn,st,Ye,[eE]),Py(Se,Ye,null)}finally{bn()}return new qy(this.componentType,ft,ao(yt,Ye),Ye,yt)}}class qy extends b0{constructor(a,l,h,f,g){super(),this.location=h,this._rootLView=f,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new Cp(f),this.componentType=a}setInput(a,l){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[a])){const g=this._rootLView;wp(g[1],g,f,a,l),mr(g,this._tNode.index)}}get injector(){return new Po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function eE(){const o=mi();zn(Qe()[1],o)}function Xc(o){let a=function Ky(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const h=[o];for(;a;){let f;if(Oi(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ke(903,!1);f=a.\u0275dir}if(f){if(l){h.push(f);const E=o;E.inputs=lc(o.inputs),E.declaredInputs=lc(o.declaredInputs),E.outputs=lc(o.outputs);const C=f.hostBindings;C&&Yy(o,C);const S=f.viewQuery,O=f.contentQueries;if(S&&Zy(o,S),O&&tE(o,O),he(o.inputs,f.inputs),he(o.declaredInputs,f.declaredInputs),he(o.outputs,f.outputs),Oi(f)&&f.data.animation){const B=o.data;B.animation=(B.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let E=0;E<g.length;E++){const C=g[E];C&&C.ngInherit&&C(o),C===Xc&&(l=!1)}}a=Object.getPrototypeOf(a)}!function RC(o){let a=0,l=null;for(let h=o.length-1;h>=0;h--){const f=o[h];f.hostVars=a+=f.hostVars,f.hostAttrs=Ds(f.hostAttrs,l=Ds(l,f.hostAttrs))}}(h)}function lc(o){return o===Rt?{}:o===_t?[]:o}function Zy(o,a){const l=o.viewQuery;o.viewQuery=l?(h,f)=>{a(h,f),l(h,f)}:a}function tE(o,a){const l=o.contentQueries;o.contentQueries=l?(h,f,g)=>{a(h,f,g),l(h,f,g)}:a}function Yy(o,a){const l=o.hostBindings;o.hostBindings=l?(h,f)=>{a(h,f),l(h,f)}:a}let uf=null;function wl(){if(!uf){const o=tn.Symbol;if(o&&o.iterator)uf=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const h=a[l];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(uf=h)}}}return uf}function Yu(o){return!!Ip(o)&&(Array.isArray(o)||!(o instanceof Map)&&wl()in o)}function Ip(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Na(o,a,l){return o[a]=l}function Ho(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function Yd(o,a,l,h,f){const g=function Hi(o,a,l,h){const f=Ho(o,a,l);return Ho(o,a+1,h)||f}(o,a,l,h);return Ho(o,a+2,f)||g}function mg(o,a,l,h){const f=Qe();return Ho(f,xo(),a)&&(Nn(),Fa(sr(),f,o,a,l,h)),mg}function Xd(o,a,l,h){return Ho(o,xo(),l)?a+Pe(l)+h:xn}function Jd(o,a,l,h,f,g,E,C){const O=Yd(o,function Ro(){return gn.lFrame.bindingIndex}(),l,f,E);return xs(3),O?a+Pe(l)+h+Pe(f)+g+Pe(E)+C:xn}function rv(o,a,l,h,f,g,E,C){const S=Qe(),O=Nn(),B=o+22,Z=O.firstCreatePass?function cE(o,a,l,h,f,g,E,C,S){const O=a.consts,B=Hd(a,o,4,E||null,Pi(O,C));Wu(a,l,B,Pi(O,S)),zn(a,B);const Z=B.tViews=Ny(2,B,h,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,O);return null!==a.queries&&(a.queries.template(a,B),Z.queries=a.queries.embeddedTView(B)),B}(B,O,S,a,l,h,f,g,E):O.data[B];Es(Z,!1);const pe=S[11].createComment("");Xf(O,S,pe,Z),Bo(pe,S),ps(S,S[B]=$y(pe,S,pe,Z)),Eu(Z)&&Gu(O,S,Z),null!=E&&Fy(S,Z,C)}function lE(o){return bs(function ws(){return gn.lFrame.contextLView}(),22+o)}function iv(o,a,l){const h=Qe();return Ho(h,xo(),a)&&ks(Nn(),sr(),h,o,a,h[11],l,!1),iv}function yg(o,a,l,h,f){const E=f?"class":"style";wp(o,l,a.inputs[E],E,h)}function oh(o,a,l,h){const f=Qe(),g=Nn(),E=22+o,C=f[11],S=f[E]=Lu(C,a,function Tu(){return gn.lFrame.currentNamespace}()),O=g.firstCreatePass?function Ap(o,a,l,h,f,g,E){const C=a.consts,O=Hd(a,o,2,f,Pi(C,g));return Wu(a,l,O,Pi(C,E)),null!==O.attrs&&Zu(O,O.attrs,!1),null!==O.mergedAttrs&&Zu(O,O.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,O),O}(E,g,f,0,a,l,h):g.data[E];return Es(O,!0),yl(C,S,O),32!=(32&O.flags)&&Xf(g,f,S,O),0===function Tc(){return gn.lFrame.elementDepthCount}()&&Bo(S,f),function Rh(){gn.lFrame.elementDepthCount++}(),Eu(O)&&(Gu(g,f,O),Ms(g,O,f)),null!==h&&Fy(f,O),oh}function Mp(){let o=mi();kc()?Vl():(o=o.parent,Es(o,!1));const a=o;!function Ac(){gn.lFrame.elementDepthCount--}();const l=Nn();return l.firstCreatePass&&(zn(l,o),Us(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function zl(o){return 0!=(8&o.flags)}(a)&&yg(l,a,Qe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Ka(o){return 0!=(16&o.flags)}(a)&&yg(l,a,Qe(),a.stylesWithoutHost,!1),Mp}function df(o,a,l,h){return oh(o,a,l,h),Mp(),df}function Ur(o,a,l){const h=Qe(),f=Nn(),g=o+22,E=f.firstCreatePass?function ov(o,a,l,h,f){const g=a.consts,E=Pi(g,h),C=Hd(a,o,8,"ng-container",E);return null!==E&&Zu(C,E,!0),Wu(a,l,C,Pi(g,f)),null!==a.queries&&a.queries.elementStart(a,C),C}(g,f,h,a,l):f.data[g];Es(E,!0);const C=h[g]=h[11].createComment("");return Xf(f,h,C,E),Bo(C,h),Eu(E)&&(Gu(f,h,E),Ms(f,E,h)),null!=l&&Fy(h,E),Ur}function Qu(){let o=mi();const a=Nn();return kc()?Vl():(o=o.parent,Es(o,!1)),a.firstCreatePass&&(zn(a,o),Us(o)&&a.queries.elementEnd(o)),Qu}function kp(o,a,l){return Ur(o,a,l),Qu(),kp}function sv(){return Qe()}function uc(o){return!!o&&"function"==typeof o.then}function sh(o){return!!o&&"function"==typeof o.subscribe}const d=sh;function m(o,a,l,h){const f=Qe(),g=Nn(),E=mi();return function F(o,a,l,h,f,g,E){const C=Eu(h),O=o.firstCreatePass&&ug(o),B=a[8],Z=Wd(a);let pe=!0;if(3&h.type||E){const ft=eo(h,a),yt=E?E(ft):ft,Vt=Z.length,hn=E?kn=>E(Br(kn[h.index])):h.index;let st=null;if(!E&&C&&(st=function A(o,a,l,h){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const E=f[g];if(E===l&&f[g+1]===h){const C=a[7],S=f[g+2];return C.length>S?C[S]:null}"string"==typeof E&&(g+=2)}return null}(o,a,f,h.index)),null!==st)(st.__ngLastListenerFn__||st).__ngNextListenerFn__=g,st.__ngLastListenerFn__=g,pe=!1;else{g=oe(h,a,B,g,!1);const kn=l.listen(yt,f,g);Z.push(g,kn),O&&O.push(f,hn,Vt,Vt+1)}}else g=oe(h,a,B,g,!1);const Se=h.outputs;let Ye;if(pe&&null!==Se&&(Ye=Se[f])){const ft=Ye.length;if(ft)for(let yt=0;yt<ft;yt+=2){const Si=a[Ye[yt]][Ye[yt+1]].subscribe(g),zi=Z.length;Z.push(g,Si),O&&O.push(f,h.index,zi,-(zi+1))}}}(g,f,f[11],E,o,a,h),m}function z(o,a,l,h){try{return!1!==l(h)}catch(f){return Ep(o,f),!1}}function oe(o,a,l,h,f){return function g(E){if(E===Function)return h;Gd(o.componentOffset>-1?wi(o.index,a):a);let S=z(a,0,h,E),O=g.__ngNextListenerFn__;for(;O;)S=z(a,0,O,E)&&S,O=O.__ngNextListenerFn__;return f&&!1===S&&(E.preventDefault(),E.returnValue=!1),S}}function ue(o=1){return function tr(o){return(gn.lFrame.contextLView=function ei(o,a){for(;o>0;)a=a[15],o--;return a}(o,gn.lFrame.contextLView))[8]}(o)}function we(o,a){let l=null;const h=function vC(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(0==(1&l))return a[l+1]}return null}(o);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===h?T0(o,g,!0):EC(h,g))return f}else l=f}return l}function et(o){const a=Qe()[16][6];if(!a.projection){const h=a.projection=ml(o?o.length:1,null),f=h.slice();let g=a.child;for(;null!==g;){const E=o?we(g,o):0;null!==E&&(f[E]?f[E].projectionNext=g:h[E]=g,f[E]=g),g=g.next}}}function Ze(o,a=0,l){const h=Qe(),f=Nn(),g=Hd(f,22+o,16,null,l||null);null===g.projection&&(g.projection=a),Vl(),32!=(32&g.flags)&&function Yb(o,a,l){Z_(a[11],0,a,l,Fm(o,l,a),Bm(l.parent||a[6],l,a))}(f,h,g)}function wt(o,a,l,h,f){const g=Qe(),E=Xd(g,a,l,h);return E!==xn&&ks(Nn(),sr(),g,o,E,g[11],f,!1),wt}function rs(o,a){return o<<17|a<<2}function Sr(o){return o>>17&32767}function hf(o){return 2|o}function lu(o){return(131068&o)>>2}function Xu(o,a){return-131069&o|a<<2}function ff(o){return 1|o}function av(o,a,l,h,f){const g=o[l+1],E=null===a;let C=h?Sr(g):lu(g),S=!1;for(;0!==C&&(!1===S||E);){const B=o[C+1];uT(o[C],a)&&(S=!0,o[C+1]=h?ff(B):hf(B)),C=h?Sr(B):lu(B)}S&&(o[l+1]=h?hf(g):ff(g))}function uT(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Ir(o,a)>=0}const lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Op(o){return o.substring(lo.key,lo.keyEnd)}function FC(o,a){const l=lo.textEnd;return l===a?-1:(a=lo.keyEnd=function dT(o,a,l){for(;a<l&&o.charCodeAt(a)>32;)a++;return a}(o,lo.key=a,l),pf(o,a,l))}function pf(o,a,l){for(;a<l&&o.charCodeAt(a)<=32;)a++;return a}function hE(o,a,l){return _s(o,a,l,!1),hE}function fE(o,a){return _s(o,a,null,!0),fE}function du(o,a){for(let l=function cv(o){return function dE(o){lo.key=0,lo.keyEnd=0,lo.value=0,lo.valueEnd=0,lo.textEnd=o.length}(o),FC(o,pf(o,0,lo.textEnd))}(a);l>=0;l=FC(a,l))gt(o,Op(a),!0)}function _s(o,a,l,h){const f=Qe(),g=Nn(),E=xs(2);g.firstUpdatePass&&BC(g,o,E,h),a!==xn&&Ho(f,E,a)&&VC(g,g.data[Tn()],f,f[11],o,f[E+1]=function gT(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=le(Vo(o)))),o}(a,l),h,E)}function fT(o,a){return a>=o.expandoStartIndex}function BC(o,a,l,h){const f=o.data;if(null===f[l+1]){const g=f[Tn()],E=fT(o,l);dv(g,h)&&null===a&&!E&&(a=!1),a=function pT(o,a,l,h){const f=function Du(o){const a=gn.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let g=h?a.residualClasses:a.residualStyles;if(null===f)0===(h?a.classBindings:a.styleBindings)&&(l=Pp(l=ah(null,o,a,l,h),a.attrs,h),g=null);else{const E=a.directiveStylingLast;if(-1===E||o[E]!==f)if(l=ah(f,o,a,l,h),null===g){let S=function mT(o,a,l){const h=l?a.classBindings:a.styleBindings;if(0!==lu(h))return o[Sr(h)]}(o,a,h);void 0!==S&&Array.isArray(S)&&(S=ah(null,o,a,S[1],h),S=Pp(S,a.attrs,h),function Eg(o,a,l,h){o[Sr(l?a.classBindings:a.styleBindings)]=h}(o,a,h,S))}else g=function wg(o,a,l){let h;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)h=Pp(h,o[g].hostAttrs,l);return Pp(h,a.attrs,l)}(o,a,h)}return void 0!==g&&(h?a.residualClasses=g:a.residualStyles=g),l}(f,g,a,h),function lT(o,a,l,h,f,g){let E=g?a.classBindings:a.styleBindings,C=Sr(E),S=lu(E);o[h]=l;let B,O=!1;if(Array.isArray(l)){const Z=l;B=Z[1],(null===B||Ir(Z,B)>0)&&(O=!0)}else B=l;if(f)if(0!==S){const pe=Sr(o[C+1]);o[h+1]=rs(pe,C),0!==pe&&(o[pe+1]=Xu(o[pe+1],h)),o[C+1]=function Jc(o,a){return 131071&o|a<<17}(o[C+1],h)}else o[h+1]=rs(C,0),0!==C&&(o[C+1]=Xu(o[C+1],h)),C=h;else o[h+1]=rs(S,0),0===C?C=h:o[S+1]=Xu(o[S+1],h),S=h;O&&(o[h+1]=hf(o[h+1])),av(o,B,h,!0),av(o,B,h,!1),function vg(o,a,l,h,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&Ir(g,a)>=0&&(l[h+1]=ff(l[h+1]))}(a,B,o,h,g),E=rs(C,S),g?a.classBindings=E:a.styleBindings=E}(f,g,a,l,E,h)}}function ah(o,a,l,h,f){let g=null;const E=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<E&&(g=a[C],h=Pp(h,g.hostAttrs,f),g!==o);)C++;return null!==o&&(l.directiveStylingLast=C),h}function Pp(o,a,l){const h=l?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const E=a[g];"number"==typeof E?f=E:f===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),gt(o,E,!!l||a[++g]))}return void 0===o?null:o}function VC(o,a,l,h,f,g,E,C){if(!(3&a.type))return;const S=o.data,O=S[C+1],B=function Qn(o){return 1==(1&o)}(O)?HC(S,a,l,f,lu(O),E):void 0;xg(B)||(xg(g)||function dc(o){return 2==(2&o)}(O)&&(g=HC(S,null,l,f,C,E)),function Qb(o,a,l,h,f){if(a)f?o.addClass(l,h):o.removeClass(l,h);else{let g=-1===h.indexOf("-")?void 0:Zs.DashCase;null==f?o.removeStyle(l,h,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Zs.Important),o.setStyle(l,h,f,g))}}(h,E,go(Tn(),l),f,g))}function HC(o,a,l,h,f,g){const E=null===a;let C;for(;f>0;){const S=o[f],O=Array.isArray(S),B=O?S[1]:S,Z=null===B;let pe=l[f+1];pe===xn&&(pe=Z?_t:void 0);let Se=Z?Zr(pe,h):B===h?pe:void 0;if(O&&!xg(Se)&&(Se=Zr(S,h)),xg(Se)&&(C=Se,E))return C;const Ye=o[f+1];f=E?Sr(Ye):lu(Ye)}if(null!==a){let S=g?a.residualClasses:a.residualStyles;null!=S&&(C=Zr(S,h))}return C}function xg(o){return void 0!==o}function dv(o,a){return 0!=(o.flags&(a?8:16))}function Np(o,a=""){const l=Qe(),h=Nn(),f=o+22,g=h.firstCreatePass?Hd(h,f,1,a,null):h.data[f],E=l[f]=function ro(o,a){return o.createText(a)}(l[11],a);Xf(h,l,E,g),Es(g,!1)}function gE(o){return Lp("",o,""),gE}function Lp(o,a,l){const h=Qe(),f=Xd(h,o,a,l);return f!==xn&&ms(h,Tn(),f),Lp}function hv(o,a,l,h,f,g,E){const C=Qe(),S=Jd(C,o,a,l,h,f,g,E);return S!==xn&&ms(C,Tn(),S),hv}function zC(o,a,l){!function hc(o,a,l,h){const f=Nn(),g=xs(2);f.firstUpdatePass&&BC(f,null,g,h);const E=Qe();if(l!==xn&&Ho(E,g,l)){const C=f.data[Tn()];if(dv(C,h)&&!fT(f,g)){let S=h?C.classesWithoutHost:C.stylesWithoutHost;null!==S&&(l=se(S,l||"")),yg(f,C,E,l,h)}else!function Fp(o,a,l,h,f,g,E,C){f===xn&&(f=_t);let S=0,O=0,B=0<f.length?f[0]:null,Z=0<g.length?g[0]:null;for(;null!==B||null!==Z;){const pe=S<f.length?f[S+1]:void 0,Se=O<g.length?g[O+1]:void 0;let ft,Ye=null;B===Z?(S+=2,O+=2,pe!==Se&&(Ye=Z,ft=Se)):null===Z||null!==B&&B<Z?(S+=2,Ye=B):(O+=2,Ye=Z,ft=Se),null!==Ye&&VC(o,a,l,h,Ye,ft,E,C),B=S<f.length?f[S]:null,Z=O<g.length?g[O]:null}}(f,C,E,E[11],E[g+1],E[g+1]=function UC(o,a,l){if(null==l||""===l)return _t;const h=[],f=Vo(l);if(Array.isArray(f))for(let g=0;g<f.length;g++)o(h,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&o(h,g,f[g]);else"string"==typeof f&&a(h,f);return h}(o,a,l),h,g)}}(gt,du,Xd(Qe(),o,a,l),!0)}function wE(o,a,l){const h=Qe();return Ho(h,xo(),a)&&ks(Nn(),sr(),h,o,a,h[11],l,!0),wE}const lh=void 0;var qC=["en",[["a","p"],["AM","PM"],lh],[["AM","PM"],lh,lh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lh,"{1} 'at' {0}",lh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xE(o){const l=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===h?1:5}];let uh={};function CE(o){const a=function XC(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=YC(a);if(l)return l;const h=a.split("-")[0];if(l=YC(h),l)return l;if("en"===h)return qC;throw new ke(701,!1)}function ZC(o){return CE(o)[an.PluralCase]}function YC(o){return o in uh||(uh[o]=tn.ng&&tn.ng.common&&tn.ng.common.locales&&tn.ng.common.locales[o]),uh[o]}var an=(()=>((an=an||{})[an.LocaleId=0]="LocaleId",an[an.DayPeriodsFormat=1]="DayPeriodsFormat",an[an.DayPeriodsStandalone=2]="DayPeriodsStandalone",an[an.DaysFormat=3]="DaysFormat",an[an.DaysStandalone=4]="DaysStandalone",an[an.MonthsFormat=5]="MonthsFormat",an[an.MonthsStandalone=6]="MonthsStandalone",an[an.Eras=7]="Eras",an[an.FirstDayOfWeek=8]="FirstDayOfWeek",an[an.WeekendRange=9]="WeekendRange",an[an.DateFormat=10]="DateFormat",an[an.TimeFormat=11]="TimeFormat",an[an.DateTimeFormat=12]="DateTimeFormat",an[an.NumberSymbols=13]="NumberSymbols",an[an.NumberFormats=14]="NumberFormats",an[an.CurrencyCode=15]="CurrencyCode",an[an.CurrencySymbol=16]="CurrencySymbol",an[an.CurrencyName=17]="CurrencyName",an[an.Currencies=18]="Currencies",an[an.Directionality=19]="Directionality",an[an.PluralCase=20]="PluralCase",an[an.ExtraData=21]="ExtraData",an))();const Bp="en-US";let _v=Bp;function OE(o,a,l,h,f){if(o=re(o),Array.isArray(o))for(let g=0;g<o.length;g++)OE(o[g],a,l,h,f);else{const g=Nn(),E=Qe();let C=qc(o)?o:re(o.provide),S=sy(o);const O=mi(),B=1048575&O.providerIndexes,Z=O.directiveStart,pe=O.providerIndexes>>20;if(qc(o)||!o.multi){const Se=new qa(S,f,Vd),Ye=FE(C,a,f?B:B+pe,Z);-1===Ye?(Gl(Gs(O,E),g,C),PE(g,o,a.length),a.push(C),O.directiveStart++,O.directiveEnd++,f&&(O.providerIndexes+=1048576),l.push(Se),E.push(Se)):(l[Ye]=Se,E[Ye]=Se)}else{const Se=FE(C,a,B+pe,Z),Ye=FE(C,a,B,B+pe),ft=Se>=0&&l[Se],yt=Ye>=0&&l[Ye];if(f&&!yt||!f&&!ft){Gl(Gs(O,E),g,C);const Vt=function lA(o,a,l,h,f){const g=new qa(o,l,Vd);return g.multi=[],g.index=a,g.componentProviders=0,EI(g,f,h&&!l),g}(f?wI:cA,l.length,f,h,S);!f&&yt&&(l[Ye].providerFactory=Vt),PE(g,o,a.length,0),a.push(C),O.directiveStart++,O.directiveEnd++,f&&(O.providerIndexes+=1048576),l.push(Vt),E.push(Vt)}else PE(g,o,Se>-1?Se:Ye,EI(l[f?Ye:Se],S,!f&&h));!f&&h&&yt&&l[Ye].componentProviders++}}}function PE(o,a,l,h){const f=qc(a),g=function oo(o){return!!o.useClass}(a);if(f||g){const S=(g?re(a.useClass):a).prototype.ngOnDestroy;if(S){const O=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const B=O.indexOf(l);-1===B?O.push(l,[h,S]):O[B+1].push(h,S)}else O.push(l,S)}}}function EI(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function FE(o,a,l,h){for(let f=l;f<h;f++)if(a[f]===o)return f;return-1}function cA(o,a,l,h){return Og(this.multi,[])}function wI(o,a,l,h){const f=this.multi;let g;if(this.providerFactory){const E=this.providerFactory.componentProviders,C=hs(l,l[1],this.providerFactory.index,h);g=C.slice(0,E),Og(f,g);for(let S=E;S<C.length;S++)g.push(C[S])}else g=[],Og(f,g);return g}function Og(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function NE(o,a=[]){return l=>{l.providersResolver=(h,f)=>function aA(o,a,l){const h=Nn();if(h.firstCreatePass){const f=Oi(o);OE(l,h.data,h.blueprint,f,!0),OE(a,h.data,h.blueprint,f,!1)}}(h,f?f(o):o,a)}}class xl{}class Cv{}function uA(o,a){return new LE(o,a??null)}class LE extends xl{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hg(this);const h=ii(a);this._bootstrapComponents=Kc(h.bootstrap),this._r3Injector=P0(a,l,[{provide:xl,useValue:this},{provide:ru,useValue:this.componentFactoryResolver}],le(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Pg extends Cv{constructor(a){super(),this.moduleType=a}create(a){return new LE(this.moduleType,a)}}class xI extends xl{constructor(a,l,h){super(),this.componentFactoryResolver=new hg(this),this.instance=null;const f=new Xm([...a,{provide:xl,useValue:this},{provide:ru,useValue:this.componentFactoryResolver}],l||ip(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Iv(o,a,l=null){return new xI(o,a,l).injector}let hA=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const h=Fd(0,l.type),f=h.length>0?Iv([h],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Gt({token:o,providedIn:"environment",factory:()=>new o(ht(ju))}),o})();function CI(o){o.getStandaloneInjector=a=>a.get(hA).getOrCreateStandaloneInjector(o)}function Ng(o,a){const l=o[a];return l===xn?void 0:l}function OI(o,a){const l=Nn();let h;const f=o+22;l.firstCreatePass?(h=function EA(o,a){if(a)for(let l=a.length-1;l>=0;l--){const h=a[l];if(o===h.name)return h}}(a,l.pipeRegistry),l.data[f]=h,h.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(f,h.onDestroy)):h=l.data[f];const g=h.factory||(h.factory=Ei(h.type)),E=ir(Vd);try{const C=Ia(!1),S=g();return Ia(C),function OC(o,a,l,h){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),a[l]=h}(l,Qe(),f,S),S}finally{ir(E)}}function $E(o,a,l){const h=o+22,f=Qe(),g=bs(f,h);return Wp(f,h)?function vA(o,a,l,h,f,g){const E=a+l;return Ho(o,E,f)?Na(o,E+1,g?h.call(g,f):h(f)):Ng(o,E+1)}(f,Wr(),a,g.transform,l,g):g.transform(l)}function xA(o,a,l,h,f){const g=o+22,E=Qe(),C=bs(E,g);return Wp(E,g)?function jE(o,a,l,h,f,g,E,C){const S=a+l;return Yd(o,S,f,g,E)?Na(o,S+3,C?h.call(C,f,g,E):h(f,g,E)):Ng(o,S+3)}(E,Wr(),a,C.transform,l,h,f,C):C.transform(l,h,f)}function Wp(o,a){return o[1].data[a].pure}function GE(o){return a=>{setTimeout(o,void 0,a)}}const ta=class CA extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,h){let f=a,g=l||(()=>null),E=h;if(a&&"object"==typeof a){const S=a;f=S.next?.bind(S),g=S.error?.bind(S),E=S.complete?.bind(S)}this.__isAsync&&(g=GE(g),f&&(f=GE(f)),E&&(E=GE(E)));const C=super.subscribe({next:f,error:g,complete:E});return a instanceof M.w0&&a.add(C),C}};function IA(){return this._results[wl()]()}class Sv{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=wl(),h=Sv.prototype;h[l]||(h[l]=IA)}get changes(){return this._changes||(this._changes=new ta)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const h=this;h.dirty=!1;const f=function yo(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function yd(o,a,l){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let f=o[h],g=a[h];if(l&&(f=l(f),g=l(g)),g!==f)return!1}return!0}(h._results,f,l))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Bg=(()=>{class o{}return o.__NG_ELEMENT_ID__=PI,o})();const DA=Bg,SA=class extends DA{constructor(a,l,h){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=h}createEmbeddedView(a,l){const h=this._declarationTContainer.tViews,f=sg(this._declarationLView,h,a,16,null,h.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(f[19]=E.createEmbeddedView(h)),Py(h,f,a),new El(f)}};function PI(){return Tv(mi(),Qe())}function Tv(o,a){return 4&o.type?new SA(a,o,ao(o,a)):null}let WE=(()=>{class o{}return o.__NG_ELEMENT_ID__=qE,o})();function qE(){return Ju(mi(),Qe())}const FI=WE,KE=class extends FI{constructor(a,l,h){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=h}get element(){return ao(this._hostTNode,this._hostLView)}get injector(){return new Po(this._hostTNode,this._hostLView)}get parentInjector(){const a=Sa(this._hostTNode,this._hostLView);if(pd(a)){const l=ds(a,this._hostLView),h=Ca(a);return new Po(l[1].data[h+8],l)}return new Po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=ZE(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,h){let f,g;"number"==typeof h?f=h:null!=h&&(f=h.index,g=h.injector);const E=a.createEmbeddedView(l||{},g);return this.insert(E,f),E}createComponent(a,l,h,f,g){const E=a&&!function No(o){return"function"==typeof o}(a);let C;if(E)C=l;else{const Z=l||{};C=Z.index,h=Z.injector,f=Z.projectableNodes,g=Z.environmentInjector||Z.ngModuleRef}const S=E?a:new qd(qn(a)),O=h||this.parentInjector;if(!g&&null==S.ngModule){const pe=(E?O:this.parentInjector).get(ju,null);pe&&(g=pe)}const B=S.create(O,f,void 0,g);return this.insert(B.hostView,C),B}insert(a,l){const h=a._lView,f=h[1];if(function Nl(o){return Ri(o[3])}(h)){const B=this.indexOf(a);if(-1!==B)this.detach(B);else{const Z=h[3],pe=new KE(Z,Z[6],Z[3]);pe.detach(pe.indexOf(a))}}const g=this._adjustIndex(l),E=this._lContainer;!function Kf(o,a,l,h){const f=10+h,g=l.length;h>0&&(l[f-1][4]=a),h<g-10?(a[4]=l[f],Bf(l,10+h,a)):(l.push(a),a[4]=null),a[3]=l;const E=a[17];null!==E&&l!==E&&function Uo(o,a){const l=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===l?o[9]=[a]:l.push(a)}(E,a);const C=a[19];null!==C&&C.insertView(o),a[2]|=64}(f,h,E,g);const C=Jf(g,E),S=h[11],O=Yf(S,E[7]);return null!==O&&function Bu(o,a,l,h,f,g){h[0]=f,h[6]=a,Pa(o,h,l,1,f,g)}(f,E[6],S,h,O,C),a.attachToViewContainerRef(),Bf(qp(E),g,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=ZE(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),h=Pm(this._lContainer,l);h&&(vd(qp(this._lContainer),l),Zf(h[1],h))}detach(a){const l=this._adjustIndex(a,-1),h=Pm(this._lContainer,l);return h&&null!=vd(qp(this._lContainer),l)?new El(h):null}_adjustIndex(a,l=0){return a??this.length+l}};function ZE(o){return o[8]}function qp(o){return o[8]||(o[8]=[])}function Ju(o,a){let l;const h=a[o.index];if(Ri(h))l=h;else{let f;if(8&o.type)f=Br(h);else{const g=a[11];f=g.createComment("");const E=eo(o,a);Gc(g,Yf(g,E),f,function Lm(o,a){return o.nextSibling(a)}(g,E),!1)}a[o.index]=l=$y(h,a,f,o),ps(a,l)}return new KE(l,o,a)}class Ug{constructor(a){this.queryList=a,this.matches=null}clone(){return new Ug(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vg{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const h=null!==a.contentQueries?a.contentQueries[0]:l.length,f=[];for(let g=0;g<h;g++){const E=l.getByIndex(g);f.push(this.queries[E.indexInDeclarationView].clone())}return new Vg(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==jg(a,l).matches&&this.queries[l].setDirty()}}class Av{constructor(a,l,h=null){this.predicate=a,this.flags=l,this.read=h}}class rr{constructor(a=[]){this.queries=a}elementStart(a,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let h=0;h<this.length;h++){const f=null!==l?l.length:0,g=this.getByIndex(h).embeddedTView(a,f);g&&(g.indexInDeclarationView=h,null!==l?l.push(g):l=[g])}return null!==l?new rr(l):null}template(a,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Hg{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new Hg(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const g=h[f];this.matchTNodeWithReadOption(a,l,Rs(l,g)),this.matchTNodeWithReadOption(a,l,Uc(l,a,g,!1,!1))}else h===Bg?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Uc(l,a,h,!1,!1))}matchTNodeWithReadOption(a,l,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Ys||f===WE||f===Bg&&4&l.type)this.addMatch(l.index,-2);else{const g=Uc(l,a,f,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,h)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function Rs(o,a){const l=o.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===a)return l[h+1];return null}function NI(o,a,l,h){return-1===l?function AO(o,a){return 11&o.type?ao(o,a):4&o.type?Tv(o,a):null}(a,o):-2===l?function qe(o,a,l){return l===Ys?ao(a,o):l===Bg?Tv(a,o):l===WE?Ju(a,o):void 0}(o,a,h):hs(o,o[1],l,a)}function tl(o,a,l,h){const f=a[19].queries[h];if(null===f.matches){const g=o.data,E=l.matches,C=[];for(let S=0;S<E.length;S+=2){const O=E[S];C.push(O<0?null:NI(a,g[O],E[S+1],l.metadata.read))}f.matches=C}return f.matches}function hh(o,a,l,h){const f=o.queries.getByIndex(l),g=f.matches;if(null!==g){const E=tl(o,a,f,l);for(let C=0;C<g.length;C+=2){const S=g[C];if(S>0)h.push(E[C/2]);else{const O=g[C+1],B=a[-S];for(let Z=10;Z<B.length;Z++){const pe=B[Z];pe[17]===pe[3]&&hh(pe[1],pe,O,h)}if(null!==B[9]){const Z=B[9];for(let pe=0;pe<Z.length;pe++){const Se=Z[pe];hh(Se[1],Se,O,h)}}}}}return h}function ed(o){const a=Qe(),l=Nn(),h=Ph();Su(h+1);const f=jg(l,h);if(o.dirty&&function Fl(o){return 4==(4&o[2])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?hh(l,a,h,[]):tl(l,a,f,h);o.reset(g,hC),o.notifyOnChanges()}return!0}return!1}function Pn(o,a,l){const h=Nn();h.firstCreatePass&&(Cn(h,new Av(o,a,l),-1),2==(2&a)&&(h.staticViewQueries=!0)),Mv(h,Qe(),a)}function LI(o,a,l,h){const f=Nn();if(f.firstCreatePass){const g=mi();Cn(f,new Av(a,l,h),g.index),function kv(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(f,o),2==(2&l)&&(f.staticContentQueries=!0)}Mv(f,Qe(),l)}function mu(){return function Zt(o,a){return o[19].queries[a].queryList}(Qe(),Ph())}function Mv(o,a,l){const h=new Sv(4==(4&l));By(o,a,h,h.destroy),null===a[19]&&(a[19]=new Vg),a[19].queries.push(new Ug(h))}function Cn(o,a,l){null===o.queries&&(o.queries=new rr),o.queries.track(new Hg(a,l))}function jg(o,a){return o.queries.getByIndex(a)}function Kp(o,a){return Tv(o,a)}function jv(...o){}const zv=new nr("Application Initializer");let Qp=(()=>{class o{constructor(l){this.appInits=l,this.resolve=jv,this.reject=jv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(uc(g))l.push(g);else if(d(g)){const E=new Promise((C,S)=>{g.subscribe({complete:C,error:S})});l.push(E)}}Promise.all(l).then(()=>{h()}).catch(f=>{this.reject(f)}),0===l.length&&h(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(ht(zv,8))},o.\u0275prov=Gt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const $o=new nr("AppId",{providedIn:"root",factory:function os(){return`${qg()}${qg()}${qg()}`}});function qg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const KI=new nr("Platform Initializer"),HA=new nr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),cw=new nr("appBootstrapListener"),jA=new nr("AnimationModuleType");let ZI=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Gt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const $v=new nr("LocaleId",{providedIn:"root",factory:()=>bt($v,Ct.Optional|Ct.SkipSelf)||function lw(){return typeof $localize<"u"&&$localize.locale||Bp}()}),uw=new nr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class hw{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let fw=(()=>{class o{compileModuleSync(l){return new Pg(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const h=this.compileModuleSync(l),g=Kc(ii(l).declarations).reduce((E,C)=>{const S=qn(C);return S&&E.push(new qd(S)),E},[]);return new hw(h,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Gt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const GA=(()=>Promise.resolve(0))();function gw(o){typeof Zone>"u"?GA.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class rl{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ta(!1),this.onMicrotaskEmpty=new ta(!1),this.onStable=new ta(!1),this.onError=new ta(!1),typeof Zone>"u")throw new ke(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&l,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Xp(){let o=tn.requestAnimationFrame,a=tn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function QI(o){const a=()=>{!function Wv(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(tn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,bf(o),o.isCheckStableRunning=!0,Gv(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),bf(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,f,g,E,C)=>{try{return _w(o),l.invokeTask(f,g,E,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),Ps(o)}},onInvoke:(l,h,f,g,E,C,S)=>{try{return _w(o),l.invoke(f,g,E,C,S)}finally{o.shouldCoalesceRunChangeDetection&&a(),Ps(o)}},onHasTask:(l,h,f,g)=>{l.hasTask(f,g),h===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,bf(o),Gv(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,h,f,g)=>(l.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rl.isInAngularZone())throw new ke(909,!1)}static assertNotInAngularZone(){if(rl.isInAngularZone())throw new ke(909,!1)}run(a,l,h){return this._inner.run(a,l,h)}runTask(a,l,h,f){const g=this._inner,E=g.scheduleEventTask("NgZoneEvent: "+f,a,vf,jv,jv);try{return g.runTask(E,l,h)}finally{g.cancelTask(E)}}runGuarded(a,l,h){return this._inner.runGuarded(a,l,h)}runOutsideAngular(a){return this._outer.run(a)}}const vf={};function Gv(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function bf(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function _w(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Ps(o){o._nesting--,Gv(o)}class XI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ta,this.onMicrotaskEmpty=new ta,this.onStable=new ta,this.onError=new ta}run(a,l,h){return a.apply(l,h)}runGuarded(a,l,h){return a.apply(l,h)}runOutsideAngular(a){return a()}runTask(a,l,h,f){return a.apply(l,h)}}const Jp=new nr(""),Zg=new nr("");let Kv,JI=(()=>{class o{constructor(l,h,f){this._ngZone=l,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Kv||(function eD(o){Kv=o}(f),f.addToWindow(h)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rl.assertNotInAngularZone(),gw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gw(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,f){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==g),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:f})}whenStable(l,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,h,f){return[]}}return o.\u0275fac=function(l){return new(l||o)(ht(rl),ht(qv),ht(Zg))},o.\u0275prov=Gt({token:o,factory:o.\u0275fac}),o})(),qv=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){return Kv?.findTestabilityInTree(this,l,h)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Gt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),il=null;const Zv=new nr("AllowMultipleToken"),Yg=new nr("PlatformDestroyListeners");class WA{constructor(a,l){this.name=a,this.token=l}}function vw(o,a,l=[]){const h=`Platform: ${a}`,f=new nr(h);return(g=[])=>{let E=tb();if(!E||E.injector.get(Zv,!1)){const C=[...l,...g,{provide:f,useValue:!0}];o?o(C):function yw(o){if(il&&!il.get(Zv,!1))throw new ke(400,!1);il=o;const a=o.get(Qg);(function Jv(o){const a=o.get(KI,null);a&&a.forEach(l=>l())})(o)}(function rD(o=[],a){return zu.create({name:a,providers:[{provide:sc,useValue:"platform"},{provide:Yg,useValue:new Set([()=>il=null])},...o]})}(C,h))}return function nD(o){const a=tb();if(!a)throw new ke(401,!1);return a}()}}function tb(){return il?.get(Qg)??null}let Qg=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const f=function mh(o,a){let l;return l="noop"===o?new XI:("zone.js"===o?void 0:o)||new rl(a),l}(h?.ngZone,function em(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(h)),g=[{provide:rl,useValue:f}];return f.run(()=>{const E=zu.create({providers:g,parent:this.injector,name:l.moduleType.name}),C=l.create(E),S=C.injector.get(up,null);if(!S)throw new ke(402,!1);return f.runOutsideAngular(()=>{const O=f.onError.subscribe({next:B=>{S.handleError(B)}});C.onDestroy(()=>{Xg(this._modules,C),O.unsubscribe()})}),function nb(o,a,l){try{const h=l();return uc(h)?h.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(S,f,()=>{const O=C.injector.get(Qp);return O.runInitializers(),O.donePromise.then(()=>(function IE(o){yn(o,"Expected localeId to be defined"),"string"==typeof o&&(_v=o.toLowerCase().replace(/_/g,"-"))}(C.injector.get($v,Bp)||Bp),this._moduleDoBootstrap(C),C))})})}bootstrapModule(l,h=[]){const f=iD({},h);return function Yv(o,a,l){const h=new Pg(l);return Promise.resolve(h)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(l){const h=l.injector.get(rb);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new ke(403,!1);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const l=this._injector.get(Yg,null);l&&(l.forEach(h=>h()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(ht(zu))},o.\u0275prov=Gt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function iD(o,a){return Array.isArray(a)?a.reduce(iD,o):{...o,...a}}let rb=(()=>{class o{constructor(l,h,f){this._zone=l,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),E=new N.y(C=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{rl.assertNotInAngularZone(),gw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{rl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{S.unsubscribe(),O.unsubscribe()}});this.isStable=(0,ae.T)(g,E.pipe((0,ne.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,h){const f=l instanceof Ld;if(!this._injector.get(Qp).done)throw!f&&Fr(l),new ke(405,false);let E;E=f?l:this._injector.get(ru).resolveComponentFactory(l),this.componentTypes.push(E.componentType);const C=function tD(o){return o.isBoundToModule}(E)?void 0:this._injector.get(xl),O=E.create(zu.NULL,[],h||E.selector,C),B=O.location.nativeElement,Z=O.injector.get(Jp,null);return Z?.registerApplication(B),O.onDestroy(()=>{this.detachView(O.hostView),Xg(this.components,O),Z?.unregisterApplication(B)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new ke(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;Xg(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const h=this._injector.get(cw,[]);h.push(...this._bootstrapListeners),h.forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Xg(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ke(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)(ht(rl),ht(ju),ht(up))},o.\u0275prov=Gt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Xg(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}function Ef(){return!1}function td(){}let Di=(()=>{class o{}return o.__NG_ELEMENT_ID__=ib,o})();function ib(o){return function Jg(o,a,l){if(ll(o)&&!l){const h=wi(o.index,a);return new El(h,h)}return 47&o.type?new El(a[16],a):null}(mi(),Qe(),16==(16&o))}class Tw{constructor(){}supports(a){return Yu(a)}create(a){return new eM(a)}}const Aw=(o,a)=>a;class eM{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Aw}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,h=this._removalsHead,f=0,g=null;for(;l||h;){const E=!h||l&&l.currentIndex<tm(h,f,g)?l:h,C=tm(E,f,g),S=E.currentIndex;if(E===h)f--,h=h._nextRemoved;else if(l=l._next,null==E.previousIndex)f++;else{g||(g=[]);const O=C-f,B=S-f;if(O!=B){for(let pe=0;pe<O;pe++){const Se=pe<g.length?g[pe]:g[pe]=0,Ye=Se+pe;B<=Ye&&Ye<O&&(g[pe]=Se+1)}g[E.previousIndex]=B-O}}C!==S&&a(E,C,S)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!Yu(a))throw new ke(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,E,l=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)g=a[C],E=this._trackByFn(C,g),null!==l&&Object.is(l.trackById,E)?(h&&(l=this._verifyReinsertion(l,g,E,C)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,E,C),h=!0),l=l._next}else f=0,function aE(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[wl()]();let h;for(;!(h=l.next()).done;)a(h.value)}}(a,C=>{E=this._trackByFn(f,C),null!==l&&Object.is(l.trackById,E)?(h&&(l=this._verifyReinsertion(l,C,E,f)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,E,f),h=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,h,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,g,f)):a=this._addAfter(new tM(l,h),g,f),a}_verifyReinsertion(a,l,h,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,l,h),this._addToMoves(a,h),a}_moveAfter(a,l,h){return this._unlink(a),this._insertAfter(a,l,h),this._addToMoves(a,h),a}_addAfter(a,l,h){return this._insertAfter(a,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,h){const f=null===l?this._itHead:l._next;return a._next=f,a._prev=l,null===f?this._itTail=a:f._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new n_),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,h=a._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new n_),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class tM{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nM{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const l=a._prevDup,h=a._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class n_{constructor(){this.map=new Map}put(a){const l=a.trackById;let h=this.map.get(l);h||(h=new nM,this.map.set(l,h)),h.add(a)}get(a,l){const f=this.map.get(a);return f?f.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tm(o,a,l){const h=o.previousIndex;if(null===h)return h;let f=0;return l&&h<l.length&&(f=l[h]),h+a+f}class r_{constructor(){}supports(a){return a instanceof Map||Ip(a)}create(){return new Mw}}class Mw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||Ip(a)))throw new ke(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(f,h);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const h=a._prev;return l._next=a,l._prev=h,a._prev=l,h&&(h._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,l);const g=f._prev,E=f._next;return g&&(g._next=E),E&&(E._prev=g),f._next=null,f._prev=null,f}const h=new aD(a);return this._records.set(a,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(h=>l(a[h],h))}}class aD{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nm(){return new wf([new Tw])}let wf=(()=>{class o{constructor(l){this.factories=l}static create(l,h){if(null!=h){const f=h.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:h=>o.create(l,h||nm()),deps:[[o,new Ie,new J]]}}find(l){const h=this.factories.find(f=>f.supports(l));if(null!=h)return h;throw new ke(901,!1)}}return o.\u0275prov=Gt({token:o,providedIn:"root",factory:nm}),o})();function ji(){return new cb([new r_])}let cb=(()=>{class o{constructor(l){this.factories=l}static create(l,h){if(h){const f=h.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:h=>o.create(l,h||ji()),deps:[[o,new Ie,new J]]}}find(l){const h=this.factories.find(f=>f.supports(l));if(h)return h;throw new ke(901,!1)}}return o.\u0275prov=Gt({token:o,providedIn:"root",factory:ji}),o})();const cD=vw(null,"core",[]);let lD=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(ht(rb))},o.\u0275mod=ua({type:o}),o.\u0275inj=kr({}),o})();function lb(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(de,te,R)=>{"use strict";R.d(te,{Z:()=>Xe});var c=R(2090),M=R(4859),N=R(9681),ae=R(1877);class ne{constructor(ke,Ne){this._delegate=ke,this.firebase=Ne,(0,N._addComponent)(ke,new M.wA("app-compat",()=>this,"PUBLIC")),this.container=ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this._delegate.automaticDataCollectionEnabled=ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ke=>{this._delegate.checkDestroyed(),ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ke,Ne=N._DEFAULT_ENTRY_NAME){var Pe;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(ke);return!Be.isInitialized()&&"EXPLICIT"===(null===(Pe=Be.getComponent())||void 0===Pe?void 0:Pe.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:Ne})}_removeServiceInstance(ke,Ne=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ke).clearInstance(Ne)}_addComponent(ke){(0,N._addComponent)(this._delegate,ke)}_addOrOverwriteComponent(ke){(0,N._addOrOverwriteComponent)(this._delegate,ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function se(){const ot=function le(ot){const ke={},Ne={__esModule:!0,initializeApp:function je(be,Re={}){const Ge=N.initializeApp(be,Re);if((0,c.r3)(ke,Ge.name))return ke[Ge.name];const ge=new ot(Ge,Ne);return ke[Ge.name]=ge,ge},app:Be,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function ze(be){const Re=be.name,Ge=Re.replace("-compat","");if(N._registerComponent(be)&&"PUBLIC"===be.type){const ge=(ye=Be())=>{if("function"!=typeof ye[Ge])throw he.create("invalid-app-argument",{appName:Re});return ye[Ge]()};void 0!==be.serviceProps&&(0,c.ZB)(ge,be.serviceProps),Ne[Ge]=ge,ot.prototype[Ge]=function(...ye){return this._getService.bind(this,Re).apply(this,be.multipleInstances?ye:[])}}return"PUBLIC"===be.type?Ne[Ge]:null},removeApp:function Pe(be){delete ke[be]},useAsService:function at(be,Re){return"serverAuth"===Re?null:Re},modularAPIs:N}};function Be(be){if(!(0,c.r3)(ke,be=be||N._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:be});return ke[be]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function $e(){return Object.keys(ke).map(be=>ke[be])}}),Be.App=ot,Ne}(ne);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function ke(Ne){(0,c.ZB)(ot,Ne)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ot}(),W=new ae.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=G;!function Fe(ot){(0,N.registerVersion)("@firebase/app-compat","0.2.0",ot)}()},9681:(de,te,R)=>{"use strict";R.r(te),R.d(te,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Mo,_DEFAULT_ENTRY_NAME:()=>$n,_addComponent:()=>jn,_addOrOverwriteComponent:()=>ur,_apps:()=>yn,_clearComponents:()=>kr,_components:()=>jt,_getProvider:()=>Gt,_registerComponent:()=>mn,_removeServiceInstance:()=>yi,deleteApp:()=>Qr,getApp:()=>gr,getApps:()=>Ki,initializeApp:()=>Rr,onLog:()=>Ct,registerVersion:()=>Xr,setLogLevel:()=>Zn});var c=R(5861),M=R(4859),N=R(1877),ae=R(2090),ne=R(8766);class ee{constructor(Ke){this.container=Ke}getPlatformInfoString(){return this.container.getProviders().map(bt=>{if(function he(ht){return"VERSION"===ht.getComponent()?.type}(bt)){const qt=bt.getImmediate();return`${qt.library}/${qt.version}`}return null}).filter(bt=>bt).join(" ")}}const le="@firebase/app",G=new N.Yd("@firebase/app"),$n="[DEFAULT]",Lt={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yn=new Map,jt=new Map;function jn(ht,Ke){try{ht.container.addComponent(Ke)}catch(bt){G.debug(`Component ${Ke.name} failed to register with FirebaseApp ${ht.name}`,bt)}}function ur(ht,Ke){ht.container.addOrOverwriteComponent(Ke)}function mn(ht){const Ke=ht.name;if(jt.has(Ke))return G.debug(`There were multiple attempts to register component ${Ke}.`),!1;jt.set(Ke,ht);for(const bt of yn.values())jn(bt,ht);return!0}function Gt(ht,Ke){const bt=ht.container.getProvider("heartbeat").getImmediate({optional:!0});return bt&&bt.triggerHeartbeat(),ht.container.getProvider(Ke)}function yi(ht,Ke,bt=$n){Gt(ht,Ke).clearInstance(bt)}function kr(){jt.clear()}const Jn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qi{constructor(Ke,bt,qt){this._isDeleted=!1,this._options=Object.assign({},Ke),this._config=Object.assign({},bt),this._name=bt.name,this._automaticDataCollectionEnabled=bt.automaticDataCollectionEnabled,this._container=qt,this.container.addComponent(new M.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ke){this._isDeleted=Ke}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}const Mo="9.15.0";function Rr(ht,Ke={}){let bt=ht;"object"!=typeof Ke&&(Ke={name:Ke});const qt=Object.assign({name:$n,automaticDataCollectionEnabled:!1},Ke),en=qt.name;if("string"!=typeof en||!en)throw Jn.create("bad-app-name",{appName:String(en)});if(bt||(bt=(0,ae.aH)()),!bt)throw Jn.create("no-options");const In=yn.get(en);if(In){if((0,ae.vZ)(bt,In.options)&&(0,ae.vZ)(qt,In.config))return In;throw Jn.create("duplicate-app",{appName:en})}const ce=new M.H0(en);for(const fe of jt.values())ce.addComponent(fe);const ie=new qi(bt,qt,ce);return yn.set(en,ie),ie}function gr(ht=$n){const Ke=yn.get(ht);if(!Ke&&ht===$n)return Rr();if(!Ke)throw Jn.create("no-app",{appName:ht});return Ke}function Ki(){return Array.from(yn.values())}function Qr(ht){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,c.Z)(function*(ht){const Ke=ht.name;yn.has(Ke)&&(yn.delete(Ke),yield Promise.all(ht.container.getProviders().map(bt=>bt.delete())),ht.isDeleted=!0)})).apply(this,arguments)}function Xr(ht,Ke,bt){var qt;let en=null!==(qt=Lt[ht])&&void 0!==qt?qt:ht;bt&&(en+=`-${bt}`);const In=en.match(/\s|\//),ce=Ke.match(/\s|\//);if(In||ce){const ie=[`Unable to register library "${en}" with version "${Ke}":`];return In&&ie.push(`library name "${en}" contains illegal characters (whitespace or "/")`),In&&ce&&ie.push("and"),ce&&ie.push(`version name "${Ke}" contains illegal characters (whitespace or "/")`),void G.warn(ie.join(" "))}mn(new M.wA(`${en}-version`,()=>({library:en,version:Ke}),"VERSION"))}function Ct(ht,Ke){if(null!==ht&&"function"!=typeof ht)throw Jn.create("invalid-log-argument");(0,N.Am)(ht,Ke)}function Zn(ht){(0,N.Ub)(ht)}const Jr="firebase-heartbeat-store";let jr=null;function tn(){return jr||(jr=(0,ne.X3)("firebase-heartbeat-database",1,{upgrade:(ht,Ke)=>{0===Ke&&ht.createObjectStore(Jr)}}).catch(ht=>{throw Jn.create("idb-open",{originalErrorMessage:ht.message})})),jr}function Wt(){return(Wt=(0,c.Z)(function*(ht){try{return(yield tn()).transaction(Jr).objectStore(Jr).get(_r(ht))}catch(Ke){if(Ke instanceof ae.ZR)G.warn(Ke.message);else{const bt=Jn.create("idb-get",{originalErrorMessage:Ke?.message});G.warn(bt.message)}}})).apply(this,arguments)}function Wn(ht,Ke){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(ht,Ke){try{const qt=(yield tn()).transaction(Jr,"readwrite");return yield qt.objectStore(Jr).put(Ke,_r(ht)),qt.done}catch(bt){if(bt instanceof ae.ZR)G.warn(bt.message);else{const qt=Jn.create("idb-set",{originalErrorMessage:bt?.message});G.warn(qt.message)}}})).apply(this,arguments)}function _r(ht){return`${ht.name}!${ht.options.appId}`}class Zi{constructor(Ke){this.container=Ke,this._heartbeatsCache=null;const bt=this.container.getProvider("app").getImmediate();this._storage=new vn(bt),this._heartbeatsCachePromise=this._storage.read().then(qt=>(this._heartbeatsCache=qt,qt))}triggerHeartbeat(){var Ke=this;return(0,c.Z)(function*(){const qt=Ke.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),en=cn();if(null===Ke._heartbeatsCache&&(Ke._heartbeatsCache=yield Ke._heartbeatsCachePromise),Ke._heartbeatsCache.lastSentHeartbeatDate!==en&&!Ke._heartbeatsCache.heartbeats.some(In=>In.date===en))return Ke._heartbeatsCache.heartbeats.push({date:en,agent:qt}),Ke._heartbeatsCache.heartbeats=Ke._heartbeatsCache.heartbeats.filter(In=>{const ce=new Date(In.date).valueOf();return Date.now()-ce<=2592e6}),Ke._storage.overwrite(Ke._heartbeatsCache)})()}getHeartbeatsHeader(){var Ke=this;return(0,c.Z)(function*(){if(null===Ke._heartbeatsCache&&(yield Ke._heartbeatsCachePromise),null===Ke._heartbeatsCache||0===Ke._heartbeatsCache.heartbeats.length)return"";const bt=cn(),{heartbeatsToSend:qt,unsentEntries:en}=function po(ht,Ke=1024){const bt=[];let qt=ht.slice();for(const en of ht){const In=bt.find(ce=>ce.agent===en.agent);if(In){if(In.dates.push(en.date),Ti(bt)>Ke){In.dates.pop();break}}else if(bt.push({agent:en.agent,dates:[en.date]}),Ti(bt)>Ke){bt.pop();break}qt=qt.slice(1)}return{heartbeatsToSend:bt,unsentEntries:qt}}(Ke._heartbeatsCache.heartbeats),In=(0,ae.L)(JSON.stringify({version:2,heartbeats:qt}));return Ke._heartbeatsCache.lastSentHeartbeatDate=bt,en.length>0?(Ke._heartbeatsCache.heartbeats=en,yield Ke._storage.overwrite(Ke._heartbeatsCache)):(Ke._heartbeatsCache.heartbeats=[],Ke._storage.overwrite(Ke._heartbeatsCache)),In})()}}function cn(){return(new Date).toISOString().substring(0,10)}class vn{constructor(Ke){this.app=Ke,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ke=this;return(0,c.Z)(function*(){return(yield Ke._canUseIndexedDBPromise)&&(yield function Ft(ht){return Wt.apply(this,arguments)}(Ke.app))||{heartbeats:[]}})()}overwrite(Ke){var bt=this;return(0,c.Z)(function*(){var qt;if(yield bt._canUseIndexedDBPromise){const In=yield bt.read();return Wn(bt.app,{lastSentHeartbeatDate:null!==(qt=Ke.lastSentHeartbeatDate)&&void 0!==qt?qt:In.lastSentHeartbeatDate,heartbeats:Ke.heartbeats})}})()}add(Ke){var bt=this;return(0,c.Z)(function*(){var qt;if(yield bt._canUseIndexedDBPromise){const In=yield bt.read();return Wn(bt.app,{lastSentHeartbeatDate:null!==(qt=Ke.lastSentHeartbeatDate)&&void 0!==qt?qt:In.lastSentHeartbeatDate,heartbeats:[...In.heartbeats,...Ke.heartbeats]})}})()}}function Ti(ht){return(0,ae.L)(JSON.stringify({version:2,heartbeats:ht})).length}!function Pr(ht){mn(new M.wA("platform-logger",Ke=>new ee(Ke),"PRIVATE")),mn(new M.wA("heartbeat",Ke=>new Zi(Ke),"PRIVATE")),Xr(le,"0.9.0",ht),Xr(le,"0.9.0","esm2017"),Xr("fire-js","")}("")},4859:(de,te,R)=>{"use strict";R.d(te,{H0:()=>le,wA:()=>N});var c=R(5861),M=R(2090);class N{constructor(G,W,re){this.name=G,this.instanceFactory=W,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ae="[DEFAULT]";class ne{constructor(G,W){this.name=G,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const W=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(W)){const re=new M.BH;if(this.instancesDeferred.set(W,re),this.isInitialized(W)||this.shouldAutoInitialize())try{const Ae=this.getOrInitializeService({instanceIdentifier:W});Ae&&re.resolve(Ae)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(G){var W;const re=this.normalizeInstanceIdentifier(G?.identifier),Ae=null!==(W=G?.optional)&&void 0!==W&&W;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Fe){if(Ae)return null;throw Fe}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function he(se){return"EAGER"===se.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[W,re]of this.instancesDeferred.entries()){const Ae=this.normalizeInstanceIdentifier(W);try{const Fe=this.getOrInitializeService({instanceIdentifier:Ae});re.resolve(Fe)}catch{}}}}clearInstance(G=ae){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,c.Z)(function*(){const W=Array.from(G.instances.values());yield Promise.all([...W.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...W.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ae){return this.instances.has(G)}getOptions(G=ae){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:W={}}=G,re=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ae=this.getOrInitializeService({instanceIdentifier:re,options:W});for(const[Fe,Xe]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Fe)&&Xe.resolve(Ae);return Ae}onInit(G,W){var re;const Ae=this.normalizeInstanceIdentifier(W),Fe=null!==(re=this.onInitCallbacks.get(Ae))&&void 0!==re?re:new Set;Fe.add(G),this.onInitCallbacks.set(Ae,Fe);const Xe=this.instances.get(Ae);return Xe&&G(Xe,Ae),()=>{Fe.delete(G)}}invokeOnInitCallbacks(G,W){const re=this.onInitCallbacks.get(W);if(re)for(const Ae of re)try{Ae(G,W)}catch{}}getOrInitializeService({instanceIdentifier:G,options:W={}}){let re=this.instances.get(G);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(se=G,se===ae?void 0:se),options:W}),this.instances.set(G,re),this.instancesOptions.set(G,W),this.invokeOnInitCallbacks(re,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,re)}catch{}var se;return re||null}normalizeInstanceIdentifier(G=ae){return this.component?this.component.multipleInstances?G:ae:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const W=this.getProvider(G.name);if(W.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);W.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const W=new ne(G,this);return this.providers.set(G,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(de,te,R)=>{"use strict";R.d(te,{Am:()=>se,Ub:()=>le,Yd:()=>he,in:()=>M});const c=[];var M=(()=>{return(G=M||(M={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",M;var G})();const N={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},ae=M.INFO,ne={[M.DEBUG]:"log",[M.VERBOSE]:"log",[M.INFO]:"info",[M.WARN]:"warn",[M.ERROR]:"error"},ee=(G,W,...re)=>{if(W<G.logLevel)return;const Ae=(new Date).toISOString(),Fe=ne[W];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Fe](`[${Ae}]  ${G.name}:`,...re)};class he{constructor(W){this.name=W,this._logLevel=ae,this._logHandler=ee,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in M))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?N[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...W),this._logHandler(this,M.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...W),this._logHandler(this,M.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,M.INFO,...W),this._logHandler(this,M.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,M.WARN,...W),this._logHandler(this,M.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,M.ERROR,...W),this._logHandler(this,M.ERROR,...W)}}function le(G){c.forEach(W=>{W.setLogLevel(G)})}function se(G,W){for(const re of c){let Ae=null;W&&W.level&&(Ae=N[W.level]),re.userLogHandler=null===G?null:(Fe,Xe,...ot)=>{const ke=ot.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");Xe>=(Ae??Fe.logLevel)&&G({level:M[Xe].toLowerCase(),message:ke,args:ot,type:Fe.name})}}}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(te,R){if(this.action=te,this.timestamp=R,this.type=PERFORM_ACTION,typeof te.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(te){this.timestamp=te,this.type=RESET}}class Rollback{constructor(te){this.timestamp=te,this.type=ROLLBACK}}class Commit{constructor(te){this.timestamp=te,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(te){this.id=te,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(te,R,c=!0){this.start=te,this.end=R,this.active=c,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(te){this.index=te,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(te){this.actionId=te,this.type=JUMP_TO_ACTION}}class ImportState{constructor(te){this.nextLiftedState=te,this.type=IMPORT_STATE}}class LockChanges{constructor(te){this.status=te,this.type=LOCK_CHANGES}}class PauseRecording{constructor(te){this.status=te,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(de){const te={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},R="function"==typeof de?de():de,N=Object.assign({},te,{features:R.features||!!R.logOnly&&{pause:!0,export:!0,test:!0}||te.features},R);if(N.maxAge&&N.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${N.maxAge}`);return N}function difference(de,te){return de.filter(R=>te.indexOf(R)<0)}function unliftState(de){const{computedStates:te,currentStateIndex:R}=de;if(R>=te.length){const{state:M}=te[te.length-1];return M}const{state:c}=te[R];return c}function unliftAction(de){return de.actionsById[de.nextActionId-1]}function liftAction(de){return new PerformAction(de,+Date.now())}function sanitizeActions(de,te){return Object.keys(te).reduce((R,c)=>{const M=Number(c);return R[M]=sanitizeAction(de,te[M],M),R},{})}function sanitizeAction(de,te,R){return{...te,action:de(te.action,R)}}function sanitizeStates(de,te){return te.map((R,c)=>({state:sanitizeState(de,R.state,c),error:R.error}))}function sanitizeState(de,te,R){return de(te,R)}function shouldFilterActions(de){return de.predicate||de.actionsSafelist||de.actionsBlocklist}function filterLiftedState(de,te,R,c){const M=[],N={},ae=[];return de.stagedActionIds.forEach((ne,ee)=>{const he=de.actionsById[ne];!he||ee&&isActionFiltered(de.computedStates[ee],he,te,R,c)||(N[ne]=he,M.push(ne),ae.push(de.computedStates[ee]))}),{...de,stagedActionIds:M,actionsById:N,computedStates:ae}}function isActionFiltered(de,te,R,c,M){const N=R&&!R(de,te.action),ae=c&&!te.action.type.match(c.map(ee=>escapeRegExp(ee)).join("|")),ne=M&&te.action.type.match(M.map(ee=>escapeRegExp(ee)).join("|"));return N||ae||ne}function escapeRegExp(de){return de.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class de extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return de.\u0275fac=function(){let te;return function(c){return(te||(te=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(de)))(c||de)}}(),de.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:de,factory:de.\u0275fac}),de})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(de,te,R){this.config=te,this.dispatcher=R,this.devtoolsExtension=de,this.createActionStreams()}notify(de,te){if(this.devtoolsExtension)if(de.type===PERFORM_ACTION){if(te.isLocked||te.isPaused)return;const R=unliftState(te);if(shouldFilterActions(this.config)&&isActionFiltered(R,de,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const c=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,R,te.currentStateIndex):R,M=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,de,te.nextActionId):de;this.sendToReduxDevtools(()=>this.extensionConnection.send(M,c))}else{const R={...te,stagedActionIds:te.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,te.actionsById):te.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,te.computedStates):te.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,R,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(de=>{const te=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=te,te.init(),te.subscribe(R=>de.next(R)),te.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const de=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),te=de.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ne=>ne.type===ExtensionActionTypes.START)),R=de.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ne=>ne.type===ExtensionActionTypes.STOP)),c=de.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ne=>ne.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ne=>this.unwrapAction(ne.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(ne=>ne.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>ne),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(ne)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(ne))),N=de.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ne=>ne.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ne=>this.unwrapAction(ne.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(R)),ae=c.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(R));this.start$=te.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(R)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>N)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ae))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(de){const te={name:de.name,features:de.features,serialize:de.serialize,autoPause:de.autoPause??!1,trace:de.trace??!1,traceLimit:de.traceLimit??75};return!1!==de.maxAge&&(te.maxAge=de.maxAge),te}sendToReduxDevtools(de){try{de()}catch(te){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",te)}}}return DevtoolsExtension.\u0275fac=function de(te){return new(te||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(de,te,R,c,M){if(c)return{state:R,error:"Interrupted by an error up the chain"};let ae,N=R;try{N=de(R,te)}catch(ne){ae=ne.toString(),M.handleError(ne)}return{state:N,error:ae}}function recomputeStates(de,te,R,c,M,N,ae,ne,ee){if(te>=de.length&&de.length===N.length)return de;const he=de.slice(0,te),le=N.length-(ee?1:0);for(let se=te;se<le;se++){const G=N[se],W=M[G].action,re=he[se-1],Ae=re?re.state:c,Fe=re?re.error:void 0,ot=ae.indexOf(G)>-1?re:computeNextEntry(R,W,Ae,Fe,ne);he.push(ot)}return ee&&he.push(de[de.length-1]),he}function liftInitialState(de,te){return{monitorState:te(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:de,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(de,te,R,c,M={}){return N=>(ae,ne)=>{let{monitorState:ee,actionsById:he,nextActionId:le,stagedActionIds:se,skippedActionIds:G,committedState:W,currentStateIndex:re,computedStates:Ae,isLocked:Fe,isPaused:Xe}=ae||te;function ot(Pe){let Be=Pe,je=se.slice(1,Be+1);for(let $e=0;$e<je.length;$e++){if(Ae[$e+1].error){Be=$e,je=se.slice(1,Be+1);break}delete he[je[$e]]}G=G.filter($e=>-1===je.indexOf($e)),se=[0,...se.slice(Be+1)],W=Ae[Be].state,Ae=Ae.slice(Be),re=re>Be?re-Be:0}function ke(){he={0:liftAction(INIT_ACTION)},le=1,se=[0],G=[],W=Ae[re].state,re=0,Ae=[]}ae||(he=Object.create(he));let Ne=0;switch(ne.type){case LOCK_CHANGES:Fe=ne.status,Ne=1/0;break;case PAUSE_RECORDING:Xe=ne.status,Xe?(se=[...se,le],he[le]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),le++,Ne=se.length-1,Ae=Ae.concat(Ae[Ae.length-1]),re===se.length-2&&re++,Ne=1/0):ke();break;case RESET:he={0:liftAction(INIT_ACTION)},le=1,se=[0],G=[],W=de,re=0,Ae=[];break;case COMMIT:ke();break;case ROLLBACK:he={0:liftAction(INIT_ACTION)},le=1,se=[0],G=[],re=0,Ae=[];break;case TOGGLE_ACTION:{const{id:Pe}=ne;G=-1===G.indexOf(Pe)?[Pe,...G]:G.filter(je=>je!==Pe),Ne=se.indexOf(Pe);break}case SET_ACTIONS_ACTIVE:{const{start:Pe,end:Be,active:je}=ne,$e=[];for(let ze=Pe;ze<Be;ze++)$e.push(ze);G=je?difference(G,$e):[...G,...$e],Ne=se.indexOf(Pe);break}case JUMP_TO_STATE:re=ne.index,Ne=1/0;break;case JUMP_TO_ACTION:{const Pe=se.indexOf(ne.actionId);-1!==Pe&&(re=Pe),Ne=1/0;break}case SWEEP:se=difference(se,G),G=[],re=Math.min(re,se.length-1);break;case PERFORM_ACTION:{if(Fe)return ae||te;if(Xe||ae&&isActionFiltered(ae.computedStates[re],ne,M.predicate,M.actionsSafelist,M.actionsBlocklist)){const Be=Ae[Ae.length-1];Ae=[...Ae.slice(0,-1),computeNextEntry(N,ne.action,Be.state,Be.error,R)],Ne=1/0;break}M.maxAge&&se.length===M.maxAge&&ot(1),re===se.length-1&&re++;const Pe=le++;he[Pe]=ne,se=[...se,Pe],Ne=se.length-1;break}case IMPORT_STATE:({monitorState:ee,actionsById:he,nextActionId:le,stagedActionIds:se,skippedActionIds:G,committedState:W,currentStateIndex:re,computedStates:Ae,isLocked:Fe,isPaused:Xe}=ne.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:Ne=0,M.maxAge&&se.length>M.maxAge&&(Ae=recomputeStates(Ae,Ne,N,W,he,se,G,R,Xe),ot(se.length-M.maxAge),Ne=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Ae.filter(Be=>Be.error).length>0)Ne=0,M.maxAge&&se.length>M.maxAge&&(Ae=recomputeStates(Ae,Ne,N,W,he,se,G,R,Xe),ot(se.length-M.maxAge),Ne=1/0);else{if(!Xe&&!Fe){re===se.length-1&&re++;const Be=le++;he[Be]=new PerformAction(ne,+Date.now()),se=[...se,Be],Ne=se.length-1,Ae=recomputeStates(Ae,Ne,N,W,he,se,G,R,Xe)}Ae=Ae.map(Be=>({...Be,state:N(Be.state,RECOMPUTE_ACTION)})),re=se.length-1,M.maxAge&&se.length>M.maxAge&&ot(se.length-M.maxAge),Ne=1/0}break;default:Ne=1/0}return Ae=recomputeStates(Ae,Ne,N,W,he,se,G,R,Xe),ee=c(ee,ne),{monitorState:ee,actionsById:he,nextActionId:le,stagedActionIds:se,skippedActionIds:G,committedState:W,currentStateIndex:re,computedStates:Ae,isLocked:Fe,isPaused:Xe}}}let StoreDevtools=(()=>{class de{constructor(R,c,M,N,ae,ne,ee,he){const le=liftInitialState(ee,he.monitor),se=liftReducerWith(ee,le,ne,he.monitor,he),G=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(c.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),N.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),R,N.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),W=M.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(se)),re=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Ae=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(W),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:ke},[Ne,Pe])=>{let Be=Pe(ke,Ne);return Ne.type!==PERFORM_ACTION&&shouldFilterActions(he)&&(Be=filterLiftedState(Be,he.predicate,he.actionsSafelist,he.actionsBlocklist)),N.notify(Ne,Be),{state:Be,action:Ne}},{state:le,action:null})).subscribe(({state:ke,action:Ne})=>{re.next(ke),Ne.type===PERFORM_ACTION&&ae.next(Ne.action)}),Fe=N.start$.subscribe(()=>{this.refresh()}),Xe=re.asObservable(),ot=Xe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Fe,this.stateSubscription=Ae,this.dispatcher=R,this.liftedState=Xe,this.state=ot}dispatch(R){this.dispatcher.next(R)}next(R){this.dispatcher.next(R)}error(R){}complete(){}performAction(R){this.dispatch(new PerformAction(R,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(R){this.dispatch(new ToggleAction(R))}jumpToAction(R){this.dispatch(new JumpToAction(R))}jumpToState(R){this.dispatch(new JumpToState(R))}importState(R){this.dispatch(new ImportState(R))}lockChanges(R){this.dispatch(new LockChanges(R))}pauseRecording(R){this.dispatch(new PauseRecording(R))}}return de.\u0275fac=function(R){return new(R||de)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},de.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:de,factory:de.\u0275fac}),de})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(de,te){return Boolean(de)||te.monitor!==noMonitor}function createReduxDevtoolsExtension(){const de="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[de]<"u"?window[de]:null}function provideStoreDevtools(de={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:de},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(de){return de.state}let StoreDevtoolsModule=(()=>{class de{static instrument(R={}){return{ngModule:de,providers:[provideStoreDevtools(R)]}}}return de.\u0275fac=function(R){return new(R||de)},de.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:de}),de.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),de})()},9653:(de,te,R)=>{"use strict";R.d(te,{UO:()=>at,qg:()=>ze,Y6:()=>ge,mK:()=>Xr,n$:()=>Gn,Y$:()=>ir,FR:()=>jr,yh:()=>Wn,CK:()=>fa,Aw:()=>ls,cr:()=>cs,wb:()=>Ct,PH:()=>Fe,Tz:()=>dr,ZF:()=>_t,Lq:()=>Ha,P1:()=>Me,on:()=>$r,Ky:()=>Xe});var c=R(4650),M=R(1135),N=R(9751),ae=R(7579),ne=R(233),ee=R(5363),he=R(1365),le=R(5026),se=R(4004),W=R(1884);const re={};function Fe(K,Ce){if(re[K]=(re[K]||0)+1,"function"==typeof Ce)return ke(K,(...Oe)=>({...Ce(...Oe),type:K}));switch(Ce?Ce._as:"empty"){case"empty":return ke(K,()=>({type:K}));case"props":return ke(K,Oe=>({...Oe,type:K}));default:throw new Error("Unexpected config.")}}function Xe(){return{_as:"props",_p:void 0}}function ke(K,Ce){return Object.defineProperty(Ce,"type",{value:K,writable:!1})}function Ne(K){return K.charAt(0).toUpperCase()+K.substring(1)}const ze="@ngrx/store/init";let at=(()=>{class K extends M.X{constructor(){super({type:ze})}next(ve){if("function"==typeof ve)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof ve>"u")throw new TypeError("Actions must be objects");if(typeof ve.type>"u")throw new TypeError("Actions must have a type property");super.next(ve)}complete(){}ngOnDestroy(){super.complete()}}return K.\u0275fac=function(ve){return new(ve||K)},K.\u0275prov=c.Yz7({token:K,factory:K.\u0275fac}),K})();const be=[at],Re=new c.OlP("@ngrx/store Internal Root Guard"),Ge=new c.OlP("@ngrx/store Internal Initial State"),ge=new c.OlP("@ngrx/store Initial State"),ye=new c.OlP("@ngrx/store Reducer Factory"),Le=new c.OlP("@ngrx/store Internal Reducer Factory Provider"),Te=new c.OlP("@ngrx/store Initial Reducers"),lt=new c.OlP("@ngrx/store Internal Initial Reducers"),it=new c.OlP("@ngrx/store Store Features"),kt=new c.OlP("@ngrx/store Internal Store Reducers"),Hn=new c.OlP("@ngrx/store Internal Feature Reducers"),$n=new c.OlP("@ngrx/store Internal Feature Configs"),Lt=new c.OlP("@ngrx/store Internal Store Features"),yn=new c.OlP("@ngrx/store Internal Feature Reducers Token"),jt=new c.OlP("@ngrx/store Feature Reducers"),jn=new c.OlP("@ngrx/store User Provided Meta Reducers"),ur=new c.OlP("@ngrx/store Meta Reducers"),mn=new c.OlP("@ngrx/store Internal Resolved Meta Reducers"),Gt=new c.OlP("@ngrx/store User Runtime Checks Config"),yi=new c.OlP("@ngrx/store Internal User Runtime Checks Config"),kr=new c.OlP("@ngrx/store Internal Runtime Checks"),Vr=new c.OlP("@ngrx/store Check if Action types are unique");function Mo(K,Ce={}){const ve=Object.keys(K),Oe={};for(let mt=0;mt<ve.length;mt++){const Fn=ve[mt];"function"==typeof K[Fn]&&(Oe[Fn]=K[Fn])}const nt=Object.keys(Oe);return function(Fn,hr){Fn=void 0===Fn?Ce:Fn;let fr=!1;const Lr={};for(let Sn=0;Sn<nt.length;Sn++){const er=nt[Sn],Yi=Fn[er],Ri=(0,Oe[er])(Yi,hr);Lr[er]=Ri,fr=fr||Ri!==Yi}return fr?Lr:Fn}}function gr(...K){return function(Ce){if(0===K.length)return Ce;const ve=K[K.length-1];return K.slice(0,-1).reduceRight((nt,mt)=>mt(nt),ve(Ce))}}function Ki(K,Ce){return Array.isArray(Ce)&&Ce.length>0&&(K=gr.apply(null,[...Ce,K])),(ve,Oe)=>{const nt=K(ve);return(mt,Fn)=>nt(mt=void 0===mt?Oe:mt,Fn)}}new c.OlP("@ngrx/store Root Store Provider"),new c.OlP("@ngrx/store Feature State Provider");class Gn extends N.y{}class Xr extends at{}const Ct="@ngrx/store/update-reducers";let Zn=(()=>{class K extends M.X{constructor(ve,Oe,nt,mt){super(mt(nt,Oe)),this.dispatcher=ve,this.initialState=Oe,this.reducers=nt,this.reducerFactory=mt}get currentReducers(){return this.reducers}addFeature(ve){this.addFeatures([ve])}addFeatures(ve){const Oe=ve.reduce((nt,{reducers:mt,reducerFactory:Fn,metaReducers:hr,initialState:fr,key:Lr})=>{const Sn="function"==typeof mt?function Qr(K){const Ce=Array.isArray(K)&&K.length>0?gr(...K):ve=>ve;return(ve,Oe)=>(ve=Ce(ve),(nt,mt)=>ve(nt=void 0===nt?Oe:nt,mt))}(hr)(mt,fr):Ki(Fn,hr)(mt,fr);return nt[Lr]=Sn,nt},{});this.addReducers(Oe)}removeFeature(ve){this.removeFeatures([ve])}removeFeatures(ve){this.removeReducers(ve.map(Oe=>Oe.key))}addReducer(ve,Oe){this.addReducers({[ve]:Oe})}addReducers(ve){this.reducers={...this.reducers,...ve},this.updateReducers(Object.keys(ve))}removeReducer(ve){this.removeReducers([ve])}removeReducers(ve){ve.forEach(Oe=>{this.reducers=function Rr(K,Ce){return Object.keys(K).filter(ve=>ve!==Ce).reduce((ve,Oe)=>Object.assign(ve,{[Oe]:K[Oe]}),{})}(this.reducers,Oe)}),this.updateReducers(ve)}updateReducers(ve){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Ct,features:ve})}ngOnDestroy(){this.complete()}}return K.\u0275fac=function(ve){return new(ve||K)(c.LFG(Xr),c.LFG(ge),c.LFG(Te),c.LFG(ye))},K.\u0275prov=c.Yz7({token:K,factory:K.\u0275fac}),K})();const Hr=[Zn,{provide:Gn,useExisting:Zn},{provide:Xr,useExisting:at}];let ir=(()=>{class K extends ae.x{ngOnDestroy(){this.complete()}}return K.\u0275fac=function(){let Ce;return function(Oe){return(Ce||(Ce=c.n5z(K)))(Oe||K)}}(),K.\u0275prov=c.Yz7({token:K,factory:K.\u0275fac}),K})();const Jr=[ir];class jr extends N.y{}let tn=(()=>{class K extends M.X{constructor(ve,Oe,nt,mt){super(mt);const Lr=ve.pipe((0,ee.Q)(ne.N)).pipe((0,he.M)(Oe)).pipe((0,le.R)(Ft,{state:mt}));this.stateSubscription=Lr.subscribe(({state:Sn,action:er})=>{this.next(Sn),nt.next(er)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return K.INIT=ze,K.\u0275fac=function(ve){return new(ve||K)(c.LFG(at),c.LFG(Gn),c.LFG(ir),c.LFG(ge))},K.\u0275prov=c.Yz7({token:K,factory:K.\u0275fac}),K})();function Ft(K={state:void 0},[Ce,ve]){const{state:Oe}=K;return{state:ve(Oe,Ce),action:Ce}}const Wt=[tn,{provide:jr,useExisting:tn}];let Wn=(()=>{class K extends N.y{constructor(ve,Oe,nt){super(),this.actionsObserver=Oe,this.reducerManager=nt,this.source=ve}select(ve,...Oe){return _r.call(null,ve,...Oe)(this)}lift(ve){const Oe=new K(this,this.actionsObserver,this.reducerManager);return Oe.operator=ve,Oe}dispatch(ve){this.actionsObserver.next(ve)}next(ve){this.actionsObserver.next(ve)}error(ve){this.actionsObserver.error(ve)}complete(){this.actionsObserver.complete()}addReducer(ve,Oe){this.reducerManager.addReducer(ve,Oe)}removeReducer(ve){this.reducerManager.removeReducer(ve)}}return K.\u0275fac=function(ve){return new(ve||K)(c.LFG(jr),c.LFG(at),c.LFG(Zn))},K.\u0275prov=c.Yz7({token:K,factory:K.\u0275fac}),K})();const zr=[Wn];function _r(K,Ce,...ve){return function(nt){let mt;if("string"==typeof K){const Fn=[Ce,...ve].filter(Boolean);mt=nt.pipe(function G(...K){const Ce=K.length;if(0===Ce)throw new Error("list of properties cannot be empty.");return(0,se.U)(ve=>{let Oe=ve;for(let nt=0;nt<Ce;nt++){const mt=Oe?.[K[nt]];if(!(typeof mt<"u"))return;Oe=mt}return Oe})}(K,...Fn))}else{if("function"!=typeof K)throw new TypeError(`Unexpected type '${typeof K}' in select operator, expected 'string' or 'function'`);mt=nt.pipe((0,se.U)(Fn=>K(Fn,Ce)))}return mt.pipe((0,W.x)())}}const hi="https://ngrx.io/guide/store/configuration/runtime-checks";function Or(K){return void 0===K}function Zi(K){return null===K}function cn(K){return Array.isArray(K)}function Pr(K){return"object"==typeof K&&null!==K}function Ke(K){if(!function ht(K){return Pr(K)&&!cn(K)}(K))return!1;const Ce=Object.getPrototypeOf(K);return Ce===Object.prototype||null===Ce}function bt(K){return"function"==typeof K}function fe(K,Ce){return K===Ce}function X(K,Ce,ve){for(let Oe=0;Oe<K.length;Oe++)if(!ve(K[Oe],Ce[Oe]))return!0;return!1}function q(K,Ce=fe,ve=fe){let mt,Oe=null,nt=null;return{memoized:function Lr(){if(void 0!==mt)return mt.result;if(!Oe)return nt=K.apply(null,arguments),Oe=arguments,nt;if(!X(arguments,Oe,Ce))return nt;const Sn=K.apply(null,arguments);return Oe=arguments,ve(nt,Sn)?nt:(nt=Sn,Sn)},reset:function Fn(){Oe=null,nt=null},setResult:function hr(Sn){mt={result:Sn}},clearResult:function fr(){mt=void 0}}}function Me(...K){return function Rt(K,Ce={stateFn:tt}){return function(...ve){let Oe=ve;if(Array.isArray(Oe[0])){const[Sn,...er]=Oe;Oe=[...Sn,...er]}else 1===Oe.length&&function ln(K){return!!K&&"object"==typeof K&&Object.values(K).every(Ce=>"function"==typeof Ce)}(Oe[0])&&(Oe=function Bt(K){const Ce=Object.values(K),ve=Object.keys(K);return[...Ce,(...nt)=>ve.reduce((mt,Fn,hr)=>({...mt,[Fn]:nt[hr]}),{})]}(Oe[0]));const nt=Oe.slice(0,Oe.length-1),mt=Oe[Oe.length-1],Fn=nt.filter(Sn=>Sn.release&&"function"==typeof Sn.release),hr=K(function(...Sn){return mt.apply(null,Sn)}),fr=q(function(Sn,er){return Ce.stateFn.apply(null,[Sn,nt,er,hr])});return Object.assign(fr.memoized,{release:function Lr(){fr.reset(),hr.reset(),Fn.forEach(Sn=>Sn.release())},projector:hr.memoized,setResult:fr.setResult,clearResult:fr.clearResult})}}(q)(...K)}function tt(K,Ce,ve,Oe){if(void 0===ve){const mt=Ce.map(Fn=>Fn(K));return Oe.memoized.apply(null,mt)}const nt=Ce.map(mt=>mt(K,ve));return Oe.memoized.apply(null,[...nt,ve])}function _t(K){return Me(Ce=>{const ve=Ce[K];return(0,c.X6Q)()&&!(K in Ce)&&console.warn(`@ngrx/store: The feature name "${K}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${K}', ...) or StoreModule.forFeature('${K}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),ve},Ce=>Ce)}function dr(K){const{name:Ce,reducer:ve}=K,Oe=_t(Ce),nt=function fi(K,Ce){const ve=function on(K){return K(void 0,{type:"@ngrx/feature/init"})}(Ce);return(Ke(ve)?Object.keys(ve):[]).reduce((nt,mt)=>({...nt,[`select${Ne(mt)}`]:Me(K,Fn=>Fn?.[mt])}),{})}(Oe,ve);return{name:Ce,reducer:ve,[`select${Ne(Ce)}State`]:Oe,...nt}}function Ai(K){return K instanceof c.OlP?(0,c.f3M)(K):K}function wc(K,Ce){return Ce.map((ve,Oe)=>{if(K[Oe]instanceof c.OlP){const nt=(0,c.f3M)(K[Oe]);return{key:ve.key,reducerFactory:nt.reducerFactory?nt.reducerFactory:Mo,metaReducers:nt.metaReducers?nt.metaReducers:[],initialState:nt.initialState}}return ve})}function la(K){return K.map(Ce=>Ce instanceof c.OlP?(0,c.f3M)(Ce):Ce)}function Va(K){return"function"==typeof K?K():K}function al(K,Ce){return K.concat(Ce)}function pi(){if((0,c.f3M)(Wn,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function xc(K){Object.freeze(K);const Ce=bt(K);return Object.getOwnPropertyNames(K).forEach(ve=>{if(!ve.startsWith("\u0275")&&function en(K,Ce){return Object.prototype.hasOwnProperty.call(K,Ce)}(K,ve)&&(!Ce||"caller"!==ve&&"callee"!==ve&&"arguments"!==ve)){const Oe=K[ve];(Pr(Oe)||bt(Oe))&&!Object.isFrozen(Oe)&&xc(Oe)}}),K}function ha(K,Ce=[]){return(Or(K)||Zi(K))&&0===Ce.length?{path:["root"],value:K}:Object.keys(K).reduce((Oe,nt)=>{if(Oe)return Oe;const mt=K[nt];return function qt(K){return bt(K)&&K.hasOwnProperty("\u0275cmp")}(mt)?Oe:!(Or(mt)||Zi(mt)||function Ti(K){return"number"==typeof K}(mt)||function vn(K){return"boolean"==typeof K}(mt)||function po(K){return"string"==typeof K}(mt)||cn(mt))&&(Ke(mt)?ha(mt,[...Ce,nt]):{path:[...Ce,nt],value:mt})},!1)}function Zo(K,Ce){if(!1===K)return;const ve=K.path.join("."),Oe=new Error(`Detected unserializable ${Ce} at "${ve}". ${hi}#strict${Ce}serializability`);throw Oe.value=K.value,Oe.unserializablePath=ve,Oe}function Er(K){return(0,c.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...K}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function vi({strictActionSerializability:K,strictStateSerializability:Ce}){return ve=>K||Ce?function da(K,Ce){return function(ve,Oe){Ce.action(Oe)&&Zo(ha(Oe),"action");const nt=K(ve,Oe);return Ce.state()&&Zo(ha(nt),"state"),nt}}(ve,{action:Oe=>K&&!ii(Oe),state:()=>Ce}):ve}function Fr({strictActionImmutability:K,strictStateImmutability:Ce}){return ve=>K||Ce?function ua(K,Ce){return function(ve,Oe){const nt=Ce.action(Oe)?xc(Oe):Oe,mt=K(ve,nt);return Ce.state()?xc(mt):mt}}(ve,{action:Oe=>K&&!ii(Oe),state:()=>Ce}):ve}function ii(K){return K.type.startsWith("@ngrx")}function mo({strictActionWithinNgZone:K}){return Ce=>K?function qn(K,Ce){return function(ve,Oe){if(Ce.action(Oe)&&!c.R0b.isInAngularZone())throw new Error(`Action '${Oe.type}' running outside NgZone. ${hi}#strictactionwithinngzone`);return K(ve,Oe)}}(Ce,{action:ve=>K&&!ii(ve)}):Ce}function St(K){return[{provide:yi,useValue:K},{provide:Gt,useFactory:wr,deps:[yi]},{provide:kr,deps:[Gt],useFactory:Er},{provide:ur,multi:!0,deps:[kr],useFactory:Fr},{provide:ur,multi:!0,deps:[kr],useFactory:vi},{provide:ur,multi:!0,deps:[kr],useFactory:mo}]}function sn(){return[{provide:Vr,multi:!0,deps:[kr],useFactory:Mi}]}function wr(K){return K}function Mi(K){if(!K.strictActionTypeUniqueness)return;const Ce=Object.entries(re).filter(([,ve])=>ve>1).map(([ve])=>ve);if(Ce.length)throw new Error(`Action types are registered more than once, ${Ce.map(ve=>`"${ve}"`).join(", ")}. ${hi}#strictactiontypeuniqueness`)}function Nr(K={},Ce={}){return[{provide:Re,useFactory:pi},{provide:Ge,useValue:Ce.initialState},{provide:ge,useFactory:Va,deps:[Ge]},{provide:lt,useValue:K},{provide:kt,useExisting:K instanceof c.OlP?K:lt},{provide:Te,deps:[lt,[new c.tBr(kt)]],useFactory:Ai},{provide:jn,useValue:Ce.metaReducers?Ce.metaReducers:[]},{provide:mn,deps:[ur,jn],useFactory:al},{provide:Le,useValue:Ce.reducerFactory?Ce.reducerFactory:Mo},{provide:ye,deps:[Le,mn],useFactory:Ki},be,Hr,Jr,Wt,zr,St(Ce.runtimeChecks),sn()]}function ko(K,Ce,ve={}){return[{provide:$n,multi:!0,useValue:K instanceof Object?{}:ve},{provide:it,multi:!0,useValue:{key:K instanceof Object?K.name:K,reducerFactory:ve instanceof c.OlP||!ve.reducerFactory?Mo:ve.reducerFactory,metaReducers:ve instanceof c.OlP||!ve.metaReducers?[]:ve.metaReducers,initialState:ve instanceof c.OlP||!ve.initialState?void 0:ve.initialState}},{provide:Lt,deps:[$n,it],useFactory:wc},{provide:Hn,multi:!0,useValue:K instanceof Object?K.reducer:Ce},{provide:yn,multi:!0,useExisting:Ce instanceof c.OlP?Ce:Hn},{provide:jt,multi:!0,deps:[Hn,[new c.tBr(yn)]],useFactory:la},sn()]}let cs=(()=>{class K{constructor(ve,Oe,nt,mt,Fn,hr){}}return K.\u0275fac=function(ve){return new(ve||K)(c.LFG(at),c.LFG(Gn),c.LFG(ir),c.LFG(Wn),c.LFG(Re,8),c.LFG(Vr,8))},K.\u0275mod=c.oAB({type:K}),K.\u0275inj=c.cJS({}),K})(),fa=(()=>{class K{constructor(ve,Oe,nt,mt,Fn){this.features=ve,this.featureReducers=Oe,this.reducerManager=nt;const hr=ve.map((fr,Lr)=>{const er=Oe.shift()[Lr];return{...fr,reducers:er,initialState:Va(fr.initialState)}});nt.addFeatures(hr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return K.\u0275fac=function(ve){return new(ve||K)(c.LFG(Lt),c.LFG(jt),c.LFG(Zn),c.LFG(cs),c.LFG(Vr,8))},K.\u0275mod=c.oAB({type:K}),K.\u0275inj=c.cJS({}),K})(),ls=(()=>{class K{static forRoot(ve,Oe){return{ngModule:cs,providers:[...Nr(ve,Oe)]}}static forFeature(ve,Oe,nt={}){return{ngModule:fa,providers:[...ko(ve,Oe,nt)]}}}return K.\u0275fac=function(ve){return new(ve||K)},K.\u0275mod=c.oAB({type:K}),K.\u0275inj=c.cJS({}),K})();function $r(...K){return{reducer:K.pop(),types:K.map(Oe=>Oe.type)}}function Ha(K,...Ce){const ve=new Map;for(const Oe of Ce)for(const nt of Oe.types){const mt=ve.get(nt);ve.set(nt,mt?(hr,fr)=>Oe.reducer(mt(hr,fr),fr):Oe.reducer)}return function(Oe=K,nt){const mt=ve.get(nt.type);return mt?mt(Oe,nt):Oe}}},259:(de,te,R)=>{"use strict";R.d(te,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=R(9681);(0,c.registerVersion)("firebase","9.15.0","app")},9260:(de,te,R)=>{"use strict";R.d(te,{Z:()=>c.Z});var c=R(3942);c.Z.registerVersion("firebase","9.15.0","app-compat")},9568:(de,te,R)=>{"use strict";R.r(te);var c=R(5861),M=R(3942),N=R(552),ae=R(2090),he=(R(9681),R(1877),R(4859));function le(){return window}function W(){return(W=(0,c.Z)(function*(X,V,q){var Me;const{BuildInfo:tt}=le();(0,N.ap)(V.sessionId,"AuthEvent did not contain a session ID");const Rt=yield Ne(V.sessionId),_t={};return(0,N.aq)()?_t.ibi=tt.packageName:(0,N.ar)()?_t.apn=tt.packageName:(0,N.as)(X,"operation-not-supported-in-this-environment"),tt.displayName&&(_t.appDisplayName=tt.displayName),_t.sessionId=Rt,(0,N.at)(X,q,V.type,void 0,null!==(Me=V.eventId)&&void 0!==Me?Me:void 0,_t)})).apply(this,arguments)}function Ae(){return(Ae=(0,c.Z)(function*(X){const{BuildInfo:V}=le(),q={};(0,N.aq)()?q.iosBundleId=V.packageName:(0,N.ar)()?q.androidPackageName=V.packageName:(0,N.as)(X,"operation-not-supported-in-this-environment"),yield(0,N.au)(X,q)})).apply(this,arguments)}function ot(){return(ot=(0,c.Z)(function*(X,V,q){const{cordova:Me}=le();let tt=()=>{};try{yield new Promise((Rt,_t)=>{let ln=null;function Bt(){var on;Rt();const Ai=null===(on=Me.plugins.browsertab)||void 0===on?void 0:on.close;"function"==typeof Ai&&Ai(),"function"==typeof q?.close&&q.close()}function dr(){ln||(ln=window.setTimeout(()=>{_t((0,N.aw)(X,"redirect-cancelled-by-user"))},2e3))}function fi(){"visible"===document?.visibilityState&&dr()}V.addPassiveListener(Bt),document.addEventListener("resume",dr,!1),(0,N.ar)()&&document.addEventListener("visibilitychange",fi,!1),tt=()=>{V.removePassiveListener(Bt),document.removeEventListener("resume",dr,!1),document.removeEventListener("visibilitychange",fi,!1),ln&&window.clearTimeout(ln)}})}finally{tt()}})).apply(this,arguments)}function Ne(X){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,c.Z)(function*(X){const V=Be(X),q=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(q)).map(tt=>tt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Be(X){if((0,N.ap)(/[0-9a-zA-Z]+/.test(X),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(X);const V=new ArrayBuffer(X.length),q=new Uint8Array(V);for(let Me=0;Me<X.length;Me++)q[Me]=X.charCodeAt(Me);return q}class $e extends N.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(V)),super.onEvent(V)}initialized(){var V=this;return(0,c.Z)(function*(){yield V.initPromise})()}}function be(X){return Re.apply(this,arguments)}function Re(){return(Re=(0,c.Z)(function*(X){const V=yield ye()._get(Le(X));return V&&(yield ye()._remove(Le(X))),V})).apply(this,arguments)}function ge(){const X=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let q=0;q<20;q++){const Me=Math.floor(Math.random()*V.length);X.push(V.charAt(Me))}return X.join("")}function ye(){return(0,N.az)(N.b)}function Le(X){return(0,N.aA)("authEvent",X.config.apiKey,X.name)}function it(X){if(!X?.includes("?"))return{};const[V,...q]=X.split("?");return(0,ae.zd)(q.join("?"))}const $n=class Hn{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(V){var q=this;return(0,c.Z)(function*(){const Me=V._key();let tt=q.eventManagers.get(Me);return tt||(tt=new $e(V),q.eventManagers.set(Me,tt),q.attachCallbackListeners(V,tt)),tt})()}_openPopup(V){(0,N.as)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,q,Me,tt){var Rt=this;return(0,c.Z)(function*(){!function ke(X){var V,q,Me,tt,Rt,_t,ln,Bt,dr,fi;const on=le();(0,N.ax)("function"==typeof(null===(V=on?.universalLinks)||void 0===V?void 0:V.subscribe),X,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.ax)(typeof(null===(q=on?.BuildInfo)||void 0===q?void 0:q.packageName)<"u",X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.ax)("function"==typeof(null===(Rt=null===(tt=null===(Me=on?.cordova)||void 0===Me?void 0:Me.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===Rt?void 0:Rt.openUrl),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(Bt=null===(ln=null===(_t=on?.cordova)||void 0===_t?void 0:_t.plugins)||void 0===ln?void 0:ln.browsertab)||void 0===Bt?void 0:Bt.isAvailable),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(fi=null===(dr=on?.cordova)||void 0===dr?void 0:dr.InAppBrowser)||void 0===fi?void 0:fi.open),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const _t=yield Rt._initialize(V);yield _t.initialized(),_t.resetRedirect(),(0,N.aD)(),yield Rt._originValidation(V);const ln=function ze(X,V,q=null){return{type:V,eventId:q,urlResponse:null,sessionId:ge(),postBody:null,tenantId:X.tenantId,error:(0,N.aw)(X,"no-auth-event")}}(V,Me,tt);yield function at(X,V){return ye()._set(Le(X),V)}(V,ln);const Bt=yield function G(X,V,q){return W.apply(this,arguments)}(V,ln,q),dr=yield function Fe(X){const{cordova:V}=le();return new Promise(q=>{V.plugins.browsertab.isAvailable(Me=>{let tt=null;Me?V.plugins.browsertab.openUrl(X):tt=V.InAppBrowser.open(X,(0,N.av)()?"_blank":"_system","location=yes"),q(tt)})})}(Bt);return function Xe(X,V,q){return ot.apply(this,arguments)}(V,_t,dr)})()}_isIframeWebStorageSupported(V,q){throw new Error("Method not implemented.")}_originValidation(V){const q=V._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function re(X){return Ae.apply(this,arguments)}(V)),this.originValidationPromises[q]}attachCallbackListeners(V,q){const{universalLinks:Me,handleOpenURL:tt,BuildInfo:Rt}=le(),_t=setTimeout((0,c.Z)(function*(){yield be(V),q.onEvent(Lt())}),500),ln=function(){var fi=(0,c.Z)(function*(on){clearTimeout(_t);const Ai=yield be(V);let wc=null;Ai&&on?.url&&(wc=function Ge(X,V){var q,Me;const tt=function lt(X){const V=it(X),q=V.link?decodeURIComponent(V.link):void 0,Me=it(q).link,tt=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return it(tt).link||tt||Me||q||X}(V);if(tt.includes("/__/auth/callback")){const Rt=it(tt),_t=Rt.firebaseError?function Te(X){try{return JSON.parse(X)}catch{return null}}(decodeURIComponent(Rt.firebaseError)):null,ln=null===(Me=null===(q=_t?.code)||void 0===q?void 0:q.split("auth/"))||void 0===Me?void 0:Me[1],Bt=ln?(0,N.aw)(ln):null;return Bt?{type:X.type,eventId:X.eventId,tenantId:X.tenantId,error:Bt,urlResponse:null,sessionId:null,postBody:null}:{type:X.type,eventId:X.eventId,tenantId:X.tenantId,sessionId:X.sessionId,urlResponse:tt,postBody:null}}return null}(Ai,on.url)),q.onEvent(wc||Lt())});return function(Ai){return fi.apply(this,arguments)}}();typeof Me<"u"&&"function"==typeof Me.subscribe&&Me.subscribe(null,ln);const Bt=tt,dr=`${Rt.packageName.toLowerCase()}://`;le().handleOpenURL=function(){var fi=(0,c.Z)(function*(on){if(on.toLowerCase().startsWith(dr)&&ln({url:on}),"function"==typeof Bt)try{Bt(on)}catch(Ai){console.error(Ai)}});return function(on){return fi.apply(this,arguments)}}()}};function Lt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aw)("no-auth-event")}}function mn(){var X;return(null===(X=self?.location)||void 0===X?void 0:X.protocol)||null}function yi(X=(0,ae.z$)()){return!("file:"!==mn()&&"ionic:"!==mn()&&"capacitor:"!==mn()||!X.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mo(){try{const X=self.localStorage,V=N.aI();if(X)return X.setItem(V,"1"),X.removeItem(V),!function qi(X=(0,ae.z$)()){return function Vr(){return(0,ae.w1)()&&11===document?.documentMode}()||function Jn(X=(0,ae.z$)()){return/Edge\/\d+/.test(X)}(X)}()||(0,ae.hl)()}catch{return Rr()&&(0,ae.hl)()}return!1}function Rr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function gr(){return(function Gt(){return"http:"===mn()||"https:"===mn()}()||(0,ae.ru)()||yi())&&!function kr(){return(0,ae.b$)()||(0,ae.UG)()}()&&Mo()&&!Rr()}function Ki(){return yi()&&typeof document<"u"}function Gn(){return(Gn=(0,c.Z)(function*(){return!!Ki()&&new Promise(X=>{const V=setTimeout(()=>{X(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),X(!0)})})})).apply(this,arguments)}const Ct={LOCAL:"local",NONE:"none",SESSION:"session"},Zn=N.ax,Hr="persistence";function Jr(X){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(X){yield X._initializationPromise;const V=Ft(),q=N.aA(Hr,X.config.apiKey,X.name);V&&V.setItem(q,X._getPersistence())})).apply(this,arguments)}function Ft(){var X;try{return(null===(X=function Xr(){return typeof window<"u"?window:null}())||void 0===X?void 0:X.sessionStorage)||null}catch{return null}}const Wt=N.ax;class Wn{constructor(){this.browserResolver=N.az(N.k),this.cordovaResolver=N.az($n),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(V){var q=this;return(0,c.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,q,Me,tt){var Rt=this;return(0,c.Z)(function*(){return yield Rt.selectUnderlyingResolver(),Rt.assertedUnderlyingResolver._openPopup(V,q,Me,tt)})()}_openRedirect(V,q,Me,tt){var Rt=this;return(0,c.Z)(function*(){return yield Rt.selectUnderlyingResolver(),Rt.assertedUnderlyingResolver._openRedirect(V,q,Me,tt)})()}_isIframeWebStorageSupported(V,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,q)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return Ki()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Wt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,c.Z)(function*(){if(V.underlyingResolver)return;const q=yield function Qr(){return Gn.apply(this,arguments)}();V.underlyingResolver=q?V.cordovaResolver:V.browserResolver})()}}function zr(X){return X.unwrap()}function hi(X){return Zi(X)}function Zi(X){const{_tokenResponse:V}=X instanceof ae.ZR?X.customData:X;if(!V)return null;if(!(X instanceof ae.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return N.P.credentialFromResult(X);const q=V.providerId;if(!q||q===N.o.PASSWORD)return null;let Me;switch(q){case N.o.GOOGLE:Me=N.Q;break;case N.o.FACEBOOK:Me=N.N;break;case N.o.GITHUB:Me=N.T;break;case N.o.TWITTER:Me=N.W;break;default:const{oauthIdToken:tt,oauthAccessToken:Rt,oauthTokenSecret:_t,pendingToken:ln,nonce:Bt}=V;return Rt||_t||tt||ln?ln?q.startsWith("saml.")?N.aL._create(q,ln):N.J._fromParams({providerId:q,signInMethod:q,pendingToken:ln,idToken:tt,accessToken:Rt}):new N.U(q).credential({idToken:tt,accessToken:Rt,rawNonce:Bt}):null}return X instanceof ae.ZR?Me.credentialFromError(X):Me.credentialFromResult(X)}function cn(X,V){return V.catch(q=>{throw q instanceof ae.ZR&&function Or(X,V){var q;const Me=null===(q=V.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new Ti(X,N.an(X,V));else if(Me){const tt=Zi(V),Rt=V;tt&&(Rt.credential=tt,Rt.tenantId=Me.tenantId||void 0,Rt.email=Me.email||void 0,Rt.phoneNumber=Me.phoneNumber||void 0)}}(X,q),q}).then(q=>{const tt=q.user;return{operationType:q.operationType,credential:hi(q),additionalUserInfo:N.al(q),user:Pr.getOrCreate(tt)}})}function po(X,V){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(X,V){const q=yield V;return{verificationId:q.verificationId,confirm:Me=>cn(X,q.confirm(Me))}})).apply(this,arguments)}class Ti{constructor(V,q){this.resolver=q,this.auth=function _r(X){return X.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return cn(zr(this.auth),this.resolver.resolveSignIn(V))}}class Pr{constructor(V){this._delegate=V,this.multiFactor=N.ao(V)}static getOrCreate(V){return Pr.USER_MAP.has(V)||Pr.USER_MAP.set(V,new Pr(V)),Pr.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var q=this;return(0,c.Z)(function*(){return cn(q.auth,N.Z(q._delegate,V))})()}linkWithPhoneNumber(V,q){var Me=this;return(0,c.Z)(function*(){return po(Me.auth,N.l(Me._delegate,V,q))})()}linkWithPopup(V){var q=this;return(0,c.Z)(function*(){return cn(q.auth,N.d(q._delegate,V,Wn))})()}linkWithRedirect(V){var q=this;return(0,c.Z)(function*(){return yield Jr(N.aE(q.auth)),N.g(q._delegate,V,Wn)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var q=this;return(0,c.Z)(function*(){return cn(q.auth,N._(q._delegate,V))})()}reauthenticateWithPhoneNumber(V,q){return po(this.auth,N.r(this._delegate,V,q))}reauthenticateWithPopup(V){return cn(this.auth,N.e(this._delegate,V,Wn))}reauthenticateWithRedirect(V){var q=this;return(0,c.Z)(function*(){return yield Jr(N.aE(q.auth)),N.h(q._delegate,V,Wn)})()}sendEmailVerification(V){return N.ab(this._delegate,V)}unlink(V){var q=this;return(0,c.Z)(function*(){return yield N.ak(q._delegate,V),q})()}updateEmail(V){return N.ag(this._delegate,V)}updatePassword(V){return N.ah(this._delegate,V)}updatePhoneNumber(V){return N.u(this._delegate,V)}updateProfile(V){return N.af(this._delegate,V)}verifyBeforeUpdateEmail(V,q){return N.ac(this._delegate,V,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Pr.USER_MAP=new WeakMap;const ht=N.ax;let Ke=(()=>{class X{constructor(q,Me){if(this.app=q,Me.isInitialized())return this._delegate=Me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:tt}=q.options;ht(tt,"invalid-api-key",{appName:q.name}),ht(tt,"invalid-api-key",{appName:q.name});const Rt=typeof window<"u"?Wn:void 0;this._delegate=Me.initialize({options:{persistence:qt(tt,q.name),popupRedirectResolver:Rt}}),this._delegate._updateErrorMap(N.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Pr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,Me){N.G(this._delegate,q,Me)}applyActionCode(q){return N.a2(this._delegate,q)}checkActionCode(q){return N.a3(this._delegate,q)}confirmPasswordReset(q,Me){return N.a1(this._delegate,q,Me)}createUserWithEmailAndPassword(q,Me){var tt=this;return(0,c.Z)(function*(){return cn(tt._delegate,N.a5(tt._delegate,q,Me))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return N.aa(this._delegate,q)}isSignInWithEmailLink(q){return N.a8(this._delegate,q)}getRedirectResult(){var q=this;return(0,c.Z)(function*(){ht(gr(),q._delegate,"operation-not-supported-in-this-environment");const Me=yield N.j(q._delegate,Wn);return Me?cn(q._delegate,Promise.resolve(Me)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function yn(X,V){(0,N.aE)(X)._logFramework(V)}(this._delegate,q)}onAuthStateChanged(q,Me,tt){const{next:Rt,error:_t,complete:ln}=bt(q,Me,tt);return this._delegate.onAuthStateChanged(Rt,_t,ln)}onIdTokenChanged(q,Me,tt){const{next:Rt,error:_t,complete:ln}=bt(q,Me,tt);return this._delegate.onIdTokenChanged(Rt,_t,ln)}sendSignInLinkToEmail(q,Me){return N.a7(this._delegate,q,Me)}sendPasswordResetEmail(q,Me){return N.a0(this._delegate,q,Me||void 0)}setPersistence(q){var Me=this;return(0,c.Z)(function*(){let tt;switch(function ir(X,V){Zn(Object.values(Ct).includes(V),X,"invalid-persistence-type"),(0,ae.b$)()?Zn(V!==Ct.SESSION,X,"unsupported-persistence-type"):(0,ae.UG)()?Zn(V===Ct.NONE,X,"unsupported-persistence-type"):Rr()?Zn(V===Ct.NONE||V===Ct.LOCAL&&(0,ae.hl)(),X,"unsupported-persistence-type"):Zn(V===Ct.NONE||Mo(),X,"unsupported-persistence-type")}(Me._delegate,q),q){case Ct.SESSION:tt=N.a;break;case Ct.LOCAL:tt=(yield N.az(N.i)._isAvailable())?N.i:N.b;break;case Ct.NONE:tt=N.L;break;default:return N.as("argument-error",{appName:Me._delegate.name})}return Me._delegate.setPersistence(tt)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return cn(this._delegate,N.X(this._delegate))}signInWithCredential(q){return cn(this._delegate,N.Y(this._delegate,q))}signInWithCustomToken(q){return cn(this._delegate,N.$(this._delegate,q))}signInWithEmailAndPassword(q,Me){return cn(this._delegate,N.a6(this._delegate,q,Me))}signInWithEmailLink(q,Me){return cn(this._delegate,N.a9(this._delegate,q,Me))}signInWithPhoneNumber(q,Me){return po(this._delegate,N.s(this._delegate,q,Me))}signInWithPopup(q){var Me=this;return(0,c.Z)(function*(){return ht(gr(),Me._delegate,"operation-not-supported-in-this-environment"),cn(Me._delegate,N.c(Me._delegate,q,Wn))})()}signInWithRedirect(q){var Me=this;return(0,c.Z)(function*(){return ht(gr(),Me._delegate,"operation-not-supported-in-this-environment"),yield Jr(Me._delegate),N.f(Me._delegate,q,Wn)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return N.a4(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return X.Persistence=Ct,X})();function bt(X,V,q){let Me=X;"function"!=typeof X&&({next:Me,error:V,complete:q}=X);const tt=Me;return{next:_t=>tt(_t&&Pr.getOrCreate(_t)),error:V,complete:q}}function qt(X,V){const q=function tn(X,V){const q=Ft();if(!q)return[];const Me=N.aA(Hr,X,V);switch(q.getItem(Me)){case Ct.NONE:return[N.L];case Ct.LOCAL:return[N.i,N.a];case Ct.SESSION:return[N.a];default:return[]}}(X,V);if(typeof self<"u"&&!q.includes(N.i)&&q.push(N.i),typeof window<"u")for(const Me of[N.b,N.a])q.includes(Me)||q.push(Me);return q.includes(N.L)||q.push(N.L),q}class en{constructor(){this.providerId="phone",this._delegate=new N.P(zr(M.Z.auth()))}static credential(V,q){return N.P.credential(V,q)}verifyPhoneNumber(V,q){return this._delegate.verifyPhoneNumber(V,q)}unwrap(){return this._delegate}}en.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,en.PROVIDER_ID=N.P.PROVIDER_ID;const In=N.ax;class ce{constructor(V,q,Me=M.Z.app()){var tt;In(null===(tt=Me.options)||void 0===tt?void 0:tt.apiKey,"invalid-api-key",{appName:Me.name}),this._delegate=new N.R(V,q,Me.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fe(X){X.INTERNAL.registerComponent(new he.wA("auth-compat",V=>{const q=V.getProvider("app-compat").getImmediate(),Me=V.getProvider("auth");return new Ke(q,Me)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.M,FacebookAuthProvider:N.N,GithubAuthProvider:N.T,GoogleAuthProvider:N.Q,OAuthProvider:N.U,SAMLAuthProvider:N.V,PhoneAuthProvider:en,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:ce,TwitterAuthProvider:N.W,Auth:Ke,AuthCredential:N.H,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),X.registerVersion("@firebase/auth-compat","0.3.0")}(M.Z)},8766:(de,te,R)=>{"use strict";R.d(te,{Lj:()=>je,X3:()=>Be});var c=R(5861);let N,ae;const he=new WeakMap,le=new WeakMap,se=new WeakMap,G=new WeakMap,W=new WeakMap;let Fe={get(Re,Ge,ge){if(Re instanceof IDBTransaction){if("done"===Ge)return le.get(Re);if("objectStoreNames"===Ge)return Re.objectStoreNames||se.get(Re);if("store"===Ge)return ge.objectStoreNames[1]?void 0:ge.objectStore(ge.objectStoreNames[0])}return Ne(Re[Ge])},set:(Re,Ge,ge)=>(Re[Ge]=ge,!0),has:(Re,Ge)=>Re instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in Re};function ke(Re){return"function"==typeof Re?function ot(Re){return Re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Re)?function(...Ge){return Re.apply(Pe(this),Ge),Ne(he.get(this))}:function(...Ge){return Ne(Re.apply(Pe(this),Ge))}:function(Ge,...ge){const ye=Re.call(Pe(this),Ge,...ge);return se.set(ye,Ge.sort?Ge.sort():[Ge]),Ne(ye)}}(Re):(Re instanceof IDBTransaction&&function Ae(Re){if(le.has(Re))return;const Ge=new Promise((ge,ye)=>{const Le=()=>{Re.removeEventListener("complete",Te),Re.removeEventListener("error",lt),Re.removeEventListener("abort",lt)},Te=()=>{ge(),Le()},lt=()=>{ye(Re.error||new DOMException("AbortError","AbortError")),Le()};Re.addEventListener("complete",Te),Re.addEventListener("error",lt),Re.addEventListener("abort",lt)});le.set(Re,Ge)}(Re),((Re,Ge)=>Ge.some(ge=>Re instanceof ge))(Re,function ne(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Re,Fe):Re)}function Ne(Re){if(Re instanceof IDBRequest)return function re(Re){const Ge=new Promise((ge,ye)=>{const Le=()=>{Re.removeEventListener("success",Te),Re.removeEventListener("error",lt)},Te=()=>{ge(Ne(Re.result)),Le()},lt=()=>{ye(Re.error),Le()};Re.addEventListener("success",Te),Re.addEventListener("error",lt)});return Ge.then(ge=>{ge instanceof IDBCursor&&he.set(ge,Re)}).catch(()=>{}),W.set(Ge,Re),Ge}(Re);if(G.has(Re))return G.get(Re);const Ge=ke(Re);return Ge!==Re&&(G.set(Re,Ge),W.set(Ge,Re)),Ge}const Pe=Re=>W.get(Re);function Be(Re,Ge,{blocked:ge,upgrade:ye,blocking:Le,terminated:Te}={}){const lt=indexedDB.open(Re,Ge),it=Ne(lt);return ye&&lt.addEventListener("upgradeneeded",kt=>{ye(Ne(lt.result),kt.oldVersion,kt.newVersion,Ne(lt.transaction))}),ge&&lt.addEventListener("blocked",()=>ge()),it.then(kt=>{Te&&kt.addEventListener("close",()=>Te()),Le&&kt.addEventListener("versionchange",()=>Le())}).catch(()=>{}),it}function je(Re,{blocked:Ge}={}){const ge=indexedDB.deleteDatabase(Re);return Ge&&ge.addEventListener("blocked",()=>Ge()),Ne(ge).then(()=>{})}const $e=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],at=new Map;function be(Re,Ge){if(!(Re instanceof IDBDatabase)||Ge in Re||"string"!=typeof Ge)return;if(at.get(Ge))return at.get(Ge);const ge=Ge.replace(/FromIndex$/,""),ye=Ge!==ge,Le=ze.includes(ge);if(!(ge in(ye?IDBIndex:IDBObjectStore).prototype)||!Le&&!$e.includes(ge))return;const Te=function(){var lt=(0,c.Z)(function*(it,...kt){const Hn=this.transaction(it,Le?"readwrite":"readonly");let $n=Hn.store;return ye&&($n=$n.index(kt.shift())),(yield Promise.all([$n[ge](...kt),Le&&Hn.done]))[0]});return function(kt){return lt.apply(this,arguments)}}();return at.set(Ge,Te),Te}!function Xe(Re){Fe=Re(Fe)}(Re=>({...Re,get:(Ge,ge,ye)=>be(Ge,ge)||Re.get(Ge,ge,ye),has:(Ge,ge)=>!!be(Ge,ge)||Re.has(Ge,ge)}))},5861:(de,te,R)=>{"use strict";function c(N,ae,ne,ee,he,le,se){try{var G=N[le](se),W=G.value}catch(re){return void ne(re)}G.done?ae(W):Promise.resolve(W).then(ee,he)}function M(N){return function(){var ae=this,ne=arguments;return new Promise(function(ee,he){var le=N.apply(ae,ne);function se(W){c(le,ee,he,se,G,"next",W)}function G(W){c(le,ee,he,se,G,"throw",W)}se(void 0)})}}R.d(te,{Z:()=>M})}},de=>{de(de.s=8478)}]);